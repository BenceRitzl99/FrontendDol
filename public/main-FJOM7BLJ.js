import{A as Jr,B as Mm,C as Nm,D as N,E as $e,F as ve,G as _u,H as Am,I as Xr,J as Fe,K as Wt,L as Ks,M as vu,N as Rm,O as Ai,P as eo,Q as Om,R as xm,S as vn,T as He,a as w,b as X,c as Ue,d as _m,e as zs,f as vm,g as ym,h as v,i as Ni,j as Ws,k as Dm,l as bm,m as be,n as wm,o as mu,p as Cm,q as Ot,r as Em,s as Im,t as qs,u as fe,v as Tm,w as Sm,x as st,y as _n,z as Zs}from"./chunk-DU3LGMPY.js";var Du=null;var yu=1,km=Symbol("SIGNAL");function Q(e){let n=Du;return Du=e,n}function Pm(){return Du}var bu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function mE(e){if(!(Tu(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===yu)){if(!e.producerMustRecompute(e)&&!Cu(e)){e.dirty=!1,e.lastCleanEpoch=yu;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=yu}}function wu(e){return e&&(e.nextProducerIndex=0),Q(e)}function Fm(e,n){if(Q(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Tu(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Iu(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Cu(e){Su(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],i=e.producerLastReadVersion[n];if(i!==t.version||(mE(t),i!==t.version))return!0}return!1}function Eu(e){if(Su(e),Tu(e))for(let n=0;n<e.producerNode.length;n++)Iu(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Iu(e,n){if(_E(e),e.liveConsumerNode.length===1&&vE(e))for(let i=0;i<e.producerNode.length;i++)Iu(e.producerNode[i],e.producerIndexOfThis[i]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[n],r=e.liveConsumerNode[n];Su(r),r.producerIndexOfThis[i]=n}}function Tu(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Su(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function _E(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function vE(e){return e.producerNode!==void 0}function yE(){throw new Error}var DE=yE;function Lm(e){DE=e}function M(e){return typeof e=="function"}function Ri(e){let t=e(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Qs=Ri(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function zn(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var ue=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(M(i))try{i()}catch(o){n=o instanceof Qs?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Vm(o)}catch(s){n=n??[],s instanceof Qs?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Qs(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Vm(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&zn(t,n)}remove(n){let{_finalizers:t}=this;t&&zn(t,n),n instanceof e&&n._removeParent(this)}};ue.EMPTY=(()=>{let e=new ue;return e.closed=!0,e})();var Mu=ue.EMPTY;function Ys(e){return e instanceof ue||e&&"closed"in e&&M(e.remove)&&M(e.add)&&M(e.unsubscribe)}function Vm(e){M(e)?e():e.unsubscribe()}var Dt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Oi={setTimeout(e,n,...t){let{delegate:i}=Oi;return i?.setTimeout?i.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=Oi;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Js(e){Oi.setTimeout(()=>{let{onUnhandledError:n}=Dt;if(n)n(e);else throw e})}function Wn(){}var Bm=Nu("C",void 0,void 0);function jm(e){return Nu("E",void 0,e)}function Um(e){return Nu("N",e,void 0)}function Nu(e,n,t){return{kind:e,value:n,error:t}}var qn=null;function xi(e){if(Dt.useDeprecatedSynchronousErrorHandling){let n=!qn;if(n&&(qn={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:i}=qn;if(qn=null,t)throw i}}else e()}function $m(e){Dt.useDeprecatedSynchronousErrorHandling&&qn&&(qn.errorThrown=!0,qn.error=e)}var Zn=class extends ue{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Ys(n)&&n.add(this)):this.destination=CE}static create(n,t,i){return new qt(n,t,i)}next(n){this.isStopped?Ru(Um(n),this):this._next(n)}error(n){this.isStopped?Ru(jm(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Ru(Bm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},bE=Function.prototype.bind;function Au(e,n){return bE.call(e,n)}var Ou=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(i){Xs(i)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(i){Xs(i)}else Xs(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Xs(t)}}},qt=class extends Zn{constructor(n,t,i){super();let r;if(M(n)||!n)r={next:n??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Dt.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&Au(n.next,o),error:n.error&&Au(n.error,o),complete:n.complete&&Au(n.complete,o)}):r=n}this.destination=new Ou(r)}};function Xs(e){Dt.useDeprecatedSynchronousErrorHandling?$m(e):Js(e)}function wE(e){throw e}function Ru(e,n){let{onStoppedNotification:t}=Dt;t&&Oi.setTimeout(()=>t(e,n))}var CE={closed:!0,next:Wn,error:wE,complete:Wn};var ki=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Se(e){return e}function xu(...e){return ku(e)}function ku(e){return e.length===0?Se:e.length===1?e[0]:function(t){return e.reduce((i,r)=>r(i),t)}}var A=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new e;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=IE(t)?t:new qt(t,i,r);return xi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=Hm(i),new i((r,o)=>{let s=new qt({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[ki](){return this}pipe(...t){return ku(t)(this)}toPromise(t){return t=Hm(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=n=>new e(n),e})();function Hm(e){var n;return(n=e??Dt.Promise)!==null&&n!==void 0?n:Promise}function EE(e){return e&&M(e.next)&&M(e.error)&&M(e.complete)}function IE(e){return e&&e instanceof Zn||EE(e)&&Ys(e)}function Pu(e){return M(e?.lift)}function P(e){return n=>{if(Pu(n))return n.lift(function(t){try{return e(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function x(e,n,t,i,r){return new Fu(e,n,t,i,r)}var Fu=class extends Zn{constructor(n,t,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Pi(){return P((e,n)=>{let t=null;e._refCount++;let i=x(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let r=e._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});e.subscribe(i),i.closed||(t=e.connect())})}var Fi=class extends A{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Pu(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new ue;let t=this.getSubject();n.add(this.source.subscribe(x(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=ue.EMPTY)}return n}refCount(){return Pi()(this)}};var Gm=Ri(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Y=(()=>{class e extends A{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new ea(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Gm}next(t){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Mu:(this.currentObservers=null,o.push(t),new ue(()=>{this.currentObservers=null,zn(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new A;return t.source=this,t}}return e.create=(n,t)=>new ea(n,t),e})(),ea=class extends Y{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,n)}error(n){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&i!==void 0?i:Mu}};var pe=class extends Y{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:i}=this;if(n)throw t;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}};var to={now(){return(to.delegate||Date).now()},delegate:void 0};var ta=class extends Y{constructor(n=1/0,t=1/0,i=to){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){let{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(n),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!n.closed;s+=i?1:2)n.next(o[s]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){let{_bufferSize:n,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*n;if(n<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=t.now(),a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}};var na=class extends ue{constructor(n,t){super()}schedule(n,t=0){return this}};var no={setInterval(e,n,...t){let{delegate:i}=no;return i?.setInterval?i.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){let{delegate:n}=no;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};var Li=class extends na{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var i;if(this.closed)return this;this.state=n;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(n,t,i=0){return no.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&no.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(n,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let i=!1,r;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:n,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,zn(i,this),n!=null&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}};var Vi=class e{constructor(n,t=e.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,i){return new this.schedulerActionCtor(this,n).schedule(i,t)}};Vi.now=to.now;var Bi=class extends Vi{constructor(n,t=Vi.now){super(n,t),this.actions=[],this._active=!1}flush(n){let{actions:t}=this;if(this._active){t.push(n);return}let i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=t.shift());if(this._active=!1,i){for(;n=t.shift();)n.unsubscribe();throw i}}};var ji=new Bi(Li),Lu=ji;var ia=class extends Li{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}schedule(n,t=0){return t>0?super.schedule(n,t):(this.delay=t,this.state=n,this.scheduler.flush(this),this)}execute(n,t){return t>0||this.closed?super.execute(n,t):this._execute(n,t)}requestAsyncId(n,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(n,t,i):(n.flush(this),0)}};var ra=class extends Bi{};var Vu=new ra(ia);var ye=new A(e=>e.complete());function oa(e){return e&&M(e.schedule)}function Bu(e){return e[e.length-1]}function Ui(e){return M(Bu(e))?e.pop():void 0}function xt(e){return oa(Bu(e))?e.pop():void 0}function zm(e,n){return typeof Bu(e)=="number"?e.pop():n}var $i=e=>e&&typeof e.length=="number"&&typeof e!="function";function sa(e){return M(e?.then)}function aa(e){return M(e[ki])}function la(e){return Symbol.asyncIterator&&M(e?.[Symbol.asyncIterator])}function ca(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function TE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ua=TE();function da(e){return M(e?.[ua])}function ha(e){return vm(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:i,done:r}=yield zs(t.read());if(r)return yield zs(void 0);yield yield zs(i)}}finally{t.releaseLock()}})}function fa(e){return M(e?.getReader)}function q(e){if(e instanceof A)return e;if(e!=null){if(aa(e))return SE(e);if($i(e))return ME(e);if(sa(e))return NE(e);if(la(e))return Wm(e);if(da(e))return AE(e);if(fa(e))return RE(e)}throw ca(e)}function SE(e){return new A(n=>{let t=e[ki]();if(M(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ME(e){return new A(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function NE(e){return new A(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Js)})}function AE(e){return new A(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function Wm(e){return new A(n=>{OE(e,n).catch(t=>n.error(t))})}function RE(e){return Wm(ha(e))}function OE(e,n){var t,i,r,o;return _m(this,void 0,void 0,function*(){try{for(t=ym(e);i=yield t.next(),!i.done;){let s=i.value;if(n.next(s),n.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}n.complete()})}function Ge(e,n,t,i=0,r=!1){let o=n.schedule(function(){t(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function at(e,n=0){return P((t,i)=>{t.subscribe(x(i,r=>Ge(i,e,()=>i.next(r),n),()=>Ge(i,e,()=>i.complete(),n),r=>Ge(i,e,()=>i.error(r),n)))})}function bt(e,n=0){return P((t,i)=>{i.add(e.schedule(()=>t.subscribe(i),n))})}function qm(e,n){return q(e).pipe(bt(n),at(n))}function Zm(e,n){return q(e).pipe(bt(n),at(n))}function Km(e,n){return new A(t=>{let i=0;return n.schedule(function(){i===e.length?t.complete():(t.next(e[i++]),t.closed||this.schedule())})})}function Qm(e,n){return new A(t=>{let i;return Ge(t,n,()=>{i=e[ua](),Ge(t,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>M(i?.return)&&i.return()})}function pa(e,n){if(!e)throw new Error("Iterable cannot be null");return new A(t=>{Ge(t,n,()=>{let i=e[Symbol.asyncIterator]();Ge(t,n,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Ym(e,n){return pa(ha(e),n)}function Jm(e,n){if(e!=null){if(aa(e))return qm(e,n);if($i(e))return Km(e,n);if(sa(e))return Zm(e,n);if(la(e))return pa(e,n);if(da(e))return Qm(e,n);if(fa(e))return Ym(e,n)}throw ca(e)}function ee(e,n){return n?Jm(e,n):q(e)}function E(...e){let n=xt(e);return ee(e,n)}function Hi(e,n){let t=M(e)?e:()=>e,i=r=>r.error(t());return new A(n?r=>n.schedule(i,0,r):i)}function ju(e){return!!e&&(e instanceof A||M(e.lift)&&M(e.subscribe))}var Zt=Ri(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Xm(e){return e instanceof Date&&!isNaN(e)}function S(e,n){return P((t,i)=>{let r=0;t.subscribe(x(i,o=>{i.next(e.call(n,o,r++))}))})}var{isArray:xE}=Array;function kE(e,n){return xE(n)?e(...n):e(n)}function ga(e){return S(n=>kE(e,n))}var{isArray:PE}=Array,{getPrototypeOf:FE,prototype:LE,keys:VE}=Object;function e_(e){if(e.length===1){let n=e[0];if(PE(n))return{args:n,keys:null};if(BE(n)){let t=VE(n);return{args:t.map(i=>n[i]),keys:t}}}return{args:e,keys:null}}function BE(e){return e&&typeof e=="object"&&FE(e)===LE}function t_(e,n){return e.reduce((t,i,r)=>(t[i]=n[r],t),{})}function Gi(...e){let n=xt(e),t=Ui(e),{args:i,keys:r}=e_(e);if(i.length===0)return ee([],n);let o=new A(jE(i,n,r?s=>t_(r,s):Se));return t?o.pipe(ga(t)):o}function jE(e,n,t=Se){return i=>{n_(n,()=>{let{length:r}=e,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)n_(n,()=>{let c=ee(e[l],n),u=!1;c.subscribe(x(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function n_(e,n,t){e?Ge(t,e,n):n()}function i_(e,n,t,i,r,o,s,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&n.complete()},f=m=>c<i?p(m):l.push(m),p=m=>{o&&n.next(m),c++;let y=!1;q(t(m,u++)).subscribe(x(n,T=>{r?.(T),o?f(T):n.next(T)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;l.length&&c<i;){let T=l.shift();s?Ge(n,s,()=>p(T)):p(T)}h()}catch(T){n.error(T)}}))};return e.subscribe(x(n,f,()=>{d=!0,h()})),()=>{a?.()}}function le(e,n,t=1/0){return M(n)?le((i,r)=>S((o,s)=>n(i,o,r,s))(q(e(i,r))),t):(typeof n=="number"&&(t=n),P((i,r)=>i_(i,r,e,t)))}function yn(e=1/0){return le(Se,e)}function r_(){return yn(1)}function Dn(...e){return r_()(ee(e,xt(e)))}function ma(e){return new A(n=>{q(e()).subscribe(n)})}var UE=["addListener","removeListener"],$E=["addEventListener","removeEventListener"],HE=["on","off"];function lt(e,n,t,i){if(M(t)&&(i=t,t=void 0),i)return lt(e,n,t).pipe(ga(i));let[r,o]=WE(e)?$E.map(s=>a=>e[s](n,a,t)):GE(e)?UE.map(o_(e,n)):zE(e)?HE.map(o_(e,n)):[];if(!r&&$i(e))return le(s=>lt(s,n,t))(q(e));if(!r)throw new TypeError("Invalid event target");return new A(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function o_(e,n){return t=>i=>e[t](n,i)}function GE(e){return M(e.addListener)&&M(e.removeListener)}function zE(e){return M(e.on)&&M(e.off)}function WE(e){return M(e.addEventListener)&&M(e.removeEventListener)}function Uu(e=0,n,t=Lu){let i=-1;return n!=null&&(oa(n)?t=n:i=n),new A(r=>{let o=Xm(e)?+e-t.now():e;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Kn(...e){let n=xt(e),t=zm(e,1/0),i=e;return i.length?i.length===1?q(i[0]):yn(t)(ee(i,n)):ye}var{isArray:qE}=Array;function _a(e){return e.length===1&&qE(e[0])?e[0]:e}function he(e,n){return P((t,i)=>{let r=0;t.subscribe(x(i,o=>e.call(n,o,r++)&&i.next(o)))})}function $u(...e){return e=_a(e),e.length===1?q(e[0]):new A(ZE(e))}function ZE(e){return n=>{let t=[];for(let i=0;t&&!n.closed&&i<e.length;i++)t.push(q(e[i]).subscribe(x(n,r=>{if(t){for(let o=0;o<t.length;o++)o!==i&&t[o].unsubscribe();t=null}n.next(r)})))}}function io(...e){let n=Ui(e),t=_a(e);return t.length?new A(i=>{let r=t.map(()=>[]),o=t.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<t.length;s++)q(t[s]).subscribe(x(i,a=>{if(r[s].push(a),r.every(l=>l.length)){let l=r.map(c=>c.shift());i.next(n?n(...l):l),r.some((c,u)=>!c.length&&o[u])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):ye}function bn(e){return P((n,t)=>{let i=null,r=!1,o;i=n.subscribe(x(t,void 0,void 0,s=>{o=q(e(s,bn(e)(n))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function s_(e,n,t,i,r){return(o,s)=>{let a=t,l=n,c=0;o.subscribe(x(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function Kt(e,n){return M(n)?le(e,n,1):le(e,1)}function wn(e){return P((n,t)=>{let i=!1;n.subscribe(x(t,r=>{i=!0,t.next(r)},()=>{i||t.next(e),t.complete()}))})}function ze(e){return e<=0?()=>ye:P((n,t)=>{let i=0;n.subscribe(x(t,r=>{++i<=e&&(t.next(r),e<=i&&t.complete())}))})}function Hu(e){return S(()=>e)}function va(e,n=Se){return e=e??KE,P((t,i)=>{let r,o=!0;t.subscribe(x(i,s=>{let a=n(s);(o||!e(r,a))&&(o=!1,r=a,i.next(s))}))})}function KE(e,n){return e===n}function ya(e=QE){return P((n,t)=>{let i=!1;n.subscribe(x(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(e())))})}function QE(){return new Zt}function Gu(...e){return n=>Dn(n,E(...e))}function Cn(e){return P((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function ct(e,n){let t=arguments.length>=2;return i=>i.pipe(e?he((r,o)=>e(r,o,i)):Se,ze(1),t?wn(n):ya(()=>new Zt))}function zi(e){return e<=0?()=>ye:P((n,t)=>{let i=[];n.subscribe(x(t,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function zu(e,n){let t=arguments.length>=2;return i=>i.pipe(e?he((r,o)=>e(r,o,i)):Se,zi(1),t?wn(n):ya(()=>new Zt))}function Wi(e,n){return P(s_(e,n,arguments.length>=2,!0))}function ro(e={}){let{connector:n=()=>new Y,resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return o=>{let s,a,l,c=0,u=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},p=()=>{let m=s;f(),m?.unsubscribe()};return P((m,y)=>{c++,!d&&!u&&h();let T=l=l??n();y.add(()=>{c--,c===0&&!d&&!u&&(a=Wu(p,r))}),T.subscribe(y),!s&&c>0&&(s=new qt({next:R=>T.next(R),error:R=>{d=!0,h(),a=Wu(f,t,R),T.error(R)},complete:()=>{u=!0,h(),a=Wu(f,i),T.complete()}}),q(m).subscribe(s))})(o)}}function Wu(e,n,...t){if(n===!0){e();return}if(n===!1)return;let i=new qt({next:()=>{i.unsubscribe(),e()}});return q(n(...t)).subscribe(i)}function Da(e,n,t){let i,r=!1;return e&&typeof e=="object"?{bufferSize:i=1/0,windowTime:n=1/0,refCount:r=!1,scheduler:t}=e:i=e??1/0,ro({connector:()=>new ta(i,n,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function qu(e){return P((n,t)=>{let i=!1,r=0;n.subscribe(x(t,o=>(i||(i=!e(o,r++)))&&t.next(o)))})}function ba(...e){let n=xt(e);return P((t,i)=>{(n?Dn(e,t,n):Dn(e,t)).subscribe(i)})}function te(e,n){return P((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(x(i,l=>{r?.unsubscribe();let c=0,u=o++;q(e(l,u)).subscribe(r=x(i,d=>i.next(n?n(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function wa(e,n){return M(n)?te(()=>e,n):te(()=>e)}function Oe(e){return P((n,t)=>{q(e).subscribe(x(t,()=>t.complete(),Wn)),!t.closed&&n.subscribe(t)})}function de(e,n,t){let i=M(e)||n||t?{next:e,error:n,complete:t}:e;return i?P((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(x(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Se}function qi(...e){let n=Ui(e);return P((t,i)=>{let r=e.length,o=new Array(r),s=e.map(()=>!1),a=!1;for(let l=0;l<r;l++)q(e[l]).subscribe(x(i,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(Se))&&(s=null))},Wn));t.subscribe(x(i,l=>{if(a){let c=[l,...o];i.next(n?n(...c):c)}}))})}var YE="https://g.co/ng/security#xss",I=class extends Error{constructor(n,t){super(il(n,t)),this.code=n}};function il(e,n){return`${`NG0${Math.abs(e)}`}${n?": "+n:""}`}function _o(e){return{toString:e}.toString()}var Ca="__parameters__";function JE(e){return function(...t){if(e){let i=e(...t);for(let r in i)this[r]=i[r]}}}function $_(e,n,t){return _o(()=>{let i=JE(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(Ca)?l[Ca]:Object.defineProperty(l,Ca,{value:[]})[Ca];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var Ke=globalThis;function ne(e){for(let n in e)if(e[n]===ne)return n;throw Error("Could not find renamed property on target object.")}function Le(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Le).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let n=e.toString();if(n==null)return""+n;let t=n.indexOf(`
`);return t===-1?n:n.substring(0,t)}function sd(e,n){return e==null||e===""?n===null?"":n:n==null||n===""?e:e+" "+n}var XE=ne({__forward_ref__:ne});function rl(e){return e.__forward_ref__=rl,e.toString=function(){return Le(this())},e}function ut(e){return H_(e)?e():e}function H_(e){return typeof e=="function"&&e.hasOwnProperty(XE)&&e.__forward_ref__===rl}function D(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function F(e){return{providers:e.providers||[],imports:e.imports||[]}}function ol(e){return a_(e,z_)||a_(e,W_)}function G_(e){return ol(e)!==null}function a_(e,n){return e.hasOwnProperty(n)?e[n]:null}function e1(e){let n=e&&(e[z_]||e[W_]);return n||null}function l_(e){return e&&(e.hasOwnProperty(c_)||e.hasOwnProperty(t1))?e[c_]:null}var z_=ne({\u0275prov:ne}),c_=ne({\u0275inj:ne}),W_=ne({ngInjectableDef:ne}),t1=ne({ngInjectorDef:ne}),b=class{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=D({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function q_(e){return e&&!!e.\u0275providers}var n1=ne({\u0275cmp:ne}),i1=ne({\u0275dir:ne}),r1=ne({\u0275pipe:ne}),o1=ne({\u0275mod:ne}),Oa=ne({\u0275fac:ne}),so=ne({__NG_ELEMENT_ID__:ne}),u_=ne({__NG_ENV_ID__:ne});function ih(e){return typeof e=="string"?e:e==null?"":String(e)}function s1(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():ih(e)}function a1(e,n){let t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new I(-200,e)}function rh(e,n){throw new I(-201,!1)}var U=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(U||{}),ad;function Z_(){return ad}function We(e){let n=ad;return ad=e,n}function K_(e,n,t){let i=ol(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&U.Optional)return null;if(n!==void 0)return n;rh(e,"Injector")}var l1={},lo=l1,ld="__NG_DI_FLAG__",xa="ngTempTokenPath",c1="ngTokenPath",u1=/\n/gm,d1="\u0275",d_="__source",Ji;function h1(){return Ji}function En(e){let n=Ji;return Ji=e,n}function f1(e,n=U.Default){if(Ji===void 0)throw new I(-203,!1);return Ji===null?K_(e,void 0,n):Ji.get(e,n&U.Optional?null:void 0,n)}function _(e,n=U.Default){return(Z_()||f1)(ut(e),n)}function g(e,n=U.Default){return _(e,sl(n))}function sl(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function cd(e){let n=[];for(let t=0;t<e.length;t++){let i=ut(e[t]);if(Array.isArray(i)){if(i.length===0)throw new I(900,!1);let r,o=U.Default;for(let s=0;s<i.length;s++){let a=i[s],l=p1(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}n.push(_(r,o))}else n.push(_(i))}return n}function Q_(e,n){return e[ld]=n,e.prototype[ld]=n,e}function p1(e){return e[ld]}function g1(e,n,t,i){let r=e[xa];throw n[d_]&&r.unshift(n[d_]),e.message=m1(`
`+e.message,r,t,i),e[c1]=r,e[xa]=null,e}function m1(e,n,t,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==d1?e.slice(2):e;let r=Le(n);if(Array.isArray(n))r=n.map(Le).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Le(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${e.replace(u1,`
  `)}`}var lr=Q_($_("Optional"),8);var oh=Q_($_("SkipSelf"),4);function Xn(e,n){let t=e.hasOwnProperty(Oa);return t?e[Oa]:null}function _1(e,n,t){if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=n[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function v1(e){return e.flat(Number.POSITIVE_INFINITY)}function sh(e,n){e.forEach(t=>Array.isArray(t)?sh(t,n):n(t))}function Y_(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function ka(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function y1(e,n){let t=[];for(let i=0;i<e;i++)t.push(n);return t}function D1(e,n,t,i){let r=e.length;if(r==n)e.push(t,i);else if(r===1)e.push(i,e[0]),e[0]=t;else{for(r--,e.push(e[r-1],e[r]);r>n;){let o=r-2;e[r]=e[o],r--}e[n]=t,e[n+1]=i}}function ah(e,n,t){let i=vo(e,n);return i>=0?e[i|1]=t:(i=~i,D1(e,i,n,t)),i}function Zu(e,n){let t=vo(e,n);if(t>=0)return e[t|1]}function vo(e,n){return b1(e,n,1)}function b1(e,n,t){let i=0,r=e.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<t];if(n===s)return o<<t;s>n?r=o:i=o+1}return~(r<<t)}var co={},Qe=[],er=new b(""),J_=new b("",-1),X_=new b(""),Pa=class{get(n,t=lo){if(t===lo){let i=new Error(`NullInjectorError: No provider for ${Le(n)}!`);throw i.name="NullInjectorError",i}return t}},ev=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ev||{}),Ft=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ft||{}),Tn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Tn||{});function w1(e,n,t){let i=e.length;for(;;){let r=e.indexOf(n,t);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=n.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}t=r+1}}function ud(e,n,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];e.setAttribute(n,s,a,o)}else{let o=r,s=t[++i];E1(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),i++}}return i}function C1(e){return e===3||e===4||e===6}function E1(e){return e.charCodeAt(0)===64}function lh(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let i=0;i<n.length;i++){let r=n[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?h_(e,t,r,null,n[++i]):h_(e,t,r,null,null))}}return e}function h_(e,n,t,i,r){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(e[o+1]=r);return}else if(i===e[o+1]){e[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),i!==null&&e.splice(o++,0,i),r!==null&&e.splice(o++,0,r)}var tv="ng-template";function I1(e,n,t,i){let r=0;if(i){for(;r<n.length&&typeof n[r]=="string";r+=2)if(n[r]==="class"&&w1(n[r+1].toLowerCase(),t,0)!==-1)return!0}else if(ch(e))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&typeof(o=n[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function ch(e){return e.type===4&&e.value!==tv}function T1(e,n,t){let i=e.type===4&&!t?tv:e.value;return n===i}function S1(e,n,t){let i=4,r=e.attrs,o=r!==null?A1(r):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!wt(i)&&!wt(l))return!1;if(s&&wt(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!T1(e,l,t)||l===""&&n.length===1){if(wt(i))return!1;s=!0}}else if(i&8){if(r===null||!I1(e,r,l,t)){if(wt(i))return!1;s=!0}}else{let c=n[++a],u=M1(l,r,ch(e),t);if(u===-1){if(wt(i))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=r[u+1].toLowerCase(),i&2&&c!==d){if(wt(i))return!1;s=!0}}}}return wt(i)||s}function wt(e){return(e&1)===0}function M1(e,n,t,i){if(n===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<n.length;){let s=n[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++r];for(;typeof a=="string";)a=n[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return R1(n,e)}function nv(e,n,t=!1){for(let i=0;i<n.length;i++)if(S1(e,n[i],t))return!0;return!1}function N1(e){let n=e.attrs;if(n!=null){let t=n.indexOf(5);if(!(t&1))return n[t+1]}return null}function A1(e){for(let n=0;n<e.length;n++){let t=e[n];if(C1(t))return n}return e.length}function R1(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let i=e[t];if(typeof i=="number")return-1;if(i===n)return t;t++}return-1}function O1(e,n){e:for(let t=0;t<n.length;t++){let i=n[t];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function f_(e,n){return e?":not("+n.trim()+")":n}function x1(e){let n=e[0],t=1,i=2,r="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(i&2){let a=e[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!wt(s)&&(n+=f_(o,r),r=""),i=s,o=o||!wt(i);t++}return r!==""&&(n+=f_(o,r)),n}function k1(e){return e.map(x1).join(",")}function P1(e){let n=[],t=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&n.push(o,e[++i]):r===8&&t.push(o);else{if(!wt(r))break;r=o}i++}return{attrs:n,classes:t}}function Je(e){return _o(()=>{let n=lv(e),t=X(w({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ev.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ft.Emulated,styles:e.styles||Qe,_:null,schemas:e.schemas||null,tView:null,id:""});cv(t);let i=e.dependencies;return t.directiveDefs=g_(i,!1),t.pipeDefs=g_(i,!0),t.id=V1(t),t})}function F1(e){return Qt(e)||rv(e)}function L1(e){return e!==null}function L(e){return _o(()=>({type:e.type,bootstrap:e.bootstrap||Qe,declarations:e.declarations||Qe,imports:e.imports||Qe,exports:e.exports||Qe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function p_(e,n){if(e==null)return co;let t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a=Tn.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),n?(t[o]=a!==Tn.None?[i,a]:i,n[o]=s):t[o]=i}return t}function li(e){return _o(()=>{let n=lv(e);return cv(n),n})}function iv(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Qt(e){return e[n1]||null}function rv(e){return e[i1]||null}function ov(e){return e[r1]||null}function sv(e){let n=Qt(e)||rv(e)||ov(e);return n!==null?n.standalone:!1}function av(e,n){let t=e[o1]||null;if(!t&&n===!0)throw new Error(`Type ${Le(e)} does not have '\u0275mod' property.`);return t}function lv(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||co,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||Qe,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:p_(e.inputs,n),outputs:p_(e.outputs),debugInfo:null}}function cv(e){e.features?.forEach(n=>n(e))}function g_(e,n){if(!e)return null;let t=n?ov:F1;return()=>(typeof e=="function"?e():e).map(i=>t(i)).filter(L1)}function V1(e){let n=0,t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let r of t)n=Math.imul(31,n)+r.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function al(e){return{\u0275providers:e}}function B1(...e){return{\u0275providers:uv(!0,e),\u0275fromNgModule:!0}}function uv(e,...n){let t=[],i=new Set,r,o=s=>{t.push(s)};return sh(n,s=>{let a=s;dd(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&dv(r,o),t}function dv(e,n){for(let t=0;t<e.length;t++){let{ngModule:i,providers:r}=e[t];uh(r,o=>{n(o,i)})}}function dd(e,n,t,i){if(e=ut(e),!e)return!1;let r=null,o=l_(e),s=!o&&Qt(e);if(!o&&!s){let l=e.ngModule;if(o=l_(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)dd(c,n,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{sh(o.imports,u=>{dd(u,n,t,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&dv(c,n)}if(!a){let c=Xn(r)||(()=>new r);n({provide:r,useFactory:c,deps:Qe},r),n({provide:X_,useValue:r,multi:!0},r),n({provide:er,useValue:()=>_(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=e;uh(l,u=>{n(u,c)})}}else return!1;return r!==e&&e.providers!==void 0}function uh(e,n){for(let t of e)q_(t)&&(t=t.\u0275providers),Array.isArray(t)?uh(t,n):n(t)}var j1=ne({provide:String,useValue:ne});function hv(e){return e!==null&&typeof e=="object"&&j1 in e}function U1(e){return!!(e&&e.useExisting)}function $1(e){return!!(e&&e.useFactory)}function hd(e){return typeof e=="function"}var ll=new b(""),Sa={},H1={},Ku;function cl(){return Ku===void 0&&(Ku=new Pa),Ku}var we=class{},uo=class extends we{get destroyed(){return this._destroyed}constructor(n,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,pd(n,s=>this.processProvider(s)),this.records.set(J_,Zi(void 0,this)),r.has("environment")&&this.records.set(we,Zi(void 0,this));let o=this.records.get(ll);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(X_,Qe,U.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let n=Q(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Q(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();let t=En(this),i=We(void 0),r;try{return n()}finally{En(t),We(i)}}get(n,t=lo,i=U.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(u_))return n[u_](this);i=sl(i);let r,o=En(this),s=We(void 0);try{if(!(i&U.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=K1(n)&&ol(n);c&&this.injectableDefInScope(c)?l=Zi(fd(n),Sa):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let a=i&U.Self?cl():this.parent;return t=i&U.Optional&&t===lo?null:t,a.get(n,t)}catch(a){if(a.name==="NullInjectorError"){if((a[xa]=a[xa]||[]).unshift(Le(n)),o)throw a;return g1(a,n,"R3InjectorError",this.source)}else throw a}finally{We(s),En(o)}}resolveInjectorInitializers(){let n=Q(null),t=En(this),i=We(void 0),r;try{let o=this.get(er,Qe,U.Self);for(let s of o)s()}finally{En(t),We(i),Q(n)}}toString(){let n=[],t=this.records;for(let i of t.keys())n.push(Le(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(n){n=ut(n);let t=hd(n)?n:ut(n&&n.provide),i=z1(n);if(!hd(n)&&n.multi===!0){let r=this.records.get(t);r||(r=Zi(void 0,Sa,!0),r.factory=()=>cd(r.multi),this.records.set(t,r)),t=n,r.multi.push(n)}this.records.set(t,i)}hydrate(n,t){let i=Q(null);try{return t.value===Sa&&(t.value=H1,t.value=t.factory()),typeof t.value=="object"&&t.value&&Z1(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Q(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=ut(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function fd(e){let n=ol(e),t=n!==null?n.factory:Xn(e);if(t!==null)return t;if(e instanceof b)throw new I(204,!1);if(e instanceof Function)return G1(e);throw new I(204,!1)}function G1(e){if(e.length>0)throw new I(204,!1);let t=e1(e);return t!==null?()=>t.factory(e):()=>new e}function z1(e){if(hv(e))return Zi(void 0,e.useValue);{let n=W1(e);return Zi(n,Sa)}}function W1(e,n,t){let i;if(hd(e)){let r=ut(e);return Xn(r)||fd(r)}else if(hv(e))i=()=>ut(e.useValue);else if($1(e))i=()=>e.useFactory(...cd(e.deps||[]));else if(U1(e))i=()=>_(ut(e.useExisting));else{let r=ut(e&&(e.useClass||e.provide));if(q1(e))i=()=>new r(...cd(e.deps));else return Xn(r)||fd(r)}return i}function Zi(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function q1(e){return!!e.deps}function Z1(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function K1(e){return typeof e=="function"||typeof e=="object"&&e instanceof b}function pd(e,n){for(let t of e)Array.isArray(t)?pd(t,n):t&&q_(t)?pd(t.\u0275providers,n):n(t)}function pt(e,n){e instanceof uo&&e.assertNotDestroyed();let t,i=En(e),r=We(void 0);try{return n()}finally{En(i),We(r)}}function fv(){return Z_()!==void 0||h1()!=null}function Q1(e){if(!fv())throw new I(-203,!1)}function Y1(e){let n=Ke.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function J1(e){return typeof e=="function"}var rn=0,B=1,O=2,xe=3,Et=4,qe=5,ho=6,Fa=7,Lt=8,tr=9,Yt=10,Ce=11,fo=12,m_=13,cr=14,ht=15,ei=16,Ki=17,Jt=18,ul=19,pv=20,In=21,Qu=22,dt=23,ft=25,gv=1;var ti=7,La=8,nr=9,Ye=10,Va=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Va||{});function Yn(e){return Array.isArray(e)&&typeof e[gv]=="object"}function on(e){return Array.isArray(e)&&e[gv]===!0}function mv(e){return(e.flags&4)!==0}function dl(e){return e.componentOffset>-1}function dh(e){return(e.flags&1)===1}function yo(e){return!!e.template}function gd(e){return(e[O]&512)!==0}var md=class{constructor(n,t,i){this.previousValue=n,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function _v(e,n,t,i){n!==null?n.applyValueToInputSignal(n,i):e[t]=i}function ur(){return vv}function vv(e){return e.type.prototype.ngOnChanges&&(e.setInput=eI),X1}ur.ngInherit=!0;function X1(){let e=Dv(this),n=e?.current;if(n){let t=e.previous;if(t===co)e.previous=n;else for(let i in n)t[i]=n[i];e.current=null,this.ngOnChanges(n)}}function eI(e,n,t,i,r){let o=this.declaredInputs[i],s=Dv(e)||tI(e,{previous:co,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new md(c&&c.currentValue,t,l===co),_v(e,n,r,t)}var yv="__ngSimpleChanges__";function Dv(e){return e[yv]||null}function tI(e,n){return e[yv]=n}var __=null;var kt=function(e,n,t){__?.(e,n,t)},nI="svg",iI="math";function Vt(e){for(;Array.isArray(e);)e=e[rn];return e}function bv(e,n){return Vt(n[e])}function gt(e,n){return Vt(n[e.index])}function wv(e,n){return e.data[n]}function rI(e,n){return e[n]}function ci(e,n){let t=n[e];return Yn(t)?t:t[rn]}function oI(e){return(e[O]&4)===4}function hh(e){return(e[O]&128)===128}function sI(e){return on(e[xe])}function Ba(e,n){return n==null?null:e[n]}function Cv(e){e[Ki]=0}function Ev(e){e[O]&1024||(e[O]|=1024,hh(e)&&fl(e))}function aI(e,n){for(;e>0;)n=n[cr],e--;return n}function hl(e){return!!(e[O]&9216||e[dt]?.dirty)}function _d(e){e[Yt].changeDetectionScheduler?.notify(8),e[O]&64&&(e[O]|=1024),hl(e)&&fl(e)}function fl(e){e[Yt].changeDetectionScheduler?.notify(0);let n=ni(e);for(;n!==null&&!(n[O]&8192||(n[O]|=8192,!hh(n)));)n=ni(n)}function Iv(e,n){if((e[O]&256)===256)throw new I(911,!1);e[In]===null&&(e[In]=[]),e[In].push(n)}function lI(e,n){if(e[In]===null)return;let t=e[In].indexOf(n);t!==-1&&e[In].splice(t,1)}function ni(e){let n=e[xe];return on(n)?n[xe]:n}var z={lFrame:Lv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Tv=!1;function cI(){return z.lFrame.elementDepthCount}function uI(){z.lFrame.elementDepthCount++}function dI(){z.lFrame.elementDepthCount--}function Sv(){return z.bindingsEnabled}function Mv(){return z.skipHydrationRootTNode!==null}function hI(e){return z.skipHydrationRootTNode===e}function fI(){z.skipHydrationRootTNode=null}function ie(){return z.lFrame.lView}function Ze(){return z.lFrame.tView}function It(){let e=Nv();for(;e!==null&&e.type===64;)e=e.parent;return e}function Nv(){return z.lFrame.currentTNode}function pI(){let e=z.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function Do(e,n){let t=z.lFrame;t.currentTNode=e,t.isParent=n}function Av(){return z.lFrame.isParent}function Rv(){z.lFrame.isParent=!1}function Ov(){return Tv}function v_(e){Tv=e}function gI(){let e=z.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function mI(e){return z.lFrame.bindingIndex=e}function fh(){return z.lFrame.bindingIndex++}function xv(e){let n=z.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function _I(){return z.lFrame.inI18n}function vI(e,n){let t=z.lFrame;t.bindingIndex=t.bindingRootIndex=e,vd(n)}function yI(){return z.lFrame.currentDirectiveIndex}function vd(e){z.lFrame.currentDirectiveIndex=e}function DI(e){let n=z.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function kv(){return z.lFrame.currentQueryIndex}function ph(e){z.lFrame.currentQueryIndex=e}function bI(e){let n=e[B];return n.type===2?n.declTNode:n.type===1?e[qe]:null}function Pv(e,n,t){if(t&U.SkipSelf){let r=n,o=e;for(;r=r.parent,r===null&&!(t&U.Host);)if(r=bI(o),r===null||(o=o[cr],r.type&10))break;if(r===null)return!1;n=r,e=o}let i=z.lFrame=Fv();return i.currentTNode=n,i.lView=e,!0}function gh(e){let n=Fv(),t=e[B];z.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Fv(){let e=z.lFrame,n=e===null?null:e.child;return n===null?Lv(e):n}function Lv(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function Vv(){let e=z.lFrame;return z.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Bv=Vv;function mh(){let e=Vv();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function wI(e){return(z.lFrame.contextLView=aI(e,z.lFrame.contextLView))[Lt]}function ui(){return z.lFrame.selectedIndex}function ii(e){z.lFrame.selectedIndex=e}function jv(){let e=z.lFrame;return wv(e.tView,e.selectedIndex)}function CI(){return z.lFrame.currentNamespace}var Uv=!0;function _h(){return Uv}function vh(e){Uv=e}function EI(e,n,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){let s=vv(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}r&&(t.preOrderHooks??=[]).push(0-e,r),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function yh(e,n){for(let t=n.directiveStart,i=n.directiveEnd;t<i;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),c&&((e.viewHooks??=[]).push(t,c),(e.viewCheckHooks??=[]).push(t,c)),u!=null&&(e.destroyHooks??=[]).push(t,u)}}function Ma(e,n,t){$v(e,n,3,t)}function Na(e,n,t,i){(e[O]&3)===t&&$v(e,n,t,i)}function Yu(e,n){let t=e[O];(t&3)===n&&(t&=16383,t+=1,e[O]=t)}function $v(e,n,t,i){let r=i!==void 0?e[Ki]&65535:0,o=i??-1,s=n.length-1,a=0;for(let l=r;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],i!=null&&a>=i)break}else n[l]<0&&(e[Ki]+=65536),(a<o||o==-1)&&(II(e,t,n,l),e[Ki]=(e[Ki]&4294901760)+l+2),l++}function y_(e,n){kt(4,e,n);let t=Q(null);try{n.call(e)}finally{Q(t),kt(5,e,n)}}function II(e,n,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=e[s];r?e[O]>>14<e[Ki]>>16&&(e[O]&3)===n&&(e[O]+=16384,y_(a,o)):y_(a,o)}var Xi=-1,po=class{constructor(n,t,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function TI(e){return e instanceof po}function SI(e){return(e.flags&8)!==0}function MI(e){return(e.flags&16)!==0}var Ju={},yd=class{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,i){i=sl(i);let r=this.injector.get(n,Ju,i);return r!==Ju||t===Ju?r:this.parentInjector.get(n,t,i)}};function Hv(e){return e!==Xi}function ja(e){return e&32767}function NI(e){return e>>16}function Ua(e,n){let t=NI(e),i=n;for(;t>0;)i=i[cr],t--;return i}var Dd=!0;function $a(e){let n=Dd;return Dd=e,n}var AI=256,Gv=AI-1,zv=5,RI=0,Pt={};function OI(e,n,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(so)&&(i=t[so]),i==null&&(i=t[so]=RI++);let r=i&Gv,o=1<<r;n.data[e+(r>>zv)]|=o}function Wv(e,n){let t=qv(e,n);if(t!==-1)return t;let i=n[B];i.firstCreatePass&&(e.injectorIndex=n.length,Xu(i.data,e),Xu(n,null),Xu(i.blueprint,null));let r=Dh(e,n),o=e.injectorIndex;if(Hv(r)){let s=ja(r),a=Ua(r,n),l=a[B].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=r,o}function Xu(e,n){e.push(0,0,0,0,0,0,0,0,n)}function qv(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function Dh(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,i=null,r=n;for(;r!==null;){if(i=Jv(r),i===null)return Xi;if(t++,r=r[cr],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return Xi}function xI(e,n,t){OI(e,n,t)}function Zv(e,n,t){if(t&U.Optional||e!==void 0)return e;rh(n,"NodeInjector")}function Kv(e,n,t,i){if(t&U.Optional&&i===void 0&&(i=null),!(t&(U.Self|U.Host))){let r=e[tr],o=We(void 0);try{return r?r.get(n,i,t&U.Optional):K_(n,i,t&U.Optional)}finally{We(o)}}return Zv(i,n,t)}function Qv(e,n,t,i=U.Default,r){if(e!==null){if(n[O]&2048&&!(i&U.Self)){let s=LI(e,n,t,i,Pt);if(s!==Pt)return s}let o=Yv(e,n,t,i,Pt);if(o!==Pt)return o}return Kv(n,t,i,r)}function Yv(e,n,t,i,r){let o=PI(t);if(typeof o=="function"){if(!Pv(n,e,i))return i&U.Host?Zv(r,t,i):Kv(n,t,i,r);try{let s;if(s=o(i),s==null&&!(i&U.Optional))rh(t);else return s}finally{Bv()}}else if(typeof o=="number"){let s=null,a=qv(e,n),l=Xi,c=i&U.Host?n[ht][qe]:null;for((a===-1||i&U.SkipSelf)&&(l=a===-1?Dh(e,n):n[a+8],l===Xi||!b_(i,!1)?a=-1:(s=n[B],a=ja(l),n=Ua(l,n)));a!==-1;){let u=n[B];if(D_(o,a,u.data)){let d=kI(a,n,t,s,i,c);if(d!==Pt)return d}l=n[a+8],l!==Xi&&b_(i,n[B].data[a+8]===c)&&D_(o,a,n)?(s=u,a=ja(l),n=Ua(l,n)):a=-1}}return r}function kI(e,n,t,i,r,o){let s=n[B],a=s.data[e+8],l=i==null?dl(a)&&Dd:i!=s&&(a.type&3)!==0,c=r&U.Host&&o===a,u=Aa(a,s,t,l,c);return u!==null?ir(n,s,u,a):Pt}function Aa(e,n,t,i,r){let o=e.providerIndexes,s=n.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=i?a:a+u,h=r?a+u:c;for(let f=d;f<h;f++){let p=s[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(r){let f=s[l];if(f&&yo(f)&&f.type===t)return l}return null}function ir(e,n,t,i){let r=e[t],o=n.data;if(TI(r)){let s=r;s.resolving&&a1(s1(o[t]));let a=$a(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?We(s.injectImpl):null,u=Pv(e,i,U.Default);try{r=e[t]=s.factory(void 0,o,e,i),n.firstCreatePass&&t>=i.directiveStart&&EI(t,o[t],n)}finally{c!==null&&We(c),$a(a),s.resolving=!1,Bv()}}return r}function PI(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(so)?e[so]:void 0;return typeof n=="number"?n>=0?n&Gv:FI:n}function D_(e,n,t){let i=1<<e;return!!(t[n+(e>>zv)]&i)}function b_(e,n){return!(e&U.Self)&&!(e&U.Host&&n)}var Jn=class{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,i){return Qv(this._tNode,this._lView,n,sl(i),t)}};function FI(){return new Jn(It(),ie())}function bo(e){return _o(()=>{let n=e.prototype.constructor,t=n[Oa]||bd(n),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[Oa]||bd(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function bd(e){return H_(e)?()=>{let n=bd(ut(e));return n&&n()}:Xn(e)}function LI(e,n,t,i,r){let o=e,s=n;for(;o!==null&&s!==null&&s[O]&2048&&!(s[O]&512);){let a=Yv(o,s,t,i|U.Self,Pt);if(a!==Pt)return a;let l=o.parent;if(!l){let c=s[pv];if(c){let u=c.get(t,Pt,i);if(u!==Pt)return u}l=Jv(s),s=s[cr]}o=l}return r}function Jv(e){let n=e[B],t=n.type;return t===2?n.declTNode:t===1?e[qe]:null}function w_(e,n=null,t=null,i){let r=Xv(e,n,t,i);return r.resolveInjectorInitializers(),r}function Xv(e,n=null,t=null,i,r=new Set){let o=[t||Qe,B1(e)];return i=i||(typeof e=="object"?void 0:Le(e)),new uo(o,n||cl(),i||null,r)}var Me=class e{static{this.THROW_IF_NOT_FOUND=lo}static{this.NULL=new Pa}static create(n,t){if(Array.isArray(n))return w_({name:""},t,n,"");{let i=n.name??"";return w_({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=D({token:e,providedIn:"any",factory:()=>_(J_)})}static{this.__NG_ELEMENT_ID__=-1}};var VI=new b("");VI.__NG_ELEMENT_ID__=e=>{let n=It();if(n===null)throw new I(204,!1);if(n.type&2)return n.value;if(e&U.Optional)return null;throw new I(204,!1)};var BI="ngOriginalError";function ed(e){return e[BI]}var ey=!0,pl=(()=>{class e{static{this.__NG_ELEMENT_ID__=jI}static{this.__NG_ENV_ID__=t=>t}}return e})(),wd=class extends pl{constructor(n){super(),this._lView=n}onDestroy(n){return Iv(this._lView,n),()=>lI(this._lView,n)}};function jI(){return new wd(ie())}var Mn=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new pe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}}return e})();var Cd=class extends Y{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,fv()&&(this.destroyRef=g(pl,{optional:!0})??void 0,this.pendingTasks=g(Mn,{optional:!0})??void 0)}emit(n){let t=Q(null);try{super.next(n)}finally{Q(t)}}subscribe(n,t,i){let r=n,o=t||(()=>null),s=i;if(n&&typeof n=="object"){let l=n;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return n instanceof ue&&n.add(a),a}wrapInTimeout(n){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{n(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},ge=Cd;function Ha(...e){}function ty(e){let n,t;function i(){e=Ha;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),i()})),()=>i()}function C_(e){return queueMicrotask(()=>e()),()=>{e=Ha}}var bh="isAngularZone",Ga=bh+"_ID",UI=0,j=class e{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ge(!1),this.onMicrotaskEmpty=new ge(!1),this.onStable=new ge(!1),this.onError=new ge(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=ey}=n;if(typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,GI(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(bh)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new I(909,!1)}run(n,t,i){return this._inner.run(n,t,i)}runTask(n,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,$I,Ha,Ha);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(n,t,i){return this._inner.runGuarded(n,t,i)}runOutsideAngular(n){return this._outer.run(n)}},$I={};function wh(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function HI(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){ty(()=>{e.callbackScheduled=!1,Ed(e),e.isCheckStableRunning=!0,wh(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Ed(e)}function GI(e){let n=()=>{HI(e)},t=UI++;e._inner=e._inner.fork({name:"angular",properties:{[bh]:!0,[Ga]:t,[Ga+t]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(zI(l))return i.invokeTask(o,s,a,l);try{return E_(e),i.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),I_(e)}},onInvoke:(i,r,o,s,a,l,c)=>{try{return E_(e),i.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!WI(l)&&n(),I_(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Ed(e),wh(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Ed(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function E_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function I_(e){e._nesting--,wh(e)}var za=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ge,this.onMicrotaskEmpty=new ge,this.onStable=new ge,this.onError=new ge}run(n,t,i){return n.apply(t,i)}runGuarded(n,t,i){return n.apply(t,i)}runOutsideAngular(n){return n()}runTask(n,t,i,r){return n.apply(t,i)}};function zI(e){return ny(e,"__ignore_ng_zone__")}function WI(e){return ny(e,"__scheduler_tick__")}function ny(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}function qI(e="zone.js",n){return e==="noop"?new za:e==="zone.js"?new j(n):e}var Xt=class{constructor(){this._console=console}handleError(n){let t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&ed(n);for(;t&&ed(t);)t=ed(t);return t||null}},ZI=new b("",{providedIn:"root",factory:()=>{let e=g(j),n=g(Xt);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function KI(){return dr(It(),ie())}function dr(e,n){return new Tt(gt(e,n))}var Tt=(()=>{class e{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=KI}}return e})();function QI(e){return e instanceof Tt?e.nativeElement:e}function YI(){return this._results[Symbol.iterator]()}var Id=class e{get changes(){return this._changes??=new ge}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=e.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=YI)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;let i=v1(n);(this._changesDetected=!_1(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function iy(e){return(e.flags&128)===128}var ry=new Map,JI=0;function XI(){return JI++}function eT(e){ry.set(e[ul],e)}function Td(e){ry.delete(e[ul])}var T_="__ngContext__";function ri(e,n){Yn(n)?(e[T_]=n[ul],eT(n)):e[T_]=n}function oy(e){return ay(e[fo])}function sy(e){return ay(e[Et])}function ay(e){for(;e!==null&&!on(e);)e=e[Et];return e}var Sd;function ly(e){Sd=e}function tT(){if(Sd!==void 0)return Sd;if(typeof document<"u")return document;throw new I(210,!1)}var gl=new b("",{providedIn:"root",factory:()=>nT}),nT="ng",Ch=new b(""),Ne=new b("",{providedIn:"platform",factory:()=>"unknown"});var Eh=new b("",{providedIn:"root",factory:()=>tT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var iT="h",rT="b";var oT=()=>null;function Ih(e,n,t=!1){return oT(e,n,t)}var cy=!1,sT=new b("",{providedIn:"root",factory:()=>cy});var Md=class{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${YE})`}};function ml(e){return e instanceof Md?e.changingThisBreaksApplicationSecurity:e}function uy(e){return e instanceof Function?e():e}function aT(e){return(e??g(Me)).get(Ne)==="browser"}var en=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(en||{}),lT;function Th(e,n){return lT(e,n)}function Qi(e,n,t,i,r){if(i!=null){let o,s=!1;on(i)?o=i:Yn(i)&&(s=!0,i=i[rn]);let a=Vt(i);e===0&&t!==null?r==null?my(n,t,a):Wa(n,t,a,r||null,!0):e===1&&t!==null?Wa(n,t,a,r||null,!0):e===2?bT(n,a,s):e===3&&n.destroyNode(a),o!=null&&CT(n,e,o,t,r)}}function cT(e,n){return e.createText(n)}function uT(e,n,t){e.setValue(n,t)}function dy(e,n,t){return e.createElement(n,t)}function dT(e,n){hy(e,n),n[rn]=null,n[qe]=null}function hT(e,n,t,i,r,o){i[rn]=r,i[qe]=n,_l(e,i,t,1,r,o)}function hy(e,n){n[Yt].changeDetectionScheduler?.notify(9),_l(e,n,n[Ce],2,null,null)}function fT(e){let n=e[fo];if(!n)return td(e[B],e);for(;n;){let t=null;if(Yn(n))t=n[fo];else{let i=n[Ye];i&&(t=i)}if(!t){for(;n&&!n[Et]&&n!==e;)Yn(n)&&td(n[B],n),n=n[xe];n===null&&(n=e),Yn(n)&&td(n[B],n),t=n&&n[Et]}n=t}}function pT(e,n,t,i){let r=Ye+i,o=t.length;i>0&&(t[r-1][Et]=n),i<o-Ye?(n[Et]=t[r],Y_(t,Ye+i,n)):(t.push(n),n[Et]=null),n[xe]=t;let s=n[ei];s!==null&&t!==s&&fy(s,n);let a=n[Jt];a!==null&&a.insertView(e),_d(n),n[O]|=128}function fy(e,n){let t=e[nr],i=n[xe];if(Yn(i))e[O]|=Va.HasTransplantedViews;else{let r=i[xe][ht];n[ht]!==r&&(e[O]|=Va.HasTransplantedViews)}t===null?e[nr]=[n]:t.push(n)}function Sh(e,n){let t=e[nr],i=t.indexOf(n);t.splice(i,1)}function Nd(e,n){if(e.length<=Ye)return;let t=Ye+n,i=e[t];if(i){let r=i[ei];r!==null&&r!==e&&Sh(r,i),n>0&&(e[t-1][Et]=i[Et]);let o=ka(e,Ye+n);dT(i[B],i);let s=o[Jt];s!==null&&s.detachView(o[B]),i[xe]=null,i[Et]=null,i[O]&=-129}return i}function py(e,n){if(!(n[O]&256)){let t=n[Ce];t.destroyNode&&_l(e,n,t,3,null,null),fT(n)}}function td(e,n){if(n[O]&256)return;let t=Q(null);try{n[O]&=-129,n[O]|=256,n[dt]&&Eu(n[dt]),mT(e,n),gT(e,n),n[B].type===1&&n[Ce].destroy();let i=n[ei];if(i!==null&&on(n[xe])){i!==n[xe]&&Sh(i,n);let r=n[Jt];r!==null&&r.detachView(e)}Td(n)}finally{Q(t)}}function gT(e,n){let t=e.cleanup,i=n[Fa];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[t[o+1]];t[o].call(s)}i!==null&&(n[Fa]=null);let r=n[In];if(r!==null){n[In]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function mT(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=n[t[i]];if(!(r instanceof po)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];kt(4,a,l);try{l.call(a)}finally{kt(5,a,l)}}else{kt(4,r,o);try{o.call(r)}finally{kt(5,r,o)}}}}}function gy(e,n,t){return _T(e,n.parent,t)}function _T(e,n,t){let i=n;for(;i!==null&&i.type&168;)n=i,i=n.parent;if(i===null)return t[rn];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=e.data[i.directiveStart+r];if(o===Ft.None||o===Ft.Emulated)return null}return gt(i,t)}}function Wa(e,n,t,i,r){e.insertBefore(n,t,i,r)}function my(e,n,t){e.appendChild(n,t)}function S_(e,n,t,i,r){i!==null?Wa(e,n,t,i,r):my(e,n,t)}function _y(e,n){return e.parentNode(n)}function vT(e,n){return e.nextSibling(n)}function vy(e,n,t){return DT(e,n,t)}function yT(e,n,t){return e.type&40?gt(e,t):null}var DT=yT,M_;function Mh(e,n,t,i){let r=gy(e,i,n),o=n[Ce],s=i.parent||n[qe],a=vy(s,i,n);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)S_(o,r,t[l],a,!1);else S_(o,r,t,a,!1);M_!==void 0&&M_(o,i,n,t,r)}function oo(e,n){if(n!==null){let t=n.type;if(t&3)return gt(n,e);if(t&4)return Ad(-1,e[n.index]);if(t&8){let i=n.child;if(i!==null)return oo(e,i);{let r=e[n.index];return on(r)?Ad(-1,r):Vt(r)}}else{if(t&128)return oo(e,n.next);if(t&32)return Th(n,e)()||Vt(e[n.index]);{let i=yy(e,n);if(i!==null){if(Array.isArray(i))return i[0];let r=ni(e[ht]);return oo(r,i)}else return oo(e,n.next)}}}return null}function yy(e,n){if(n!==null){let i=e[ht][qe],r=n.projection;return i.projection[r]}return null}function Ad(e,n){let t=Ye+e+1;if(t<n.length){let i=n[t],r=i[B].firstChild;if(r!==null)return oo(i,r)}return n[ti]}function bT(e,n,t){e.removeChild(null,n,t)}function Nh(e,n,t,i,r,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],l=t.type;if(s&&n===0&&(a&&ri(Vt(a),i),t.flags|=2),(t.flags&32)!==32)if(l&8)Nh(e,n,t.child,i,r,o,!1),Qi(n,e,r,a,o);else if(l&32){let c=Th(t,i),u;for(;u=c();)Qi(n,e,r,u,o);Qi(n,e,r,a,o)}else l&16?Dy(e,n,i,t,r,o):Qi(n,e,r,a,o);t=s?t.projectionNext:t.next}}function _l(e,n,t,i,r,o){Nh(t,i,e.firstChild,n,r,o,!1)}function wT(e,n,t){let i=n[Ce],r=gy(e,t,n),o=t.parent||n[qe],s=vy(o,t,n);Dy(i,0,n,t,r,s)}function Dy(e,n,t,i,r,o){let s=t[ht],l=s[qe].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Qi(n,e,r,u,o)}else{let c=l,u=s[xe];iy(i)&&(c.flags|=128),Nh(e,n,c,u,r,o,!0)}}function CT(e,n,t,i,r){let o=t[ti],s=Vt(t);o!==s&&Qi(n,e,i,o,r);for(let a=Ye;a<t.length;a++){let l=t[a];_l(l[B],l,e,n,i,o)}}function ET(e,n,t,i,r){if(n)r?e.addClass(t,i):e.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:en.DashCase;r==null?e.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=en.Important),e.setStyle(t,i,r,o))}}function IT(e,n,t){e.setAttribute(n,"style",t)}function by(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function wy(e,n,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&ud(e,n,i),r!==null&&by(e,n,r),o!==null&&IT(e,n,o)}var sn={};function hr(e=1){Cy(Ze(),ie(),ui()+e,!1)}function Cy(e,n,t,i){if(!i)if((n[O]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Ma(n,o,t)}else{let o=e.preOrderHooks;o!==null&&Na(n,o,0,t)}ii(t)}function ke(e,n=U.Default){let t=ie();if(t===null)return _(e,n);let i=It();return Qv(i,t,ut(e),n)}function Ey(){let e="invalid";throw new Error(e)}function Iy(e,n,t,i,r,o){let s=Q(null);try{let a=null;r&Tn.SignalBased&&(a=n[i][km]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Tn.HasDecoratorInputTransform&&(o=e.inputTransforms[i].call(n,o)),e.setInput!==null?e.setInput(n,a,o,t,i):_v(n,a,i,o)}finally{Q(s)}}function TT(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)ii(~r);else{let o=r,s=t[++i],a=t[++i];vI(s,o);let l=n[o];a(2,l)}}}finally{ii(-1)}}function vl(e,n,t,i,r,o,s,a,l,c,u){let d=n.blueprint.slice();return d[rn]=r,d[O]=i|4|128|8|64,(c!==null||e&&e[O]&2048)&&(d[O]|=2048),Cv(d),d[xe]=d[cr]=e,d[Lt]=t,d[Yt]=s||e&&e[Yt],d[Ce]=a||e&&e[Ce],d[tr]=l||e&&e[tr]||null,d[qe]=o,d[ul]=XI(),d[ho]=u,d[pv]=c,d[ht]=n.type==2?e[ht]:d,d}function wo(e,n,t,i,r){let o=e.data[n];if(o===null)o=ST(e,n,t,i,r),_I()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=pI();o.injectorIndex=s===null?-1:s.injectorIndex}return Do(o,!0),o}function ST(e,n,t,i,r){let o=Nv(),s=Av(),a=s?o:o&&o.parent,l=e.data[n]=xT(e,a,t,n,i,r);return e.firstChild===null&&(e.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function Ty(e,n,t,i){if(t===0)return-1;let r=n.length;for(let o=0;o<t;o++)n.push(i),e.blueprint.push(i),e.data.push(null);return r}function Sy(e,n,t,i,r){let o=ui(),s=i&2;try{ii(-1),s&&n.length>ft&&Cy(e,n,ft,!1),kt(s?2:0,r),t(i,r)}finally{ii(o),kt(s?3:1,r)}}function My(e,n,t){if(mv(n)){let i=Q(null);try{let r=n.directiveStart,o=n.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{Q(i)}}}function Ny(e,n,t){Sv()&&(jT(e,n,t,gt(t,n)),(t.flags&64)===64&&ky(e,n,t))}function Ay(e,n,t=gt){let i=n.localNames;if(i!==null){let r=n.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(n,e):e[s];e[r++]=a}}}function Ry(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=Ah(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Ah(e,n,t,i,r,o,s,a,l,c,u){let d=ft+i,h=d+r,f=MT(d,h),p=typeof c=="function"?c():c;return f[B]={type:e,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function MT(e,n){let t=[];for(let i=0;i<n;i++)t.push(i<e?null:sn);return t}function NT(e,n,t,i){let o=i.get(sT,cy)||t===Ft.ShadowDom,s=e.selectRootElement(n,o);return AT(s),s}function AT(e){RT(e)}var RT=()=>null;function OT(e,n,t,i){let r=Ly(n);r.push(t),e.firstCreatePass&&Vy(e).push(i,r.length-1)}function xT(e,n,t,i,r,o){let s=n?n.injectorIndex:-1,a=0;return Mv()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function N_(e,n,t,i,r){for(let o in n){if(!n.hasOwnProperty(o))continue;let s=n[o];if(s===void 0)continue;i??={};let a,l=Tn.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(r!==null){if(!r.hasOwnProperty(o))continue;c=r[o]}e===0?A_(i,t,c,a,l):A_(i,t,c,a)}return i}function A_(e,n,t,i,r){let o;e.hasOwnProperty(t)?(o=e[t]).push(n,i):o=e[t]=[n,i],r!==void 0&&o.push(r)}function kT(e,n,t){let i=n.directiveStart,r=n.directiveEnd,o=e.data,s=n.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let d=o[u],h=t?t.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;l=N_(0,d.inputs,u,l,f),c=N_(1,d.outputs,u,c,p);let m=l!==null&&s!==null&&!ch(n)?YT(l,u,s):null;a.push(m)}l!==null&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}function PT(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function FT(e,n,t,i,r,o,s,a){let l=gt(n,t),c=n.inputs,u;!a&&c!=null&&(u=c[i])?(Rh(e,t,u,i,r),dl(n)&&LT(t,n.index)):n.type&3?(i=PT(i),r=s!=null?s(r,n.value||"",i):r,o.setProperty(l,i,r)):n.type&12}function LT(e,n){let t=ci(n,e);t[O]&16||(t[O]|=64)}function Oy(e,n,t,i){if(Sv()){let r=i===null?null:{"":-1},o=$T(e,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&xy(e,n,t,s,r,a),r&&HT(t,i,r)}t.mergedAttrs=lh(t.mergedAttrs,t.attrs)}function xy(e,n,t,i,r,o){for(let c=0;c<i.length;c++)xI(Wv(t,n),e,i[c].type);zT(t,e.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=Ty(e,n,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];t.mergedAttrs=lh(t.mergedAttrs,u.hostAttrs),WT(e,t,n,l,u),GT(l,u,r),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}kT(e,t,o)}function VT(e,n,t,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;BT(s)!=a&&s.push(a),s.push(t,i,o)}}function BT(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function jT(e,n,t,i){let r=t.directiveStart,o=t.directiveEnd;dl(t)&&qT(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||Wv(t,n),ri(i,n);let s=t.initialInputs;for(let a=r;a<o;a++){let l=e.data[a],c=ir(n,e,a,t);if(ri(c,n),s!==null&&QT(n,a-r,c,l,t,s),yo(l)){let u=ci(t.index,n);u[Lt]=ir(n,e,a,t)}}}function ky(e,n,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=yI();try{ii(o);for(let a=i;a<r;a++){let l=e.data[a],c=n[a];vd(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&UT(l,c)}}finally{ii(-1),vd(s)}}function UT(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function $T(e,n){let t=e.directiveRegistry,i=null,r=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(nv(n,s.selectors,!1))if(i||(i=[]),yo(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let l=a.length;Rd(e,n,l)}else i.unshift(s),Rd(e,n,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function Rd(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function HT(e,n,t){if(n){let i=e.localNames=[];for(let r=0;r<n.length;r+=2){let o=t[n[r+1]];if(o==null)throw new I(-301,!1);i.push(n[r],o)}}}function GT(e,n,t){if(t){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)t[n.exportAs[i]]=e;yo(n)&&(t[""]=e)}}function zT(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function WT(e,n,t,i,r){e.data[i]=r;let o=r.factory||(r.factory=Xn(r.type,!0)),s=new po(o,yo(r),ke);e.blueprint[i]=s,t[i]=s,VT(e,n,i,Ty(e,t,r.hostVars,sn),r)}function qT(e,n,t){let i=gt(n,e),r=Ry(t),o=e[Yt].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=yl(e,vl(e,r,null,s,i,n,null,o.createRenderer(i,t),null,null,null));e[n.index]=a}function ZT(e,n,t,i,r,o){let s=gt(e,n);KT(n[Ce],s,o,e.value,t,i,r)}function KT(e,n,t,i,r,o,s){if(o==null)e.removeAttribute(n,r,t);else{let a=s==null?ih(o):s(o,i||"",r);e.setAttribute(n,r,a,t)}}function QT(e,n,t,i,r,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];Iy(i,t,l,c,u,d)}}function YT(e,n,t){let i=null,r=0;for(;r<t.length;){let o=t[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){i===null&&(i=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}return i}function Py(e,n,t,i){return[e,!0,0,n,null,i,null,t,null,null]}function Fy(e,n){let t=e.contentQueries;if(t!==null){let i=Q(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=e.data[s];ph(o),a.contentQueries(2,n[s],s)}}}finally{Q(i)}}}function yl(e,n){return e[fo]?e[m_][Et]=n:e[fo]=n,e[m_]=n,n}function Od(e,n,t){ph(0);let i=Q(null);try{n(e,t)}finally{Q(i)}}function Ly(e){return e[Fa]??=[]}function Vy(e){return e.cleanup??=[]}function By(e,n){let t=e[tr],i=t?t.get(Xt,null):null;i&&i.handleError(n)}function Rh(e,n,t,i,r){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],l=t[o++],c=n[s],u=e.data[s];Iy(u,c,i,a,l,r)}}function JT(e,n,t){let i=bv(n,e);uT(e[Ce],i,t)}function XT(e,n){let t=ci(n,e),i=t[B];eS(i,t);let r=t[rn];r!==null&&t[ho]===null&&(t[ho]=Ih(r,t[tr])),Oh(i,t,t[Lt])}function eS(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function Oh(e,n,t){gh(n);try{let i=e.viewQuery;i!==null&&Od(1,i,t);let r=e.template;r!==null&&Sy(e,n,r,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[Jt]?.finishViewCreation(e),e.staticContentQueries&&Fy(e,n),e.staticViewQueries&&Od(2,e.viewQuery,t);let o=e.components;o!==null&&tS(n,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{n[O]&=-5,mh()}}function tS(e,n){for(let t=0;t<n.length;t++)XT(e,n[t])}function jy(e,n,t,i){let r=Q(null);try{let o=n.tView,a=e[O]&4096?4096:16,l=vl(e,o,t,a,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=e[n.index];l[ei]=c;let u=e[Jt];return u!==null&&(l[Jt]=u.createEmbeddedView(o)),Oh(o,l,t),l}finally{Q(r)}}function xd(e,n){return!n||n.firstChild===null||iy(e)}function Uy(e,n,t,i=!0){let r=n[B];if(pT(r,n,e,t),i){let s=Ad(t,e),a=n[Ce],l=_y(a,e[ti]);l!==null&&hT(r,e[qe],a,n,l,s)}let o=n[ho];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function qa(e,n,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&i.push(Vt(o)),on(o)&&nS(o,i);let s=t.type;if(s&8)qa(e,n,t.child,i);else if(s&32){let a=Th(t,n),l;for(;l=a();)i.push(l)}else if(s&16){let a=yy(n,t);if(Array.isArray(a))i.push(...a);else{let l=ni(n[ht]);qa(l[B],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function nS(e,n){for(let t=Ye;t<e.length;t++){let i=e[t],r=i[B].firstChild;r!==null&&qa(i[B],i,r,n)}e[ti]!==e[rn]&&n.push(e[ti])}var $y=[];function iS(e){return e[dt]??rS(e)}function rS(e){let n=$y.pop()??Object.create(sS);return n.lView=e,n}function oS(e){e.lView[dt]!==e&&(e.lView=null,$y.push(e))}var sS=X(w({},bu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{fl(e.lView)},consumerOnSignalRead(){this.lView[dt]=this}});function aS(e){let n=e[dt]??Object.create(lS);return n.lView=e,n}var lS=X(w({},bu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=ni(e.lView);for(;n&&!Hy(n[B]);)n=ni(n);n&&Ev(n)},consumerOnSignalRead(){this.lView[dt]=this}});function Hy(e){return e.type!==2}var cS=100;function Gy(e,n=!0,t=0){let i=e[Yt],r=i.rendererFactory,o=!1;o||r.begin?.();try{uS(e,t)}catch(s){throw n&&By(e,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function uS(e,n){let t=Ov();try{v_(!0),kd(e,n);let i=0;for(;hl(e);){if(i===cS)throw new I(103,!1);i++,kd(e,1)}}finally{v_(t)}}function dS(e,n,t,i){let r=n[O];if((r&256)===256)return;let o=!1,s=!1;!o&&n[Yt].inlineEffectRunner?.flush(),gh(n);let a=!0,l=null,c=null;o||(Hy(e)?(c=iS(n),l=wu(c)):Pm()===null?(a=!1,c=aS(n),l=wu(c)):n[dt]&&(Eu(n[dt]),n[dt]=null));try{Cv(n),mI(e.bindingStartIndex),t!==null&&Sy(e,n,t,2,i);let u=(r&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&Ma(n,f,null)}else{let f=e.preOrderHooks;f!==null&&Na(n,f,0,null),Yu(n,0)}if(s||hS(n),zy(n,0),e.contentQueries!==null&&Fy(e,n),!o)if(u){let f=e.contentCheckHooks;f!==null&&Ma(n,f)}else{let f=e.contentHooks;f!==null&&Na(n,f,1),Yu(n,1)}TT(e,n);let d=e.components;d!==null&&qy(n,d,0);let h=e.viewQuery;if(h!==null&&Od(2,h,i),!o)if(u){let f=e.viewCheckHooks;f!==null&&Ma(n,f)}else{let f=e.viewHooks;f!==null&&Na(n,f,2),Yu(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[Qu]){for(let f of n[Qu])f();n[Qu]=null}o||(n[O]&=-73)}catch(u){throw o||fl(n),u}finally{c!==null&&(Fm(c,l),a&&oS(c)),mh()}}function zy(e,n){for(let t=oy(e);t!==null;t=sy(t))for(let i=Ye;i<t.length;i++){let r=t[i];Wy(r,n)}}function hS(e){for(let n=oy(e);n!==null;n=sy(n)){if(!(n[O]&Va.HasTransplantedViews))continue;let t=n[nr];for(let i=0;i<t.length;i++){let r=t[i];Ev(r)}}}function fS(e,n,t){let i=ci(n,e);Wy(i,t)}function Wy(e,n){hh(e)&&kd(e,n)}function kd(e,n){let i=e[B],r=e[O],o=e[dt],s=!!(n===0&&r&16);if(s||=!!(r&64&&n===0),s||=!!(r&1024),s||=!!(o?.dirty&&Cu(o)),s||=!1,o&&(o.dirty=!1),e[O]&=-9217,s)dS(i,e,i.template,e[Lt]);else if(r&8192){zy(e,1);let a=i.components;a!==null&&qy(e,a,1)}}function qy(e,n,t){for(let i=0;i<n.length;i++)fS(e,n[i],t)}function xh(e,n){let t=Ov()?64:1088;for(e[Yt].changeDetectionScheduler?.notify(n);e;){e[O]|=t;let i=ni(e);if(gd(e)&&!i)return e;e=i}return null}var oi=class{get rootNodes(){let n=this._lView,t=n[B];return qa(t,n,t.firstChild,[])}constructor(n,t,i=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Lt]}set context(n){this._lView[Lt]=n}get destroyed(){return(this._lView[O]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[xe];if(on(n)){let t=n[La],i=t?t.indexOf(this):-1;i>-1&&(Nd(n,i),ka(t,i))}this._attachedToViewContainer=!1}py(this._lView[B],this._lView)}onDestroy(n){Iv(this._lView,n)}markForCheck(){xh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[O]&=-129}reattach(){_d(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,Gy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=gd(this._lView),t=this._lView[ei];t!==null&&!n&&Sh(t,this._lView),hy(this._lView[B],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=n;let t=gd(this._lView),i=this._lView[ei];i!==null&&!t&&fy(i,this._lView),_d(this._lView)}},tn=(()=>{class e{static{this.__NG_ELEMENT_ID__=mS}}return e})(),pS=tn,gS=class extends pS{constructor(n,t,i){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,i){let r=jy(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:i});return new oi(r)}};function mS(){return kh(It(),ie())}function kh(e,n){return e.type&4?new gS(n,e,dr(e,n)):null}var PH=new RegExp(`^(\\d+)*(${rT}|${iT})*(.*)`);var _S=()=>null;function Pd(e,n){return _S(e,n)}var rr=class{},Ph=new b("",{providedIn:"root",factory:()=>!1});var Zy=new b(""),Ky=new b(""),Fd=class{},Za=class{};function vS(e){let n=Error(`No component factory found for ${Le(e)}.`);return n[yS]=e,n}var yS="ngComponent";var Ld=class{resolveComponentFactory(n){throw vS(n)}},or=class{static{this.NULL=new Ld}},sr=class{};var DS=(()=>{class e{static{this.\u0275prov=D({token:e,providedIn:"root",factory:()=>null})}}return e})();function Vd(e,n,t){let i=t?e.styles:null,r=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)r=sd(r,a);else if(o==2){let l=a,c=n[++s];i=sd(i,l+": "+c+";")}}t?e.styles=i:e.stylesWithoutHost=i,t?e.classes=r:e.classesWithoutHost=r}var Ka=class extends or{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=Qt(n);return new si(t,this.ngModule)}};function R_(e,n){let t=[];for(let i in e){if(!e.hasOwnProperty(i))continue;let r=e[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:Tn.None;n?t.push({propName:s,templateName:i,isSignal:(a&Tn.SignalBased)!==0}):t.push({propName:s,templateName:i})}return t}function bS(e){let n=e.toLowerCase();return n==="svg"?nI:n==="math"?iI:null}var si=class extends Za{get inputs(){let n=this.componentDef,t=n.inputTransforms,i=R_(n.inputs,!0);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return R_(this.componentDef.outputs,!1)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=k1(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,i,r){let o=Q(null);try{r=r||this.ngModule;let s=r instanceof we?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new yd(n,s):n,l=a.get(sr,null);if(l===null)throw new I(407,!1);let c=a.get(DS,null),u=a.get(rr,null),d={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:u},h=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?NT(h,i,this.componentDef.encapsulation,a):dy(h,f,bS(f)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let y=null;p!==null&&(y=Ih(p,a,!0));let T=Ah(0,null,null,1,0,null,null,null,null,null,null),R=vl(null,T,null,m,null,null,d,h,a,null,y);gh(R);let C,W,se=null;try{let _e=this.componentDef,zt,gu=null;_e.findHostDirectiveDefs?(zt=[],gu=new Map,_e.findHostDirectiveDefs(_e,zt,gu),zt.push(_e)):zt=[_e];let gE=wS(R,p);se=CS(gE,p,_e,zt,R,d,h),W=wv(T,ft),p&&TS(h,_e,p,i),t!==void 0&&SS(W,this.ngContentSelectors,t),C=IS(se,_e,zt,gu,R,[MS]),Oh(T,R,null)}catch(_e){throw se!==null&&Td(se),Td(R),_e}finally{mh()}return new Bd(this.componentType,C,dr(W,R),R,W)}finally{Q(o)}}},Bd=class extends Fd{constructor(n,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new oi(r,void 0,!1),this.componentType=n}setInput(n,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let o=this._rootLView;Rh(o[B],o,r,n,t),this.previousInputValues.set(n,t);let s=ci(this._tNode.index,o);xh(s,1)}}get injector(){return new Jn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function wS(e,n){let t=e[B],i=ft;return e[i]=n,wo(t,i,2,"#host",null)}function CS(e,n,t,i,r,o,s){let a=r[B];ES(i,e,n,s);let l=null;n!==null&&(l=Ih(n,r[tr]));let c=o.rendererFactory.createRenderer(n,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let d=vl(r,Ry(t),null,u,r[e.index],e,o,c,null,null,l);return a.firstCreatePass&&Rd(a,e,i.length-1),yl(r,d),r[e.index]=d}function ES(e,n,t,i){for(let r of e)n.mergedAttrs=lh(n.mergedAttrs,r.hostAttrs);n.mergedAttrs!==null&&(Vd(n,n.mergedAttrs,!0),t!==null&&wy(i,t,n))}function IS(e,n,t,i,r,o){let s=It(),a=r[B],l=gt(s,r);xy(a,r,s,t,null,i);for(let u=0;u<t.length;u++){let d=s.directiveStart+u,h=ir(r,a,d,s);ri(h,r)}ky(a,r,s),l&&ri(l,r);let c=ir(r,a,s.directiveStart+s.componentOffset,s);if(e[Lt]=r[Lt]=c,o!==null)for(let u of o)u(c,n);return My(a,s,r),c}function TS(e,n,t,i){if(i)ud(e,t,["ng-version","18.2.13"]);else{let{attrs:r,classes:o}=P1(n.selectors[0]);r&&ud(e,t,r),o&&o.length>0&&by(e,t,o.join(" "))}}function SS(e,n,t){let i=e.projection=[];for(let r=0;r<n.length;r++){let o=t[r];i.push(o!=null?Array.from(o):null)}}function MS(){let e=It();yh(ie()[B],e)}var an=(()=>{class e{static{this.__NG_ELEMENT_ID__=NS}}return e})();function NS(){let e=It();return Yy(e,ie())}var AS=an,Qy=class extends AS{constructor(n,t,i){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=i}get element(){return dr(this._hostTNode,this._hostLView)}get injector(){return new Jn(this._hostTNode,this._hostLView)}get parentInjector(){let n=Dh(this._hostTNode,this._hostLView);if(Hv(n)){let t=Ua(n,this._hostLView),i=ja(n),r=t[B].data[i+8];return new Jn(r,t)}else return new Jn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=O_(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-Ye}createEmbeddedView(n,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Pd(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,xd(this._hostTNode,s)),a}createComponent(n,t,i,r,o){let s=n&&!J1(n),a;if(s)a=t;else{let p=t||{};a=p.index,i=p.injector,r=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?n:new si(Qt(n)),c=i||this.parentInjector;if(!o&&l.ngModule==null){let m=(s?c:this.parentInjector).get(we,null);m&&(o=m)}let u=Qt(l.componentType??{}),d=Pd(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,r,h,o);return this.insertImpl(f.hostView,a,xd(this._hostTNode,d)),f}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,i){let r=n._lView;if(sI(r)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=r[xe],c=new Qy(l,l[qe],l[xe]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return Uy(s,r,o,i),n.attachToViewContainerRef(),Y_(nd(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=O_(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),i=Nd(this._lContainer,t);i&&(ka(nd(this._lContainer),t),py(i[B],i))}detach(n){let t=this._adjustIndex(n,-1),i=Nd(this._lContainer,t);return i&&ka(nd(this._lContainer),t)!=null?new oi(i):null}_adjustIndex(n,t=0){return n??this.length+t}};function O_(e){return e[La]}function nd(e){return e[La]||(e[La]=[])}function Yy(e,n){let t,i=n[e.index];return on(i)?t=i:(t=Py(i,n,null,e),n[e.index]=t,yl(n,t)),OS(t,n,e,i),new Qy(t,e,n)}function RS(e,n){let t=e[Ce],i=t.createComment(""),r=gt(n,e),o=_y(t,r);return Wa(t,o,i,vT(t,r),!1),i}var OS=PS,xS=()=>!1;function kS(e,n,t){return xS(e,n,t)}function PS(e,n,t,i){if(e[ti])return;let r;t.type&8?r=Vt(i):r=RS(n,t),e[ti]=r}var jd=class e{constructor(n){this.queryList=n,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Ud=class e{constructor(n=[]){this.queries=n}createEmbeddedView(n){let t=n.queries;if(t!==null){let i=n.contentQueries!==null?n.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)Fh(n,t).matches!==null&&this.queries[t].setDirty()}},$d=class{constructor(n,t,i=null){this.flags=t,this.read=i,typeof n=="string"?this.predicate=HS(n):this.predicate=n}},Hd=class e{constructor(n=[]){this.queries=n}elementStart(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new e(t):null}template(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},Gd=class e{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new e(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=n.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(n,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(n,t,FS(t,o)),this.matchTNodeWithReadOption(n,t,Aa(t,n,o,!1,!1))}else i===tn?t.type&4&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Aa(t,n,i,!1,!1))}matchTNodeWithReadOption(n,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Tt||r===an||r===tn&&t.type&4)this.addMatch(t.index,-2);else{let o=Aa(t,n,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(n,t){this.matches===null?this.matches=[n,t]:this.matches.push(n,t)}};function FS(e,n){let t=e.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===n)return t[i+1]}return null}function LS(e,n){return e.type&11?dr(e,n):e.type&4?kh(e,n):null}function VS(e,n,t,i){return t===-1?LS(n,e):t===-2?BS(e,n,i):ir(e,e[B],t,n)}function BS(e,n,t){if(t===Tt)return dr(n,e);if(t===tn)return kh(n,e);if(t===an)return Yy(n,e)}function Jy(e,n,t,i){let r=n[Jt].queries[i];if(r.matches===null){let o=e.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(VS(n,u,s[l+1],t.metadata.read))}}r.matches=a}return r.matches}function zd(e,n,t,i){let r=e.queries.getByIndex(t),o=r.matches;if(o!==null){let s=Jy(e,n,r,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],u=n[-l];for(let d=Ye;d<u.length;d++){let h=u[d];h[ei]===h[xe]&&zd(h[B],h,c,i)}if(u[nr]!==null){let d=u[nr];for(let h=0;h<d.length;h++){let f=d[h];zd(f[B],f,c,i)}}}}}return i}function jS(e,n){return e[Jt].queries[n].queryList}function US(e,n,t){let i=new Id((t&4)===4);return OT(e,n,i,i.destroy),(n[Jt]??=new Ud).queries.push(new jd(i))-1}function $S(e,n,t){let i=Ze();return i.firstCreatePass&&(GS(i,new $d(e,n,t),-1),(n&2)===2&&(i.staticViewQueries=!0)),US(i,ie(),n)}function HS(e){return e.split(",").map(n=>n.trim())}function GS(e,n,t){e.queries===null&&(e.queries=new Hd),e.queries.track(new Gd(n,t))}function Fh(e,n){return e.queries.getByIndex(n)}function zS(e,n){let t=e[B],i=Fh(t,n);return i.crossesNgTemplate?zd(t,e,n,[]):Jy(t,e,i,n)}var x_=new Set;function Dl(e){x_.has(e)||(x_.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function WS(e){let n=[],t=new Map;function i(r){let o=t.get(r);if(!o){let s=e(r);t.set(r,o=s.then(QS))}return o}return Qa.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((d,h)=>{a.push(""),s.push(i(d).then(f=>{a[c+h]=f,u.splice(u.indexOf(d),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(s).then(()=>YS(o));n.push(l)}),ZS(),Promise.all(n).then(()=>{})}var Qa=new Map,qS=new Set;function ZS(){let e=Qa;return Qa=new Map,e}function KS(){return Qa.size===0}function QS(e){return typeof e=="string"?e:e.text()}function YS(e){qS.delete(e)}var Sn=class{},go=class{};var Ya=class extends Sn{constructor(n,t,i,r=!0){super(),this.ngModuleType=n,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ka(this);let o=av(n);this._bootstrapComponents=uy(o.bootstrap),this._r3Injector=Xv(n,t,[{provide:Sn,useValue:this},{provide:or,useValue:this.componentFactoryResolver},...i],Le(n),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Ja=class extends go{constructor(n){super(),this.moduleType=n}create(n){return new Ya(this.moduleType,n,[])}};function JS(e,n,t){return new Ya(e,n,t,!1)}var Wd=class extends Sn{constructor(n){super(),this.componentFactoryResolver=new Ka(this),this.instance=null;let t=new uo([...n.providers,{provide:Sn,useValue:this},{provide:or,useValue:this.componentFactoryResolver}],n.parent||cl(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function bl(e,n,t=null){return new Wd({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}function Xy(e){return eM(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function XS(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),i;for(;!(i=t.next()).done;)n(i.value)}}function eM(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function tM(e,n,t){return e[n]=t}function fr(e,n,t){let i=e[n];return Object.is(i,t)?!1:(e[n]=t,!0)}function nM(e){return(e.flags&32)===32}function iM(e,n,t,i,r,o,s,a,l){let c=n.consts,u=wo(n,e,4,s||null,a||null);Oy(n,t,u,Ba(c,l)),yh(n,u);let d=u.tView=Ah(2,u,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,u),d.queries=n.queries.embeddedTView(u)),u}function e0(e,n,t,i,r,o,s,a,l,c){let u=t+ft,d=n.firstCreatePass?iM(u,n,e,i,r,o,s,a,l):n.data[u];Do(d,!1);let h=rM(n,e,d,t);_h()&&Mh(n,e,h,d),ri(h,e);let f=Py(h,e,h,d);return e[u]=f,yl(e,f),kS(f,d,e),dh(d)&&Ny(n,e,d),l!=null&&Ay(e,d,c),d}function Co(e,n,t,i,r,o,s,a){let l=ie(),c=Ze(),u=Ba(c.consts,o);return e0(l,c,e,n,t,i,r,u,s,a),Co}var rM=oM;function oM(e,n,t,i){return vh(!0),n[Ce].createComment("")}var Yi=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Yi||{}),t0=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}}return e})(),qd=class e{constructor(){this.ngZone=g(j),this.scheduler=g(rr),this.errorHandler=g(Xt,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Yi.EarlyRead,Yi.Write,Yi.MixedReadWrite,Yi.Read]}execute(){this.executing=!0;for(let n of e.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[n]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[n](t.pipelinedValue))}catch(i){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(let n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}},Zd=class{constructor(n,t,i,r){this.impl=n,this.hooks=t,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Lh(e,n){!n?.injector&&Q1(Lh);let t=n?.injector??g(Me);return aT(t)?(Dl("NgAfterNextRender"),aM(e,t,n,!0)):lM}function sM(e,n){if(e instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[n]=e,t}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function aM(e,n,t,i){let r=n.get(t0);r.impl??=n.get(qd);let o=t?.phase??Yi.MixedReadWrite,s=t?.manualCleanup!==!0?n.get(pl):null,a=new Zd(r.impl,sM(e,o),i,s);return r.impl.register(a),a}var lM={destroy(){}};function Eo(e,n,t,i){let r=ie(),o=fh();if(fr(r,o,n)){let s=Ze(),a=jv();ZT(a,r,e,n,t,i)}return Eo}function cM(e,n,t,i){return fr(e,fh(),t)?n+ih(t)+i:sn}function Ea(e,n){return e<<17|n<<2}function ai(e){return e>>17&32767}function uM(e){return(e&2)==2}function dM(e,n){return e&131071|n<<17}function Kd(e){return e|2}function ar(e){return(e&131068)>>2}function id(e,n){return e&-131069|n<<2}function hM(e){return(e&1)===1}function Qd(e){return e|1}function fM(e,n,t,i,r,o){let s=o?n.classBindings:n.styleBindings,a=ai(s),l=ar(s);e[i]=t;let c=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||vo(d,u)>0)&&(c=!0)}else u=t;if(r)if(l!==0){let h=ai(e[a+1]);e[i+1]=Ea(h,a),h!==0&&(e[h+1]=id(e[h+1],i)),e[a+1]=dM(e[a+1],i)}else e[i+1]=Ea(a,0),a!==0&&(e[a+1]=id(e[a+1],i)),a=i;else e[i+1]=Ea(l,0),a===0?a=i:e[l+1]=id(e[l+1],i),l=i;c&&(e[i+1]=Kd(e[i+1])),k_(e,u,i,!0),k_(e,u,i,!1),pM(n,u,e,i,o),s=Ea(a,l),o?n.classBindings=s:n.styleBindings=s}function pM(e,n,t,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&vo(o,n)>=0&&(t[i+1]=Qd(t[i+1]))}function k_(e,n,t,i){let r=e[t+1],o=n===null,s=i?ai(r):ar(r),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];gM(l,n)&&(a=!0,e[s+1]=i?Qd(c):Kd(c)),s=i?ai(c):ar(c)}a&&(e[t+1]=i?Kd(r):Qd(r))}function gM(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?vo(e,n)>=0:!1}var Ct={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mM(e){return e.substring(Ct.key,Ct.keyEnd)}function _M(e){return vM(e),n0(e,i0(e,0,Ct.textEnd))}function n0(e,n){let t=Ct.textEnd;return t===n?-1:(n=Ct.keyEnd=yM(e,Ct.key=n,t),i0(e,n,t))}function vM(e){Ct.key=0,Ct.keyEnd=0,Ct.value=0,Ct.valueEnd=0,Ct.textEnd=e.length}function i0(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function yM(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}function Io(e,n,t){let i=ie(),r=fh();if(fr(i,r,n)){let o=Ze(),s=jv();FT(o,s,i,e,n,i[Ce],t,!1)}return Io}function Yd(e,n,t,i,r){let o=n.inputs,s=r?"class":"style";Rh(e,t,o[s],s,i)}function To(e,n){return bM(e,n,null,!0),To}function wl(e){wM(MM,DM,e,!0)}function DM(e,n){for(let t=_M(n);t>=0;t=n0(n,t))ah(e,mM(n),!0)}function bM(e,n,t,i){let r=ie(),o=Ze(),s=xv(2);if(o.firstUpdatePass&&o0(o,e,s,i),n!==sn&&fr(r,s,n)){let a=o.data[ui()];s0(o,a,r,r[Ce],e,r[s+1]=AM(n,t),i,s)}}function wM(e,n,t,i){let r=Ze(),o=xv(2);r.firstUpdatePass&&o0(r,null,o,i);let s=ie();if(t!==sn&&fr(s,o,t)){let a=r.data[ui()];if(a0(a,i)&&!r0(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=sd(l,t||"")),Yd(r,a,s,t,i)}else NM(r,a,s,s[Ce],s[o+1],s[o+1]=SM(e,n,t),i,o)}}function r0(e,n){return n>=e.expandoStartIndex}function o0(e,n,t,i){let r=e.data;if(r[t+1]===null){let o=r[ui()],s=r0(e,t);a0(o,i)&&n===null&&!s&&(n=!1),n=CM(r,o,n,i),fM(r,o,n,t,s,i)}}function CM(e,n,t,i){let r=DI(e),o=i?n.residualClasses:n.residualStyles;if(r===null)(i?n.classBindings:n.styleBindings)===0&&(t=rd(null,e,n,t,i),t=mo(t,n.attrs,i),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==r)if(t=rd(r,e,n,t,i),o===null){let l=EM(e,n,i);l!==void 0&&Array.isArray(l)&&(l=rd(null,e,n,l[1],i),l=mo(l,n.attrs,i),IM(e,n,i,l))}else o=TM(e,n,i)}return o!==void 0&&(i?n.residualClasses=o:n.residualStyles=o),t}function EM(e,n,t){let i=t?n.classBindings:n.styleBindings;if(ar(i)!==0)return e[ai(i)]}function IM(e,n,t,i){let r=t?n.classBindings:n.styleBindings;e[ai(r)]=i}function TM(e,n,t){let i,r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=mo(i,s,t)}return mo(i,n.attrs,t)}function rd(e,n,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],i=mo(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),i}function mo(e,n,t){let i=t?1:2,r=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),ah(e,s,t?!0:n[++o]))}return e===void 0?null:e}function SM(e,n,t){if(t==null||t==="")return Qe;let i=[],r=ml(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&n(i,r);return i}function MM(e,n,t){let i=String(n);i!==""&&!i.includes(" ")&&ah(e,i,t)}function NM(e,n,t,i,r,o,s,a){r===sn&&(r=Qe);let l=0,c=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=l<r.length?r[l+1]:void 0,f=c<o.length?o[c+1]:void 0,p=null,m;u===d?(l+=2,c+=2,h!==f&&(p=d,m=f)):d===null||u!==null&&u<d?(l+=2,p=u):(c+=2,p=d,m=f),p!==null&&s0(e,n,t,i,p,m,s,a),u=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}function s0(e,n,t,i,r,o,s,a){if(!(n.type&3))return;let l=e.data,c=l[a+1],u=hM(c)?P_(l,n,t,r,ar(c),s):void 0;if(!Xa(u)){Xa(o)||uM(c)&&(o=P_(l,null,t,r,a,s));let d=bv(ui(),t);ET(i,s,d,r,o)}}function P_(e,n,t,i,r,o){let s=n===null,a;for(;r>0;){let l=e[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=t[r+1];h===sn&&(h=d?Qe:void 0);let f=d?Zu(h,i):u===i?h:void 0;if(c&&!Xa(f)&&(f=Zu(l,i)),Xa(f)&&(a=f,s))return a;let p=e[r+1];r=s?ai(p):ar(p)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=Zu(l,i))}return a}function Xa(e){return e!==void 0}function AM(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=Le(ml(e)))),e}function a0(e,n){return(e.flags&(n?8:16))!==0}function RM(e,n,t,i,r,o){let s=n.consts,a=Ba(s,r),l=wo(n,e,2,i,a);return Oy(n,t,l,Ba(s,o)),l.attrs!==null&&Vd(l,l.attrs,!1),l.mergedAttrs!==null&&Vd(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function Ae(e,n,t,i){let r=ie(),o=Ze(),s=ft+e,a=r[Ce],l=o.firstCreatePass?RM(s,o,r,n,t,i):o.data[s],c=OM(o,r,l,a,n,e);r[s]=c;let u=dh(l);return Do(l,!0),wy(a,c,l),!nM(l)&&_h()&&Mh(o,r,c,l),cI()===0&&ri(c,r),uI(),u&&(Ny(o,r,l),My(o,l,r)),i!==null&&Ay(r,l),Ae}function Re(){let e=It();Av()?Rv():(e=e.parent,Do(e,!1));let n=e;hI(n)&&fI(),dI();let t=Ze();return t.firstCreatePass&&(yh(t,e),mv(e)&&t.queries.elementEnd(e)),n.classesWithoutHost!=null&&SI(n)&&Yd(t,n,ie(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&MI(n)&&Yd(t,n,ie(),n.stylesWithoutHost,!1),Re}function pr(e,n,t,i){return Ae(e,n,t,i),Re(),pr}var OM=(e,n,t,i,r,o)=>(vh(!0),dy(i,r,CI()));var Qn=void 0;function xM(e){let n=e,t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&i===0?1:5}var kM=["en",[["a","p"],["AM","PM"],Qn],[["AM","PM"],Qn,Qn],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qn,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qn,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qn,"{1} 'at' {0}",Qn],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",xM],od={};function Cl(e){let n=PM(e),t=F_(n);if(t)return t;let i=n.split("-")[0];if(t=F_(i),t)return t;if(i==="en")return kM;throw new I(701,!1)}function F_(e){return e in od||(od[e]=Ke.ng&&Ke.ng.common&&Ke.ng.common.locales&&Ke.ng.common.locales[e]),od[e]}var di=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(di||{});function PM(e){return e.toLowerCase().replace(/_/g,"-")}var el="en-US",FM="USD";var LM=el;function VM(e){typeof e=="string"&&(LM=e.toLowerCase().replace(/_/g,"-"))}var BM=(e,n,t)=>{};function hi(e,n,t,i){let r=ie(),o=Ze(),s=It();return UM(o,r,r[Ce],s,e,n,i),hi}function jM(e,n,t,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=n[Fa],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function UM(e,n,t,i,r,o,s){let a=dh(i),c=e.firstCreatePass&&Vy(e),u=n[Lt],d=Ly(n),h=!0;if(i.type&3||s){let m=gt(i,n),y=s?s(m):m,T=d.length,R=s?W=>s(Vt(W[i.index])):i.index,C=null;if(!s&&a&&(C=jM(e,n,r,i.index)),C!==null){let W=C.__ngLastListenerFn__||C;W.__ngNextListenerFn__=o,C.__ngLastListenerFn__=o,h=!1}else{o=V_(i,n,u,o),BM(m,r,o);let W=t.listen(y,r,o);d.push(o,W),c&&c.push(r,R,T,T+1)}}else o=V_(i,n,u,o);let f=i.outputs,p;if(h&&f!==null&&(p=f[r])){let m=p.length;if(m)for(let y=0;y<m;y+=2){let T=p[y],R=p[y+1],se=n[T][R].subscribe(o),_e=d.length;d.push(o,se),c&&c.push(r,i.index,_e,-(_e+1))}}}function L_(e,n,t,i){let r=Q(null);try{return kt(6,n,t),t(i)!==!1}catch(o){return By(e,o),!1}finally{kt(7,n,t),Q(r)}}function V_(e,n,t,i){return function r(o){if(o===Function)return i;let s=e.componentOffset>-1?ci(e.index,n):n;xh(s,5);let a=L_(n,t,i,o),l=r.__ngNextListenerFn__;for(;l;)a=L_(n,t,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function Vh(e=1){return wI(e)}function $M(e,n){let t=null,i=N1(e);for(let r=0;r<n.length;r++){let o=n[r];if(o==="*"){t=r;continue}if(i===null?nv(e,o,!0):O1(i,o))return r}return t}function l0(e){let n=ie()[ht][qe];if(!n.projection){let t=e?e.length:1,i=n.projection=y1(t,null),r=i.slice(),o=n.child;for(;o!==null;){if(o.type!==128){let s=e?$M(o,e):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function c0(e,n=0,t,i,r,o){let s=ie(),a=Ze(),l=i?e+1:null;l!==null&&e0(s,a,l,i,r,o,null,t);let c=wo(a,ft+e,16,null,t||null);c.projection===null&&(c.projection=n),Rv();let d=!s[ho]||Mv();s[ht][qe].projection[c.projection]===null&&l!==null?HM(s,a,l):d&&(c.flags&32)!==32&&wT(a,s,c)}function HM(e,n,t){let i=ft+t,r=n.data[i],o=e[i],s=Pd(o,r.tView.ssrId),a=jy(e,r,void 0,{dehydratedView:s});Uy(o,a,0,xd(r,s))}function u0(e,n,t){$S(e,n,t)}function Bh(e){let n=ie(),t=Ze(),i=kv();ph(i+1);let r=Fh(t,i);if(e.dirty&&oI(n)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=zS(n,i);e.reset(o,QI),e.notifyOnChanges()}return!0}return!1}function jh(){return jS(ie(),kv())}function GM(e,n,t,i){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=i}function Xe(e,n=""){let t=ie(),i=Ze(),r=e+ft,o=i.firstCreatePass?wo(i,r,1,n,null):i.data[r],s=zM(i,t,o,n,e);t[r]=s,_h()&&Mh(i,t,s,o),Do(o,!1)}var zM=(e,n,t,i,r)=>(vh(!0),cT(n[Ce],i));function So(e){return Mo("",e,""),So}function Mo(e,n,t){let i=ie(),r=cM(i,e,n,t);return r!==sn&&JT(i,ui(),r),Mo}var WM=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=uv(!1,t.type),r=i.length>0?bl([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=D({token:e,providedIn:"environment",factory:()=>new e(_(we))})}}return e})();function No(e){Dl("NgStandalone"),e.getStandaloneInjector=n=>n.get(WM).getOrCreateStandaloneInjector(e)}function qM(e,n){let t=e[n];return t===sn?void 0:t}function ZM(e,n,t,i,r,o){let s=n+t;return fr(e,s,r)?tM(e,s+1,o?i.call(o,r):i(r)):qM(e,s+1)}function Uh(e,n){let t=Ze(),i,r=e+ft;t.firstCreatePass?(i=KM(n,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=Xn(i.type,!0)),s,a=We(ke);try{let l=$a(!1),c=o();return $a(l),GM(t,ie(),r,c),c}finally{We(a)}}function KM(e,n){if(n)for(let t=n.length-1;t>=0;t--){let i=n[t];if(e===i.name)return i}}function $h(e,n,t){let i=e+ft,r=ie(),o=rI(r,i);return QM(r,i)?ZM(r,gI(),n,o.transform,t,o):o.transform(t)}function QM(e,n){return e[B].data[n].pure}var Ia=null;function YM(e){Ia!==null&&(e.defaultEncapsulation!==Ia.defaultEncapsulation||e.preserveWhitespaces!==Ia.preserveWhitespaces)||(Ia=e)}var nn=class{constructor(n){this.full=n;let t=n.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},d0=new nn("18.2.13");var El=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var Hh=new b(""),Ao=new b(""),Il=(()=>{class e{constructor(t,i,r){this._ngZone=t,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Gh||(JM(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{j.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(t)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static{this.\u0275fac=function(i){return new(i||e)(_(j),_(Tl),_(Ao))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),Tl=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Gh?.findTestabilityInTree(this,t,i)??null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function JM(e){Gh=e}var Gh;function gr(e){return!!e&&typeof e.then=="function"}function h0(e){return!!e&&typeof e.subscribe=="function"}var Sl=new b(""),f0=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=g(Sl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=r();if(gr(o))t.push(o);else if(h0(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ml=new b("");function XM(){Lm(()=>{throw new I(600,!1)})}function eN(e){return e.isBoundToModule}var tN=10;function nN(e,n,t){try{let i=t();return gr(i)?i.catch(r=>{throw n.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>e.handleError(i)),i}}function p0(e,n){return Array.isArray(n)?n.reduce(p0,e):w(w({},e),n)}var St=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=g(ZI),this.afterRenderManager=g(t0),this.zonelessEnabled=g(Ph),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Y,this.afterTick=new Y,this.componentTypes=[],this.components=[],this.isStable=g(Mn).hasPendingTasks.pipe(S(t=>!t)),this._injector=g(we)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,i){let r=t instanceof Za;if(!this._injector.get(f0).done){let h=!r&&sv(t),f=!1;throw new I(405,f)}let s;r?s=t:s=this._injector.get(or).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=eN(s)?void 0:this._injector.get(Sn),l=i||s.selector,c=s.create(Me.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(Hh,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Ra(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new I(101,!1);let t=Q(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Q(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(sr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<tN;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:o}of this._views)iN(r,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>hl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;Ra(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(Ml,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ra(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new I(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ra(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function iN(e,n,t,i){if(!t&&!hl(e))return;Gy(e,n,t&&!i?0:1)}var Jd=class{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},Nl=(()=>{class e{compileModuleSync(t){return new Ja(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=av(t),o=uy(r.declarations).reduce((s,a)=>{let l=Qt(a);return l&&s.push(new si(l)),s},[]);return new Jd(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),rN=new b("");function oN(e,n,t){let i=new Ja(t);return Promise.resolve(i)}function B_(e){for(let n=e.length-1;n>=0;n--)if(e[n]!==void 0)return e[n]}var sN=(()=>{class e{constructor(){this.zone=g(j),this.changeDetectionScheduler=g(rr),this.applicationRef=g(St)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function aN({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new j(X(w({},g0()),{scheduleInRootZone:t})),[{provide:j,useFactory:e},{provide:er,multi:!0,useFactory:()=>{let i=g(sN,{optional:!0});return()=>i.initialize()}},{provide:er,multi:!0,useFactory:()=>{let i=g(lN);return()=>{i.initialize()}}},n===!0?{provide:Zy,useValue:!0}:[],{provide:Ky,useValue:t??ey}]}function g0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var lN=(()=>{class e{constructor(){this.subscription=new ue,this.initialized=!1,this.zone=g(j),this.pendingTasks=g(Mn)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{j.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{j.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var cN=(()=>{class e{constructor(){this.appRef=g(St),this.taskService=g(Mn),this.ngZone=g(j),this.zonelessEnabled=g(Ph),this.disableScheduling=g(Zy,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ue,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ga):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(g(Ky,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof za||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?C_:ty;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ga+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,C_(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function uN(){return typeof $localize<"u"&&$localize.locale||el}var Ro=new b("",{providedIn:"root",factory:()=>g(Ro,U.Optional|U.SkipSelf)||uN()}),m0=new b("",{providedIn:"root",factory:()=>FM});var tl=new b("");function Ta(e){return!e.moduleRef}function dN(e){let n=Ta(e)?e.r3Injector:e.moduleRef.injector,t=n.get(j);return t.run(()=>{Ta(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=n.get(Xt,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:o=>{i.handleError(o)}})}),Ta(e)){let o=()=>n.destroy(),s=e.platformInjector.get(tl);s.add(o),n.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(tl);s.add(o),e.moduleRef.onDestroy(()=>{Ra(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return nN(i,t,()=>{let o=n.get(f0);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(Ro,el);if(VM(s||el),Ta(e)){let a=n.get(St);return e.rootComponent!==void 0&&a.bootstrap(e.rootComponent),a}else return hN(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function hN(e,n){let t=e.injector.get(St);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new I(-403,!1);n.push(e)}var _0=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){let r=i?.scheduleInRootZone,o=()=>qI(i?.ngZone,X(w({},g0({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),{scheduleInRootZone:r})),s=i?.ignoreChangesOutsideZone,a=[aN({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:rr,useExisting:cN}],l=JS(t.moduleType,this.injector,a);return dN({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,i=[]){let r=p0({},i);return oN(this.injector,r,t).then(o=>this.bootstrapModuleFactory(o,r))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let t=this._injector.get(tl,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||e)(_(Me))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),ao=null,v0=new b("");function fN(e){if(ao&&!ao.get(v0,!1))throw new I(400,!1);XM(),ao=e;let n=e.get(_0);return mN(e),n}function zh(e,n,t=[]){let i=`Platform: ${n}`,r=new b(i);return(o=[])=>{let s=y0();if(!s||s.injector.get(v0,!1)){let a=[...t,...o,{provide:r,useValue:!0}];e?e(a):fN(pN(a,i))}return gN(r)}}function pN(e=[],n){return Me.create({name:n,providers:[{provide:ll,useValue:"platform"},{provide:tl,useValue:new Set([()=>ao=null])},...e]})}function gN(e){let n=y0();if(!n)throw new I(401,!1);return n}function y0(){return ao?.get(_0)??null}function mN(e){e.get(Ch,null)?.forEach(t=>t())}function Wh(){return!1}var Nn=(()=>{class e{static{this.__NG_ELEMENT_ID__=_N}}return e})();function _N(e){return vN(It(),ie(),(e&16)===16)}function vN(e,n,t){if(dl(e)&&!t){let i=ci(e.index,n);return new oi(i,i)}else if(e.type&175){let i=n[ht];return new oi(i,n)}return null}var Xd=class{constructor(){}supports(n){return Xy(n)}create(n){return new eh(n)}},yN=(e,n)=>n,eh=class{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||yN}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<j_(i,r,o)?t:i,a=j_(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){let f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!Xy(n))throw new I(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,XS(n,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,i,r){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,r)):(n=this._linkedRecords===null?null:this._linkedRecords.get(i,r),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,r)):n=this._addAfter(new th(t,i),o,r)),n}_verifyReinsertion(n,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let r=n._prevRemoved,o=n._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,t,i),this._addToMoves(n,i),n}_moveAfter(n,t,i){return this._unlink(n),this._insertAfter(n,t,i),this._addToMoves(n,i),n}_addAfter(n,t,i){return this._insertAfter(n,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,i){let r=t===null?this._itHead:t._next;return n._next=r,n._prev=t,r===null?this._itTail=n:r._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new nl),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,i=n._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new nl),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},th=class{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},nh=class{constructor(){this._head=null,this._tail=null}add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){let t=n._prevDup,i=n._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},nl=class{constructor(){this.map=new Map}put(n){let t=n.trackById,i=this.map.get(t);i||(i=new nh,this.map.set(t,i)),i.add(n)}get(n,t){let i=n,r=this.map.get(i);return r?r.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function j_(e,n,t){let i=e.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+n+r}function U_(){return new qh([new Xd])}var qh=(()=>{class e{static{this.\u0275prov=D({token:e,providedIn:"root",factory:U_})}constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||U_()),deps:[[e,new oh,new lr]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new I(901,!1)}}return e})();var D0=zh(null,"core",[]),b0=(()=>{class e{constructor(t){}static{this.\u0275fac=function(i){return new(i||e)(_(St))}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();function Al(e,n){let t=Qt(e),i=n.elementInjector||cl();return new si(t).create(i,n.projectableNodes,n.hostElement,n.environmentInjector)}function w0(e){let n=Qt(e);if(!n)return null;let t=new si(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var R0=null;function fi(){return R0}function O0(e){R0??=e}var Rl=class{};var me=new b(""),tf=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>g(EN),providedIn:"platform"})}}return e})(),x0=new b(""),EN=(()=>{class e extends tf{constructor(){super(),this._doc=g(me),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fi().getBaseHref(this._doc)}onPopState(t){let i=fi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=fi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function nf(e,n){if(e.length==0)return n;if(n.length==0)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,t==2?e+n.substring(1):t==1?e+n:e+"/"+n}function C0(e){let n=e.match(/#|\?|$/),t=n&&n.index||e.length,i=t-(e[t-1]==="/"?1:0);return e.slice(0,i)+e.slice(t)}function ln(e){return e&&e[0]!=="?"?"?"+e:e}var pi=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>g(rf),providedIn:"root"})}}return e})(),k0=new b(""),rf=(()=>{class e extends pi{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??g(me).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return nf(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+ln(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+ln(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+ln(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||e)(_(tf),_(k0,8))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),P0=(()=>{class e extends pi{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=nf(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+ln(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+ln(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||e)(_(tf),_(k0,8))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),_r=(()=>{class e{constructor(t){this._subject=new ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=SN(C0(E0(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ln(i))}normalize(t){return e.stripTrailingSlash(TN(this._basePath,E0(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ln(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ln(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=ln}static{this.joinWithSlash=nf}static{this.stripTrailingSlash=C0}static{this.\u0275fac=function(i){return new(i||e)(_(pi))}}static{this.\u0275prov=D({token:e,factory:()=>IN(),providedIn:"root"})}}return e})();function IN(){return new _r(_(pi))}function TN(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function E0(e){return e.replace(/\/index.html$/,"")}function SN(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var F0={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},L0=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(L0||{});var cn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Oo(e,n){let t=Cl(e),i=t[di.NumberSymbols][n];if(typeof i>"u"){if(n===cn.CurrencyDecimal)return t[di.NumberSymbols][cn.Decimal];if(n===cn.CurrencyGroup)return t[di.NumberSymbols][cn.Group]}return i}function MN(e,n){return Cl(e)[di.NumberFormats][n]}function NN(e){return Cl(e)[di.Currencies]}function AN(e,n,t="en"){let i=NN(t)[e]||F0[e]||[],r=i[1];return n==="narrow"&&typeof r=="string"?r:i[0]||e}var RN=2;function ON(e){let n,t=F0[e];return t&&(n=t[2]),typeof n=="number"?n:RN}var xN=/^(\d+)?\.((\d+)(-(\d+))?)?$/,I0=22,Ol=".",xo="0",kN=";",PN=",",Zh="#",T0="\xA4";function FN(e,n,t,i,r,o,s=!1){let a="",l=!1;if(!isFinite(e))a=Oo(t,cn.Infinity);else{let c=jN(e);s&&(c=BN(c));let u=n.minInt,d=n.minFrac,h=n.maxFrac;if(o){let R=o.match(xN);if(R===null)throw new Error(`${o} is not a valid digit info`);let C=R[1],W=R[3],se=R[5];C!=null&&(u=Kh(C)),W!=null&&(d=Kh(W)),se!=null?h=Kh(se):W!=null&&d>h&&(h=d)}UN(c,d,h);let f=c.digits,p=c.integerLen,m=c.exponent,y=[];for(l=f.every(R=>!R);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?y=f.splice(p,f.length):(y=f,f=[0]);let T=[];for(f.length>=n.lgSize&&T.unshift(f.splice(-n.lgSize,f.length).join(""));f.length>n.gSize;)T.unshift(f.splice(-n.gSize,f.length).join(""));f.length&&T.unshift(f.join("")),a=T.join(Oo(t,i)),y.length&&(a+=Oo(t,r)+y.join("")),m&&(a+=Oo(t,cn.Exponential)+"+"+m)}return e<0&&!l?a=n.negPre+a+n.negSuf:a=n.posPre+a+n.posSuf,a}function LN(e,n,t,i,r){let o=MN(n,L0.Currency),s=VN(o,Oo(n,cn.MinusSign));return s.minFrac=ON(i),s.maxFrac=s.minFrac,FN(e,s,n,cn.CurrencyGroup,cn.CurrencyDecimal,r).replace(T0,t).replace(T0,"").trim()}function VN(e,n="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=e.split(kN),r=i[0],o=i[1],s=r.indexOf(Ol)!==-1?r.split(Ol):[r.substring(0,r.lastIndexOf(xo)+1),r.substring(r.lastIndexOf(xo)+1)],a=s[0],l=s[1]||"";t.posPre=a.substring(0,a.indexOf(Zh));for(let u=0;u<l.length;u++){let d=l.charAt(u);d===xo?t.minFrac=t.maxFrac=u+1:d===Zh?t.maxFrac=u+1:t.posSuf+=d}let c=a.split(PN);if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let u=r.length-t.posPre.length-t.posSuf.length,d=o.indexOf(Zh);t.negPre=o.substring(0,d).replace(/'/g,""),t.negSuf=o.slice(d+u).replace(/'/g,"")}else t.negPre=n+t.posPre,t.negSuf=t.posSuf;return t}function BN(e){if(e.digits[0]===0)return e;let n=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(n===0?e.digits.push(0,0):n===1&&e.digits.push(0),e.integerLen+=2),e}function jN(e){let n=Math.abs(e)+"",t=0,i,r,o,s,a;for((r=n.indexOf(Ol))>-1&&(n=n.replace(Ol,"")),(o=n.search(/e/i))>0?(r<0&&(r=o),r+=+n.slice(o+1),n=n.substring(0,o)):r<0&&(r=n.length),o=0;n.charAt(o)===xo;o++);if(o===(a=n.length))i=[0],r=1;else{for(a--;n.charAt(a)===xo;)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(n.charAt(o))}return r>I0&&(i=i.splice(0,I0-1),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}function UN(e,n,t){if(n>t)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${t}).`);let i=e.digits,r=i.length-e.integerLen,o=Math.min(Math.max(n,r),t),s=o+e.integerLen,a=i[s];if(s>0){i.splice(Math.max(e.integerLen,s));for(let d=s;d<i.length;d++)i[d]=0}else{r=Math.max(0,r),e.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let d=1;d<s;d++)i[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)i.unshift(0),e.integerLen++;i.unshift(1),e.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=o!==0,c=n+e.integerLen,u=i.reduceRight(function(d,h,f,p){return h=h+d,p[f]=h<10?h:h-10,l&&(p[f]===0&&f>=c?p.pop():l=!1),h>=10?1:0},0);u&&(i.unshift(u),e.integerLen++)}function Kh(e){let n=parseInt(e);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+e);return n}function xl(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}var Qh=class{constructor(n,t,i,r){this.$implicit=n,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},V0=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new Qh(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),S0(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);S0(o,r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(ke(an),ke(tn),ke(qh))}}static{this.\u0275dir=li({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function S0(e,n){e.context.$implicit=n.item}var B0=(()=>{class e{constructor(t,i){this._viewContainer=t,this._context=new Yh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){M0("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){M0("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(ke(an),ke(tn))}}static{this.\u0275dir=li({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),Yh=class{constructor(){this.$implicit=null,this.ngIf=null}};function M0(e,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Le(n)}'.`)}function $N(e,n){return new I(2100,!1)}var j0=(()=>{class e{constructor(t,i="USD"){this._locale=t,this._defaultCurrencyCode=i}transform(t,i=this._defaultCurrencyCode,r="symbol",o,s){if(!HN(t))return null;s||=this._locale,typeof r=="boolean"&&(r=r?"symbol":"code");let a=i||this._defaultCurrencyCode;r!=="code"&&(r==="symbol"||r==="symbol-narrow"?a=AN(a,r==="symbol"?"wide":"narrow",s):a=r);try{let l=GN(t);return LN(l,s,a,i,o)}catch(l){throw $N(e,l.message)}}static{this.\u0275fac=function(i){return new(i||e)(ke(Ro,16),ke(m0,16))}}static{this.\u0275pipe=iv({name:"currency",type:e,pure:!0,standalone:!0})}}return e})();function HN(e){return!(e==null||e===""||e!==e)}function GN(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new Error(`${e} is not a number`);return e}var kl=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})(),of="browser",zN="server";function U0(e){return e===of}function vr(e){return e===zN}var $0=(()=>{class e{static{this.\u0275prov=D({token:e,providedIn:"root",factory:()=>U0(g(Ne))?new Jh(g(me),window):new Xh})}}return e})(),Jh=class{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let t=WN(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let t=n.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function WN(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}r=i.nextNode()}}return null}var Xh=class{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}},mr=class{};var Po=class{},Fl=class{},un=class e{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(n.name,t);let r=(n.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=n.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(n,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var af=class{encodeKey(n){return G0(n)}encodeValue(n){return G0(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function qN(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var ZN=/%(\d[a-f0-9])/gi,KN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function G0(e){return encodeURIComponent(e).replace(ZN,(n,t)=>KN[t]??n)}function Pl(e){return`${e}`}var Rn=class e{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new af,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=qN(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let i=n.fromObject[t],r=Array.isArray(i)?i.map(Pl):[Pl(i)];this.map.set(t,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(i=>{let r=n[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push(Pl(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let i=this.map.get(n.param)||[],r=i.indexOf(Pl(n.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var lf=class{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function QN(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function z0(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function W0(e){return typeof Blob<"u"&&e instanceof Blob}function q0(e){return typeof FormData<"u"&&e instanceof FormData}function YN(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var ko=class e{constructor(n,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase();let o;if(QN(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new un,this.context??=new lf,!this.params)this.params=new Rn,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||z0(this.body)||W0(this.body)||q0(this.body)||YN(this.body)?this.body:this.body instanceof Rn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||q0(this.body)?null:W0(this.body)?this.body.type||null:z0(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Rn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(n={}){let t=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=n.body!==void 0?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress,c=n.headers||this.headers,u=n.params||this.params,d=n.context??this.context;return n.setHeaders!==void 0&&(c=Object.keys(n.setHeaders).reduce((h,f)=>h.set(f,n.setHeaders[f]),c)),n.setParams&&(u=Object.keys(n.setParams).reduce((h,f)=>h.set(f,n.setParams[f]),u)),new e(t,i,s,{params:u,headers:c,context:d,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},On=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(On||{}),Fo=class{constructor(n,t=200,i="OK"){this.headers=n.headers||new un,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},Ll=class e extends Fo{constructor(n={}){super(n),this.type=On.ResponseHeader}clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Lo=class e extends Fo{constructor(n={}){super(n),this.type=On.Response,this.body=n.body!==void 0?n.body:null}clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},An=class extends Fo{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},Y0=200,JN=204;function sf(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Vo=(()=>{class e{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof ko)o=t;else{let l;r.headers instanceof un?l=r.headers:l=new un(r.headers);let c;r.params&&(r.params instanceof Rn?c=r.params:c=new Rn({fromObject:r.params})),o=new ko(t,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=E(o).pipe(Kt(l=>this.handler.handle(l)));if(t instanceof ko||r.observe==="events")return s;let a=s.pipe(he(l=>l instanceof Lo));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(S(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(S(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(S(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(S(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new Rn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,sf(r,i))}post(t,i,r={}){return this.request("POST",t,sf(r,i))}put(t,i,r={}){return this.request("PUT",t,sf(r,i))}static{this.\u0275fac=function(i){return new(i||e)(_(Po))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),XN=/^\)\]\}',?\n/,eA="X-Request-URL";function Z0(e){if(e.url)return e.url;let n=eA.toLocaleLowerCase();return e.headers.get(n)}var tA=(()=>{class e{constructor(){this.fetchImpl=g(cf,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=g(j)}handle(t){return new A(i=>{let r=new AbortController;return this.doRequest(t,r.signal,i).then(uf,o=>i.error(new An({error:o}))),()=>r.abort()})}doRequest(t,i,r){return Ue(this,null,function*(){let o=this.createRequestInit(t),s;try{let f=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,w({signal:i},o)));nA(f),r.next({type:On.Sent}),s=yield f}catch(f){r.error(new An({error:f,status:f.status??0,statusText:f.statusText,url:t.urlWithParams,headers:f.headers}));return}let a=new un(s.headers),l=s.statusText,c=Z0(s)??t.urlWithParams,u=s.status,d=null;if(t.reportProgress&&r.next(new Ll({headers:a,status:u,statusText:l,url:c})),s.body){let f=s.headers.get("content-length"),p=[],m=s.body.getReader(),y=0,T,R,C=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Ue(this,null,function*(){for(;;){let{done:se,value:_e}=yield m.read();if(se)break;if(p.push(_e),y+=_e.length,t.reportProgress){R=t.responseType==="text"?(R??"")+(T??=new TextDecoder).decode(_e,{stream:!0}):void 0;let zt=()=>r.next({type:On.DownloadProgress,total:f?+f:void 0,loaded:y,partialText:R});C?C.run(zt):zt()}}}));let W=this.concatChunks(p,y);try{let se=s.headers.get("Content-Type")??"";d=this.parseBody(t,W,se)}catch(se){r.error(new An({error:se,headers:new un(s.headers),status:s.status,statusText:s.statusText,url:Z0(s)??t.urlWithParams}));return}}u===0&&(u=d?Y0:0),u>=200&&u<300?(r.next(new Lo({body:d,headers:a,status:u,statusText:l,url:c})),r.complete()):r.error(new An({error:d,headers:a,status:u,statusText:l,url:c}))})}parseBody(t,i,r){switch(t.responseType){case"json":let o=new TextDecoder().decode(i).replace(XN,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(t){let i={},r=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>i[o]=s.join(",")),t.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:i,credentials:r}}concatChunks(t,i){let r=new Uint8Array(i),o=0;for(let s of t)r.set(s,o),o+=s.length;return r}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),cf=class{};function uf(){}function nA(e){e.then(uf,uf)}function iA(e,n){return n(e)}function rA(e,n,t){return(i,r)=>pt(t,()=>n(i,o=>e(o,r)))}var J0=new b(""),oA=new b(""),sA=new b("",{providedIn:"root",factory:()=>!0});var K0=(()=>{class e extends Po{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=g(Mn),this.contributeToStability=g(sA)}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(J0),...this.injector.get(oA,[])]));this.chain=i.reduceRight((r,o)=>rA(r,o,this.injector),iA)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Cn(()=>this.pendingTasks.remove(i)))}else return this.chain(t,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||e)(_(Fl),_(we))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})();var aA=/^\)\]\}',?\n/;function lA(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var Q0=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new I(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ee(i.\u0275loadImpl()):E(null)).pipe(te(()=>new A(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((m,y)=>s.setRequestHeader(m,y.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let m=t.detectContentTypeHeader();m!==null&&s.setRequestHeader("Content-Type",m)}if(t.responseType){let m=t.responseType.toLowerCase();s.responseType=m!=="json"?m:"text"}let a=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let m=s.statusText||"OK",y=new un(s.getAllResponseHeaders()),T=lA(s)||t.url;return l=new Ll({headers:y,status:s.status,statusText:m,url:T}),l},u=()=>{let{headers:m,status:y,statusText:T,url:R}=c(),C=null;y!==JN&&(C=typeof s.response>"u"?s.responseText:s.response),y===0&&(y=C?Y0:0);let W=y>=200&&y<300;if(t.responseType==="json"&&typeof C=="string"){let se=C;C=C.replace(aA,"");try{C=C!==""?JSON.parse(C):null}catch(_e){C=se,W&&(W=!1,C={error:_e,text:C})}}W?(o.next(new Lo({body:C,headers:m,status:y,statusText:T,url:R||void 0})),o.complete()):o.error(new An({error:C,headers:m,status:y,statusText:T,url:R||void 0}))},d=m=>{let{url:y}=c(),T=new An({error:m,status:s.status||0,statusText:s.statusText||"Unknown Error",url:y||void 0});o.error(T)},h=!1,f=m=>{h||(o.next(c()),h=!0);let y={type:On.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),t.responseType==="text"&&s.responseText&&(y.partialText=s.responseText),o.next(y)},p=m=>{let y={type:On.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),o.next(y)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",f),a!==null&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:On.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",f),a!==null&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||e)(_(mr))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),X0=new b(""),cA="XSRF-TOKEN",uA=new b("",{providedIn:"root",factory:()=>cA}),dA="X-XSRF-TOKEN",hA=new b("",{providedIn:"root",factory:()=>dA}),Vl=class{},fA=(()=>{class e{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=xl(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(i){return new(i||e)(_(me),_(Ne),_(uA))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})();function pA(e,n){let t=e.url.toLowerCase();if(!g(X0)||e.method==="GET"||e.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return n(e);let i=g(Vl).getToken(),r=g(hA);return i!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),n(e)}function eD(...e){let n=[Vo,Q0,K0,{provide:Po,useExisting:K0},{provide:Fl,useFactory:()=>g(tA,{optional:!0})??g(Q0)},{provide:J0,useValue:pA,multi:!0},{provide:X0,useValue:!0},{provide:Vl,useClass:fA}];for(let t of e)n.push(...t.\u0275providers);return al(n)}var ff=class extends Rl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},pf=class e extends ff{static makeCurrent(){O0(new e)}onAndCancel(n,t,i){return n.addEventListener(t,i),()=>{n.removeEventListener(t,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=gA();return t==null?null:mA(t)}resetBaseElement(){Bo=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return xl(document.cookie,n)}},Bo=null;function gA(){return Bo=Bo||document.querySelector("base"),Bo?Bo.getAttribute("href"):null}function mA(e){return new URL(e,document.baseURI).pathname}var gf=class{addToWindow(n){Ke.getAngularTestability=(i,r=!0)=>{let o=n.findTestabilityInTree(i,r);if(o==null)throw new I(5103,!1);return o},Ke.getAllAngularTestabilities=()=>n.getAllTestabilities(),Ke.getAllAngularRootElements=()=>n.getAllRootElements();let t=i=>{let r=Ke.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};Ke.frameworkStabilizers||(Ke.frameworkStabilizers=[]),Ke.frameworkStabilizers.push(t)}findTestabilityInTree(n,t,i){if(t==null)return null;let r=n.getTestability(t);return r??(i?fi().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},_A=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),mf=new b(""),oD=(()=>{class e{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new I(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||e)(_(mf),_(j))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),Bl=class{constructor(n){this._doc=n}},df="ng-app-id",sD=(()=>{class e{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=vr(o),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${df}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){let r=this.styleRef;if(r.has(t)){let o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(df),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(df,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){let r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||e)(_(me),_(gl),_(Eh,8),_(Ne))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),hf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},vf=/%COMP%/g,aD="%COMP%",vA=`_nghost-${aD}`,yA=`_ngcontent-${aD}`,DA=!0,bA=new b("",{providedIn:"root",factory:()=>DA});function wA(e){return yA.replace(vf,e)}function CA(e){return vA.replace(vf,e)}function lD(e,n){return n.map(t=>t.replace(vf,e))}var nD=(()=>{class e{constructor(t,i,r,o,s,a,l,c=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=vr(a),this.defaultRenderer=new jo(t,s,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ft.ShadowDom&&(i=X(w({},i),{encapsulation:Ft.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof jl?r.applyToHost(t):r instanceof Uo&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Ft.Emulated:o=new jl(l,c,i,this.appId,u,s,a,d);break;case Ft.ShadowDom:return new _f(l,c,t,i,s,a,this.nonce,d);default:o=new Uo(l,c,i,u,s,a,d);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||e)(_(oD),_(sD),_(gl),_(bA),_(me),_(Ne),_(j),_(Eh))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),jo=class{constructor(n,t,i,r){this.eventManager=n,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(hf[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(iD(n)?n.content:n).appendChild(t)}insertBefore(n,t,i){n&&(iD(n)?n.content:n).insertBefore(t,i)}removeChild(n,t){t.remove()}selectRootElement(n,t){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new I(-5104,!1);return t||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,i,r){if(r){t=r+":"+t;let o=hf[r];o?n.setAttributeNS(o,t,i):n.setAttribute(t,i)}else n.setAttribute(t,i)}removeAttribute(n,t,i){if(i){let r=hf[i];r?n.removeAttributeNS(r,t):n.removeAttribute(`${i}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,i,r){r&(en.DashCase|en.Important)?n.style.setProperty(t,i,r&en.Important?"important":""):n.style[t]=i}removeStyle(n,t,i){i&en.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,i){n!=null&&(n[t]=i)}setValue(n,t){n.nodeValue=t}listen(n,t,i){if(typeof n=="string"&&(n=fi().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(i))}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function iD(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var _f=class extends jo{constructor(n,t,i,r,o,s,a,l){super(n,o,s,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=lD(r.id,r.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,i){return super.insertBefore(this.nodeOrShadowRoot(n),t,i)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Uo=class extends jo{constructor(n,t,i,r,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?lD(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},jl=class extends Uo{constructor(n,t,i,r,o,s,a,l){let c=r+"-"+i.id;super(n,t,i,o,s,a,l,c),this.contentAttr=wA(c),this.hostAttr=CA(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let i=super.createElement(n,t);return super.setAttribute(i,this.contentAttr,""),i}},EA=(()=>{class e extends Bl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||e)(_(me))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),rD=["alt","control","meta","shift"],IA={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TA={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},SA=(()=>{class e extends Bl{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,i,r){let o=e.parseEventName(i),s=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fi().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),rD.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=IA[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),rD.forEach(s=>{if(s!==r){let a=TA[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{e.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(i){return new(i||e)(_(me))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})();function MA(){pf.makeCurrent()}function NA(){return new Xt}function AA(){return ly(document),document}var RA=[{provide:Ne,useValue:of},{provide:Ch,useValue:MA,multi:!0},{provide:me,useFactory:AA,deps:[]}],cD=zh(D0,"browser",RA),OA=new b(""),xA=[{provide:Ao,useClass:gf,deps:[]},{provide:Hh,useClass:Il,deps:[j,Tl,Ao]},{provide:Il,useClass:Il,deps:[j,Tl,Ao]}],kA=[{provide:ll,useValue:"root"},{provide:Xt,useFactory:NA,deps:[]},{provide:mf,useClass:EA,multi:!0,deps:[me,j,Ne]},{provide:mf,useClass:SA,multi:!0,deps:[me]},nD,sD,oD,{provide:sr,useExisting:nD},{provide:mr,useClass:_A,deps:[]},[]],uD=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:gl,useValue:t.appId}]}}static{this.\u0275fac=function(i){return new(i||e)(_(OA,12))}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({providers:[...kA,...xA],imports:[kl,b0]})}}return e})();var dD=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||e)(_(me))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var V="primary",ns=Symbol("RouteTitle"),Cf=class{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Er(e){return new Cf(e)}function FA(e,n,t){let i=t.path.split("/");if(i.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function LA(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Bt(e[t],n[t]))return!1;return!0}function Bt(e,n){let t=e?Ef(e):void 0,i=n?Ef(n):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!CD(e[r],n[r]))return!1;return!0}function Ef(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function CD(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),i=[...n].sort();return t.every((r,o)=>i[o]===r)}else return e===n}function ED(e){return e.length>0?e[e.length-1]:null}function kn(e){return ju(e)?e:gr(e)?ee(Promise.resolve(e)):E(e)}var VA={exact:TD,subset:SD},ID={exact:BA,subset:jA,ignored:()=>!0};function fD(e,n,t){return VA[t.paths](e.root,n.root,t.matrixParams)&&ID[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function BA(e,n){return Bt(e,n)}function TD(e,n,t){if(!mi(e.segments,n.segments)||!Hl(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let i in n.children)if(!e.children[i]||!TD(e.children[i],n.children[i],t))return!1;return!0}function jA(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>CD(e[t],n[t]))}function SD(e,n,t){return MD(e,n,n.segments,t)}function MD(e,n,t,i){if(e.segments.length>t.length){let r=e.segments.slice(0,t.length);return!(!mi(r,t)||n.hasChildren()||!Hl(r,t,i))}else if(e.segments.length===t.length){if(!mi(e.segments,t)||!Hl(e.segments,t,i))return!1;for(let r in n.children)if(!e.children[r]||!SD(e.children[r],n.children[r],i))return!1;return!0}else{let r=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!mi(e.segments,r)||!Hl(e.segments,r,i)||!e.children[V]?!1:MD(e.children[V],n,o,i)}}function Hl(e,n,t){return n.every((i,r)=>ID[t](e[r].parameters,i.parameters))}var hn=class{constructor(n=new J([],{}),t={},i=null){this.root=n,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Er(this.queryParams),this._queryParamMap}toString(){return HA.serialize(this)}},J=class{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gl(this)}},gi=class{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Er(this.parameters),this._parameterMap}toString(){return AD(this)}};function UA(e,n){return mi(e,n)&&e.every((t,i)=>Bt(t.parameters,n[i].parameters))}function mi(e,n){return e.length!==n.length?!1:e.every((t,i)=>t.path===n[i].path)}function $A(e,n){let t=[];return Object.entries(e.children).forEach(([i,r])=>{i===V&&(t=t.concat(n(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==V&&(t=t.concat(n(r,i)))}),t}var is=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>new Ir,providedIn:"root"})}}return e})(),Ir=class{parse(n){let t=new Tf(n);return new hn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${$o(n.root,!0)}`,i=WA(n.queryParams),r=typeof n.fragment=="string"?`#${GA(n.fragment)}`:"";return`${t}${i}${r}`}},HA=new Ir;function Gl(e){return e.segments.map(n=>AD(n)).join("/")}function $o(e,n){if(!e.hasChildren())return Gl(e);if(n){let t=e.children[V]?$o(e.children[V],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==V&&i.push(`${r}:${$o(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=$A(e,(i,r)=>r===V?[$o(e.children[V],!1)]:[`${r}:${$o(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[V]!=null?`${Gl(e)}/${t[0]}`:`${Gl(e)}/(${t.join("//")})`}}function ND(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ul(e){return ND(e).replace(/%3B/gi,";")}function GA(e){return encodeURI(e)}function If(e){return ND(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zl(e){return decodeURIComponent(e)}function pD(e){return zl(e.replace(/\+/g,"%20"))}function AD(e){return`${If(e.path)}${zA(e.parameters)}`}function zA(e){return Object.entries(e).map(([n,t])=>`;${If(n)}=${If(t)}`).join("")}function WA(e){let n=Object.entries(e).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Ul(t)}=${Ul(r)}`).join("&"):`${Ul(t)}=${Ul(i)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var qA=/^[^\/()?;#]+/;function yf(e){let n=e.match(qA);return n?n[0]:""}var ZA=/^[^\/()?;=#]+/;function KA(e){let n=e.match(ZA);return n?n[0]:""}var QA=/^[^=?&#]+/;function YA(e){let n=e.match(QA);return n?n[0]:""}var JA=/^[^&#]+/;function XA(e){let n=e.match(JA);return n?n[0]:""}var Tf=class{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new J([],{}):new J([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(i[V]=new J(n,t)),i}parseSegment(){let n=yf(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(n),new gi(zl(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=KA(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=yf(this.remaining);r&&(i=r,this.capture(i))}n[zl(t)]=zl(i)}parseQueryParam(n){let t=YA(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=XA(this.remaining);s&&(i=s,this.capture(i))}let r=pD(t),o=pD(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=yf(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new I(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=V);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[V]:new J([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new I(4011,!1)}};function RD(e){return e.segments.length>0?new J([],{[V]:e}):e}function OD(e){let n={};for(let[i,r]of Object.entries(e.children)){let o=OD(r);if(i===V&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}let t=new J(e.segments,n);return eR(t)}function eR(e){if(e.numberOfChildren===1&&e.children[V]){let n=e.children[V];return new J(e.segments.concat(n.segments),n.children)}return e}function Zo(e){return e instanceof hn}function tR(e,n,t=null,i=null){let r=xD(e);return kD(r,n,t,i)}function xD(e){let n;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new J(o.url,s);return o===e&&(n=a),a}let i=t(e.root),r=RD(i);return n??r}function kD(e,n,t,i){let r=e;for(;r.parent;)r=r.parent;if(n.length===0)return Df(r,r,r,t,i);let o=nR(n);if(o.toRoot())return Df(r,r,new J([],{}),t,i);let s=iR(o,r,e),a=s.processChildren?zo(s.segmentGroup,s.index,o.commands):FD(s.segmentGroup,s.index,o.commands);return Df(r,s.segmentGroup,a,t,i)}function Wl(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Ko(e){return typeof e=="object"&&e!=null&&e.outlets}function Df(e,n,t,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===n?s=t:s=PD(e,n,t);let a=RD(OD(s));return new hn(a,o,r)}function PD(e,n,t){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===n?i[r]=t:i[r]=PD(o,n,t)}),new J(e.segments,i)}var ql=class{constructor(n,t,i){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=i,n&&i.length>0&&Wl(i[0]))throw new I(4003,!1);let r=i.find(Ko);if(r&&r!==ED(i))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function nR(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new ql(!0,0,e);let n=0,t=!1,i=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?n++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new ql(t,n,i)}var br=class{constructor(n,t,i){this.segmentGroup=n,this.processChildren=t,this.index=i}};function iR(e,n,t){if(e.isAbsolute)return new br(n,!0,0);if(!t)return new br(n,!1,NaN);if(t.parent===null)return new br(t,!0,0);let i=Wl(e.commands[0])?0:1,r=t.segments.length-1+i;return rR(t,r,e.numberOfDoubleDots)}function rR(e,n,t){let i=e,r=n,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new I(4005,!1);r=i.segments.length}return new br(i,!1,r-o)}function oR(e){return Ko(e[0])?e[0].outlets:{[V]:e}}function FD(e,n,t){if(e??=new J([],{}),e.segments.length===0&&e.hasChildren())return zo(e,n,t);let i=sR(e,n,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new J(e.segments.slice(0,i.pathIndex),{});return o.children[V]=new J(e.segments.slice(i.pathIndex),e.children),zo(o,0,r)}else return i.match&&r.length===0?new J(e.segments,{}):i.match&&!e.hasChildren()?Sf(e,n,t):i.match?zo(e,0,r):Sf(e,n,t)}function zo(e,n,t){if(t.length===0)return new J(e.segments,{});{let i=oR(t),r={};if(Object.keys(i).some(o=>o!==V)&&e.children[V]&&e.numberOfChildren===1&&e.children[V].segments.length===0){let o=zo(e.children[V],n,t);return new J(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=FD(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new J(e.segments,r)}}function sR(e,n,t){let i=0,r=n,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=t.length)return o;let s=e.segments[r],a=t[i];if(Ko(a))break;let l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!mD(l,c,s))return o;i+=2}else{if(!mD(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Sf(e,n,t){let i=e.segments.slice(0,n),r=0;for(;r<t.length;){let o=t[r];if(Ko(o)){let l=aR(o.outlets);return new J(i,l)}if(r===0&&Wl(t[0])){let l=e.segments[n];i.push(new gi(l.path,gD(t[0]))),r++;continue}let s=Ko(o)?o.outlets[V]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Wl(a)?(i.push(new gi(s,gD(a))),r+=2):(i.push(new gi(s,{})),r++)}return new J(i,{})}function aR(e){let n={};return Object.entries(e).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(n[t]=Sf(new J([],{}),0,i))}),n}function gD(e){let n={};return Object.entries(e).forEach(([t,i])=>n[t]=`${i}`),n}function mD(e,n,t){return e==t.path&&Bt(n,t.parameters)}var Wo="imperative",Ee=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ee||{}),mt=class{constructor(n,t){this.id=n,this.url=t}},Tr=class extends mt{constructor(n,t,i="imperative",r=null){super(n,t),this.type=Ee.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},fn=class extends mt{constructor(n,t,i){super(n,t),this.urlAfterRedirects=i,this.type=Ee.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},tt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(tt||{}),Zl=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Zl||{}),dn=class extends mt{constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r,this.type=Ee.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},xn=class extends mt{constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r,this.type=Ee.NavigationSkipped}},Qo=class extends mt{constructor(n,t,i,r){super(n,t),this.error=i,this.target=r,this.type=Ee.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Kl=class extends mt{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=Ee.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mf=class extends mt{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=Ee.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nf=class extends mt{constructor(n,t,i,r,o){super(n,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Ee.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Af=class extends mt{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=Ee.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rf=class extends mt{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=Ee.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Of=class{constructor(n){this.route=n,this.type=Ee.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},xf=class{constructor(n){this.route=n,this.type=Ee.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},kf=class{constructor(n){this.snapshot=n,this.type=Ee.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pf=class{constructor(n){this.snapshot=n,this.type=Ee.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ff=class{constructor(n){this.snapshot=n,this.type=Ee.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lf=class{constructor(n){this.snapshot=n,this.type=Ee.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ql=class{constructor(n,t,i){this.routerEvent=n,this.position=t,this.anchor=i,this.type=Ee.Scroll}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},Yo=class{},Sr=class{constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function lR(e,n){return e.providers&&!e._injector&&(e._injector=bl(e.providers,n,`Route: ${e.path}`)),e._injector??n}function Mt(e){return e.outlet||V}function cR(e,n){let t=e.filter(i=>Mt(i)===n);return t.push(...e.filter(i=>Mt(i)!==n)),t}function rs(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Vf=class{get injector(){return rs(this.route?.snapshot)??this.rootInjector}set injector(n){}constructor(n){this.rootInjector=n,this.outlet=null,this.route=null,this.children=new os(this.rootInjector),this.attachRef=null}},os=(()=>{class e{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Vf(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||e)(_(we))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Yl=class{constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=Bf(n,this._root);return t?t.children.map(i=>i.value):[]}firstChild(n){let t=Bf(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=jf(n,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return jf(n,this._root).map(t=>t.value)}};function Bf(e,n){if(e===n.value)return n;for(let t of n.children){let i=Bf(e,t);if(i)return i}return null}function jf(e,n){if(e===n.value)return[n];for(let t of n.children){let i=jf(e,t);if(i.length)return i.unshift(n),i}return[]}var et=class{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function Dr(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var Jl=class extends Yl{constructor(n,t){super(n),this.snapshot=t,Kf(this,n)}toString(){return this.snapshot.toString()}};function LD(e){let n=uR(e),t=new pe([new gi("",{})]),i=new pe({}),r=new pe({}),o=new pe({}),s=new pe(""),a=new Mr(t,i,o,s,r,V,e,n.root);return a.snapshot=n.root,new Jl(new et(a,[]),n)}function uR(e){let n={},t={},i={},r="",o=new wr([],n,i,r,t,V,e,null,{});return new ec("",new et(o,[]))}var Mr=class{constructor(n,t,i,r,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(S(c=>c[ns]))??E(void 0),this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(S(n=>Er(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(S(n=>Er(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Xl(e,n,t="emptyOnly"){let i,{routeConfig:r}=e;return n!==null&&(t==="always"||r?.path===""||!n.component&&!n.routeConfig?.loadComponent)?i={params:w(w({},n.params),e.params),data:w(w({},n.data),e.data),resolve:w(w(w(w({},e.data),n.data),r?.data),e._resolvedData)}:i={params:w({},e.params),data:w({},e.data),resolve:w(w({},e.data),e._resolvedData??{})},r&&BD(r)&&(i.resolve[ns]=r.title),i}var wr=class{get title(){return this.data?.[ns]}constructor(n,t,i,r,o,s,a,l,c){this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Er(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Er(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},ec=class extends Yl{constructor(n,t){super(t),this.url=n,Kf(this,t)}toString(){return VD(this._root)}};function Kf(e,n){n.value._routerState=e,n.children.forEach(t=>Kf(e,t))}function VD(e){let n=e.children.length>0?` { ${e.children.map(VD).join(", ")} } `:"";return`${e.value}${n}`}function bf(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Bt(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Bt(n.params,t.params)||e.paramsSubject.next(t.params),LA(n.url,t.url)||e.urlSubject.next(t.url),Bt(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Uf(e,n){let t=Bt(e.params,n.params)&&UA(e.url,n.url),i=!e.parent!=!n.parent;return t&&!i&&(!e.parent||Uf(e.parent,n.parent))}function BD(e){return typeof e.title=="string"||e.title===null}var Qf=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=V,this.activateEvents=new ge,this.deactivateEvents=new ge,this.attachEvents=new ge,this.detachEvents=new ge,this.parentContexts=g(os),this.location=g(an),this.changeDetector=g(Nn),this.inputBinder=g(oc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new $f(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=li({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ur]})}}return e})(),$f=class e{__ngOutletInjector(n){return new e(this.route,this.childContexts,n)}constructor(n,t,i){this.route=n,this.childContexts=t,this.parent=i}get(n,t){return n===Mr?this.route:n===os?this.childContexts:this.parent.get(n,t)}},oc=new b(""),_D=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=Gi([i.queryParams,i.params,i.data]).pipe(te(([o,s,a],l)=>(a=w(w(w({},o),s),a),l===0?E(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let s=w0(i.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})();function dR(e,n,t){let i=Jo(e,n._root,t?t._root:void 0);return new Jl(i,n)}function Jo(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=n.value;let r=hR(e,n,t);return new et(i,r)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Jo(e,a)),s}}let i=fR(n.value),r=n.children.map(o=>Jo(e,o));return new et(i,r)}}function hR(e,n,t){return n.children.map(i=>{for(let r of t.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return Jo(e,i,r);return Jo(e,i)})}function fR(e){return new Mr(new pe(e.url),new pe(e.params),new pe(e.queryParams),new pe(e.fragment),new pe(e.data),e.outlet,e.component,e)}var Xo=class{constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},jD="ngNavigationCancelingError";function tc(e,n){let{redirectTo:t,navigationBehaviorOptions:i}=Zo(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=UD(!1,tt.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function UD(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[jD]=!0,t.cancellationCode=n,t}function pR(e){return $D(e)&&Zo(e.url)}function $D(e){return!!e&&e[jD]}var gR=(e,n,t,i)=>S(r=>(new Hf(n,r.targetRouterState,r.currentRouterState,t,i).activate(e),r)),Hf=class{constructor(n,t,i,r,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,n),bf(this.futureState.root),this.activateChildRoutes(t,i,n)}deactivateChildRoutes(n,t,i){let r=Dr(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,t,i){let r=n.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=Dr(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=Dr(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,t,i){let r=Dr(t);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Lf(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Pf(n.value.snapshot))}activateRoutes(n,t,i){let r=n.value,o=t?t.value:null;if(bf(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),bf(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,i)}},nc=class{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Cr=class{constructor(n,t){this.component=n,this.route=t}};function mR(e,n,t){let i=e._root,r=n?n._root:null;return Ho(i,r,t,[i.value])}function _R(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function Ar(e,n){let t=Symbol(),i=n.get(e,t);return i===t?typeof e=="function"&&!G_(e)?e:n.get(e):i}function Ho(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Dr(n);return e.children.forEach(s=>{vR(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>qo(a,t.getContext(s),r)),r}function vR(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=yR(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new nc(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ho(e,n,a?a.children:null,i,r):Ho(e,n,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Cr(a.outlet.component,s))}else s&&qo(n,a,r),r.canActivateChecks.push(new nc(i)),o.component?Ho(e,null,a?a.children:null,i,r):Ho(e,null,t,i,r);return r}function yR(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!mi(e.url,n.url);case"pathParamsOrQueryParamsChange":return!mi(e.url,n.url)||!Bt(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Uf(e,n)||!Bt(e.queryParams,n.queryParams);case"paramsChange":default:return!Uf(e,n)}}function qo(e,n,t){let i=Dr(e),r=e.value;Object.entries(i).forEach(([o,s])=>{r.component?n?qo(s,n.children.getContext(o),t):qo(s,null,t):qo(s,n,t)}),r.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new Cr(n.outlet.component,r)):t.canDeactivateChecks.push(new Cr(null,r)):t.canDeactivateChecks.push(new Cr(null,r))}function ss(e){return typeof e=="function"}function DR(e){return typeof e=="boolean"}function bR(e){return e&&ss(e.canLoad)}function wR(e){return e&&ss(e.canActivate)}function CR(e){return e&&ss(e.canActivateChild)}function ER(e){return e&&ss(e.canDeactivate)}function IR(e){return e&&ss(e.canMatch)}function HD(e){return e instanceof Zt||e?.name==="EmptyError"}var $l=Symbol("INITIAL_VALUE");function Nr(){return te(e=>Gi(e.map(n=>n.pipe(ze(1),ba($l)))).pipe(S(n=>{for(let t of n)if(t!==!0){if(t===$l)return $l;if(t===!1||TR(t))return t}return!0}),he(n=>n!==$l),ze(1)))}function TR(e){return Zo(e)||e instanceof Xo}function SR(e,n){return le(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?E(X(w({},t),{guardsResult:!0})):MR(s,i,r,e).pipe(le(a=>a&&DR(a)?NR(i,o,e,n):E(a)),S(a=>X(w({},t),{guardsResult:a})))})}function MR(e,n,t,i){return ee(e).pipe(le(r=>kR(r.component,r.route,t,n,i)),ct(r=>r!==!0,!0))}function NR(e,n,t,i){return ee(n).pipe(Kt(r=>Dn(RR(r.route.parent,i),AR(r.route,i),xR(e,r.path,t),OR(e,r.route,t))),ct(r=>r!==!0,!0))}function AR(e,n){return e!==null&&n&&n(new Ff(e)),E(!0)}function RR(e,n){return e!==null&&n&&n(new kf(e)),E(!0)}function OR(e,n,t){let i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||i.length===0)return E(!0);let r=i.map(o=>ma(()=>{let s=rs(n)??t,a=Ar(o,s),l=wR(a)?a.canActivate(n,e):pt(s,()=>a(n,e));return kn(l).pipe(ct())}));return E(r).pipe(Nr())}function xR(e,n,t){let i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>_R(s)).filter(s=>s!==null).map(s=>ma(()=>{let a=s.guards.map(l=>{let c=rs(s.node)??t,u=Ar(l,c),d=CR(u)?u.canActivateChild(i,e):pt(c,()=>u(i,e));return kn(d).pipe(ct())});return E(a).pipe(Nr())}));return E(o).pipe(Nr())}function kR(e,n,t,i,r){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return E(!0);let s=o.map(a=>{let l=rs(n)??r,c=Ar(a,l),u=ER(c)?c.canDeactivate(e,n,t,i):pt(l,()=>c(e,n,t,i));return kn(u).pipe(ct())});return E(s).pipe(Nr())}function PR(e,n,t,i){let r=n.canLoad;if(r===void 0||r.length===0)return E(!0);let o=r.map(s=>{let a=Ar(s,e),l=bR(a)?a.canLoad(n,t):pt(e,()=>a(n,t));return kn(l)});return E(o).pipe(Nr(),GD(i))}function GD(e){return xu(de(n=>{if(typeof n!="boolean")throw tc(e,n)}),S(n=>n===!0))}function FR(e,n,t,i){let r=n.canMatch;if(!r||r.length===0)return E(!0);let o=r.map(s=>{let a=Ar(s,e),l=IR(a)?a.canMatch(n,t):pt(e,()=>a(n,t));return kn(l)});return E(o).pipe(Nr(),GD(i))}var es=class{constructor(n){this.segmentGroup=n||null}},ts=class extends Error{constructor(n){super(),this.urlTree=n}};function yr(e){return Hi(new es(e))}function LR(e){return Hi(new I(4e3,!1))}function VR(e){return Hi(UD(!1,tt.GuardRejected))}var Gf=class{constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return E(i);if(r.numberOfChildren>1||!r.children[V])return LR(`${n.redirectTo}`);r=r.children[V]}}applyRedirectCommands(n,t,i,r,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,params:f,data:p,title:m}=r,y=pt(o,()=>a({params:f,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,title:m}));if(y instanceof hn)throw new ts(y);t=y}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,i);if(t[0]==="/")throw new ts(s);return s}applyRedirectCreateUrlTree(n,t,i,r){let o=this.createSegmentGroup(n,t.root,i,r);return new hn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let i={};return Object.entries(n).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(n,t,i,r){let o=this.createSegments(n,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,i,r)}),new J(o,s)}createSegments(n,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,t,i){let r=i[t.path.substring(1)];if(!r)throw new I(4001,!1);return r}findOrReturn(n,t){let i=0;for(let r of t){if(r.path===n.path)return t.splice(i),r;i++}return n}},zf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function BR(e,n,t,i,r){let o=zD(e,n,t);return o.matched?(i=lR(n,i),FR(i,n,t,r).pipe(S(s=>s===!0?o:w({},zf)))):E(o)}function zD(e,n,t){if(n.path==="**")return jR(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?w({},zf):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(n.matcher||FA)(t,e,n);if(!r)return w({},zf);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?w(w({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function jR(e){return{matched:!0,parameters:e.length>0?ED(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function vD(e,n,t,i){return t.length>0&&HR(e,t,i)?{segmentGroup:new J(n,$R(i,new J(t,e.children))),slicedSegments:[]}:t.length===0&&GR(e,t,i)?{segmentGroup:new J(e.segments,UR(e,t,i,e.children)),slicedSegments:t}:{segmentGroup:new J(e.segments,e.children),slicedSegments:t}}function UR(e,n,t,i){let r={};for(let o of t)if(sc(e,n,o)&&!i[Mt(o)]){let s=new J([],{});r[Mt(o)]=s}return w(w({},i),r)}function $R(e,n){let t={};t[V]=n;for(let i of e)if(i.path===""&&Mt(i)!==V){let r=new J([],{});t[Mt(i)]=r}return t}function HR(e,n,t){return t.some(i=>sc(e,n,i)&&Mt(i)!==V)}function GR(e,n,t){return t.some(i=>sc(e,n,i))}function sc(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function zR(e,n,t){return n.length===0&&!e.children[t]}var Wf=class{};function WR(e,n,t,i,r,o,s="emptyOnly"){return new qf(e,n,t,i,r,s,o).recognize()}var qR=31,qf=class{constructor(n,t,i,r,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Gf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new I(4002,`'${n.segmentGroup}'`)}recognize(){let n=vD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(S(({children:t,rootSnapshot:i})=>{let r=new et(i,t),o=new ec("",r),s=tR(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let t=new wr([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),V,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,V,t).pipe(S(i=>({children:i,rootSnapshot:t})),bn(i=>{if(i instanceof ts)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof es?this.noMatchError(i):i}))}processSegmentGroup(n,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(n,t,i,o):this.processSegment(n,t,i,i.segments,r,!0,o).pipe(S(s=>s instanceof et?[s]:[]))}processChildren(n,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return ee(o).pipe(Kt(s=>{let a=i.children[s],l=cR(t,s);return this.processSegmentGroup(n,l,a,s,r)}),Wi((s,a)=>(s.push(...a),s)),wn(null),zu(),le(s=>{if(s===null)return yr(i);let a=WD(s);return ZR(a),E(a)}))}processSegment(n,t,i,r,o,s,a){return ee(t).pipe(Kt(l=>this.processSegmentAgainstRoute(l._injector??n,t,l,i,r,o,s,a).pipe(bn(c=>{if(c instanceof es)return E(null);throw c}))),ct(l=>!!l),bn(l=>{if(HD(l))return zR(i,r,o)?E(new Wf):yr(i);throw l}))}processSegmentAgainstRoute(n,t,i,r,o,s,a,l){return Mt(i)!==s&&(s===V||!sc(r,o,i))?yr(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(n,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,r,t,i,o,s,l):yr(r)}expandSegmentAgainstRouteUsingRedirect(n,t,i,r,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=zD(t,r,o);if(!l)return yr(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>qR&&(this.allowRedirects=!1));let f=new wr(o,c,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,yD(r),Mt(r),r.component??r._loadedComponent??null,r,DD(r)),p=Xl(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let m=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,f,n);return this.applyRedirects.lineralizeSegments(r,m).pipe(le(y=>this.processSegment(n,i,t,y.concat(h),s,!1,a)))}matchSegmentAgainstRoute(n,t,i,r,o,s){let a=BR(t,i,r,n,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(te(l=>l.matched?(n=i._injector??n,this.getChildConfig(n,i,r).pipe(te(({routes:c})=>{let u=i._loadedInjector??n,{parameters:d,consumedSegments:h,remainingSegments:f}=l,p=new wr(h,d,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,yD(i),Mt(i),i.component??i._loadedComponent??null,i,DD(i)),m=Xl(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:y,slicedSegments:T}=vD(t,h,f,c);if(T.length===0&&y.hasChildren())return this.processChildren(u,c,y,p).pipe(S(C=>new et(p,C)));if(c.length===0&&T.length===0)return E(new et(p,[]));let R=Mt(i)===o;return this.processSegment(u,c,y,T,R?V:o,!0,p).pipe(S(C=>new et(p,C instanceof et?[C]:[])))}))):yr(t)))}getChildConfig(n,t,i){return t.children?E({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?E({routes:t._loadedRoutes,injector:t._loadedInjector}):PR(n,t,i,this.urlSerializer).pipe(le(r=>r?this.configLoader.loadChildren(n,t).pipe(de(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):VR(t))):E({routes:[],injector:n})}};function ZR(e){e.sort((n,t)=>n.value.outlet===V?-1:t.value.outlet===V?1:n.value.outlet.localeCompare(t.value.outlet))}function KR(e){let n=e.value.routeConfig;return n&&n.path===""}function WD(e){let n=[],t=new Set;for(let i of e){if(!KR(i)){n.push(i);continue}let r=n.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):n.push(i)}for(let i of t){let r=WD(i.children);n.push(new et(i.value,r))}return n.filter(i=>!t.has(i))}function yD(e){return e.data||{}}function DD(e){return e.resolve||{}}function QR(e,n,t,i,r,o){return le(s=>WR(e,n,t,i,s.extractedUrl,r,o).pipe(S(({state:a,tree:l})=>X(w({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function YR(e,n){return le(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return E(t);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of qD(l))s.add(c);let a=0;return ee(s).pipe(Kt(l=>o.has(l)?JR(l,i,e,n):(l.data=Xl(l,l.parent,e).resolve,E(void 0))),de(()=>a++),zi(1),le(l=>a===s.size?E(t):ye))})}function qD(e){let n=e.children.map(t=>qD(t)).flat();return[e,...n]}function JR(e,n,t,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!BD(r)&&(o[ns]=r.title),XR(o,e,n,i).pipe(S(s=>(e._resolvedData=s,e.data=Xl(e,e.parent,t).resolve,null)))}function XR(e,n,t,i){let r=Ef(e);if(r.length===0)return E({});let o={};return ee(r).pipe(le(s=>eO(e[s],n,t,i).pipe(ct(),de(a=>{if(a instanceof Xo)throw tc(new Ir,a);o[s]=a}))),zi(1),Hu(o),bn(s=>HD(s)?ye:Hi(s)))}function eO(e,n,t,i){let r=rs(n)??i,o=Ar(e,r),s=o.resolve?o.resolve(n,t):pt(r,()=>o(n,t));return kn(s)}function wf(e){return te(n=>{let t=e(n);return t?ee(t).pipe(S(()=>n)):E(n)})}var ZD=(()=>{class e{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===V);return i}getResolvedTitleForRoute(t){return t.data[ns]}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>g(tO),providedIn:"root"})}}return e})(),tO=(()=>{class e extends ZD{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||e)(_(dD))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),as=new b("",{providedIn:"root",factory:()=>({})}),nO=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=Je({type:e,selectors:[["ng-component"]],standalone:!0,features:[No],decls:1,vars:0,template:function(i,r){i&1&&pr(0,"router-outlet")},dependencies:[Qf],encapsulation:2})}}return e})();function Yf(e){let n=e.children&&e.children.map(Yf),t=n?X(w({},e),{children:n}):w({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==V&&(t.component=nO),t}var ic=new b(""),Jf=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=g(Nl)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return E(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=kn(t.loadComponent()).pipe(S(KD),de(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Cn(()=>{this.componentLoaders.delete(t)})),r=new Fi(i,()=>new Y).pipe(Pi());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return E({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=iO(i,this.compiler,t,this.onLoadEndListener).pipe(Cn(()=>{this.childrenLoaders.delete(i)})),s=new Fi(o,()=>new Y).pipe(Pi());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function iO(e,n,t,i){return kn(e.loadChildren()).pipe(S(KD),le(r=>r instanceof go||Array.isArray(r)?E(r):ee(n.compileModuleAsync(r))),S(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(ic,[],{optional:!0,self:!0}).flat()),{routes:s.map(Yf),injector:o}}))}function rO(e){return e&&typeof e=="object"&&"default"in e}function KD(e){return rO(e)?e.default:e}var Xf=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>g(oO),providedIn:"root"})}}return e})(),oO=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),QD=new b(""),YD=new b("");function sO(e,n,t){let i=e.get(YD),r=e.get(me);return e.get(j).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),aO(e))),{onViewTransitionCreated:l}=i;return l&&pt(e,()=>l({transition:a,from:n,to:t})),s})}function aO(e){return new Promise(n=>{Lh({read:()=>setTimeout(n)},{injector:e})})}var lO=new b(""),ep=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Y,this.transitionAbortSubject=new Y,this.configLoader=g(Jf),this.environmentInjector=g(we),this.urlSerializer=g(is),this.rootContexts=g(os),this.location=g(_r),this.inputBindingEnabled=g(oc,{optional:!0})!==null,this.titleStrategy=g(ZD),this.options=g(as,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=g(Xf),this.createViewTransition=g(QD,{optional:!0}),this.navigationErrorHandler=g(lO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>E(void 0),this.rootComponentType=null;let t=r=>this.events.next(new Of(r)),i=r=>this.events.next(new xf(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(X(w(w({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new pe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Wo,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(he(o=>o.id!==0),S(o=>X(w({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),te(o=>{let s=!1,a=!1;return E(o).pipe(te(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",tt.SupersededByNewNavigation),ye;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?X(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new xn(l.id,this.urlSerializer.serialize(l.rawUrl),d,Zl.IgnoredSameUrlNavigation)),l.resolve(!1),ye}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return E(l).pipe(te(d=>{let h=this.transitions?.getValue();return this.events.next(new Tr(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?ye:Promise.resolve(d)}),QR(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),de(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=X(w({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new Kl(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:h,source:f,restoredState:p,extras:m}=l,y=new Tr(d,this.urlSerializer.serialize(h),f,p);this.events.next(y);let T=LD(this.rootComponentType).snapshot;return this.currentTransition=o=X(w({},l),{targetSnapshot:T,urlAfterRedirects:h,extras:X(w({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,E(o)}else{let d="";return this.events.next(new xn(l.id,this.urlSerializer.serialize(l.extractedUrl),d,Zl.IgnoredByUrlHandlingStrategy)),l.resolve(!1),ye}}),de(l=>{let c=new Mf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),S(l=>(this.currentTransition=o=X(w({},l),{guards:mR(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),SR(this.environmentInjector,l=>this.events.next(l)),de(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw tc(this.urlSerializer,l.guardsResult);let c=new Nf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),he(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",tt.GuardRejected),!1)),wf(l=>{if(l.guards.canActivateChecks.length)return E(l).pipe(de(c=>{let u=new Af(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),te(c=>{let u=!1;return E(c).pipe(YR(this.paramsInheritanceStrategy,this.environmentInjector),de({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",tt.NoDataFromResolver)}}))}),de(c=>{let u=new Rf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),wf(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(de(h=>{u.component=h}),S(()=>{})));for(let h of u.children)d.push(...c(h));return d};return Gi(c(l.targetSnapshot.root)).pipe(wn(null),ze(1))}),wf(()=>this.afterPreactivation()),te(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?ee(u).pipe(S(()=>o)):E(o)}),S(l=>{let c=dR(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=X(w({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),de(()=>{this.events.next(new Yo)}),gR(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ze(1),de({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Oe(this.transitionAbortSubject.pipe(de(l=>{throw l}))),Cn(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",tt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),bn(l=>{if(a=!0,$D(l))this.events.next(new dn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),pR(l)?this.events.next(new Sr(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new Qo(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=pt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof Xo){let{message:d,cancellationCode:h}=tc(this.urlSerializer,u);this.events.next(new dn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,h)),this.events.next(new Sr(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(c);let d=t.errorHandler(l);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return ye}))}))}cancelNavigationTransition(t,i,r){let o=new dn(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function cO(e){return e!==Wo}var uO=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>g(dO),providedIn:"root"})}}return e})(),Zf=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},dO=(()=>{class e extends Zf{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=bo(e)))(r||e)}})()}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),JD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>g(hO),providedIn:"root"})}}return e})(),hO=(()=>{class e extends JD{constructor(){super(...arguments),this.location=g(_r),this.urlSerializer=g(is),this.options=g(as,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=g(Xf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new hn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=LD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Tr)this.stateMemento=this.createStateMemento();else if(t instanceof xn)this.rawUrlTree=i.initialUrl;else if(t instanceof Kl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else t instanceof Yo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof dn&&(t.code===tt.GuardRejected||t.code===tt.NoDataFromResolver)?this.restoreHistory(i):t instanceof Qo?this.restoreHistory(i,!0):t instanceof fn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=t instanceof hn?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=w(w({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=w(w({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=bo(e)))(r||e)}})()}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Go=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Go||{});function XD(e,n){e.events.pipe(he(t=>t instanceof fn||t instanceof dn||t instanceof Qo||t instanceof xn),S(t=>t instanceof fn||t instanceof xn?Go.COMPLETE:(t instanceof dn?t.code===tt.Redirect||t.code===tt.SupersededByNewNavigation:!1)?Go.REDIRECTING:Go.FAILED),he(t=>t!==Go.REDIRECTING),ze(1)).subscribe(()=>{n()})}function fO(e){throw e}var pO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},_i=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=g(El),this.stateManager=g(JD),this.options=g(as,{optional:!0})||{},this.pendingTasks=g(Mn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=g(ep),this.urlSerializer=g(is),this.location=g(_r),this.urlHandlingStrategy=g(Xf),this._events=new Y,this.errorHandler=this.options.errorHandler||fO,this.navigated=!1,this.routeReuseStrategy=g(uO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=g(ic,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!g(oc,{optional:!0}),this.eventsSubscription=new ue,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof dn&&i.code!==tt.Redirect&&i.code!==tt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof fn)this.navigated=!0;else if(i instanceof Sr){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=w({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||cO(r.source)},s);this.scheduleNavigation(a,Wo,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}_O(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Wo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=w({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Yf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=w(w({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=r?r.snapshot:this.routerState.snapshot.root;d=xD(h)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return kD(d,t,u,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Zo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Wo,null,i)}navigate(t,i={skipLocationChange:!1}){return mO(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=w({},pO):i===!1?r=w({},gO):r=i,Zo(t))return fD(this.currentUrlTree,t,r);let o=this.parseUrl(t);return fD(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h});let u=this.pendingTasks.add();return XD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function mO(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new I(4008,!1)}function _O(e){return!(e instanceof Yo)&&!(e instanceof Sr)}var rc=class{};var vO=(()=>{class e{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(he(t=>t instanceof fn),Kt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=bl(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ee(r).pipe(yn())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=E(null);let o=r.pipe(le(s=>s===null?E(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return ee([o,s]).pipe(yn())}else return o})}static{this.\u0275fac=function(i){return new(i||e)(_(_i),_(Nl),_(we),_(rc),_(Jf))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),eb=new b(""),yO=(()=>{class e{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Tr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof fn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof xn&&t.code===Zl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ql&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ql(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){Ey()}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})();function DO(e){return e.routerState.root}function ls(e,n){return{\u0275kind:e,\u0275providers:n}}function bO(){let e=g(Me);return n=>{let t=e.get(St);if(n!==t.components[0])return;let i=e.get(_i),r=e.get(tb);e.get(tp)===1&&i.initialNavigation(),e.get(nb,null,U.Optional)?.setUpPreloading(),e.get(eb,null,U.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var tb=new b("",{factory:()=>new Y}),tp=new b("",{providedIn:"root",factory:()=>1});function wO(){return ls(2,[{provide:tp,useValue:0},{provide:Sl,multi:!0,deps:[Me],useFactory:n=>{let t=n.get(x0,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=n.get(_i),o=n.get(tb);XD(r,()=>{i(!0)}),n.get(ep).afterPreactivation=()=>(i(!0),o.closed?E(void 0):o),r.initialNavigation()}))}}])}function CO(){return ls(3,[{provide:Sl,multi:!0,useFactory:()=>{let n=g(_i);return()=>{n.setUpLocationChangeListener()}}},{provide:tp,useValue:2}])}var nb=new b("");function EO(e){return ls(0,[{provide:nb,useExisting:vO},{provide:rc,useExisting:e}])}function IO(){return ls(8,[_D,{provide:oc,useExisting:_D}])}function TO(e){let n=[{provide:QD,useValue:sO},{provide:YD,useValue:w({skipNextTransition:!!e?.skipInitialTransition},e)}];return ls(9,n)}var bD=new b("ROUTER_FORROOT_GUARD"),SO=[_r,{provide:is,useClass:Ir},_i,os,{provide:Mr,useFactory:DO,deps:[_i]},Jf,[]],cs=(()=>{class e{constructor(t){}static forRoot(t,i){return{ngModule:e,providers:[SO,[],{provide:ic,multi:!0,useValue:t},{provide:bD,useFactory:RO,deps:[[_i,new lr,new oh]]},{provide:as,useValue:i||{}},i?.useHash?NO():AO(),MO(),i?.preloadingStrategy?EO(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?OO(i):[],i?.bindToComponentInputs?IO().\u0275providers:[],i?.enableViewTransitions?TO().\u0275providers:[],xO()]}}static forChild(t){return{ngModule:e,providers:[{provide:ic,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||e)(_(bD,8))}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();function MO(){return{provide:eb,useFactory:()=>{let e=g($0),n=g(j),t=g(as),i=g(ep),r=g(is);return t.scrollOffset&&e.setOffset(t.scrollOffset),new yO(r,i,e,n,t)}}}function NO(){return{provide:pi,useClass:P0}}function AO(){return{provide:pi,useClass:rf}}function RO(e){return"guarded"}function OO(e){return[e.initialNavigation==="disabled"?CO().\u0275providers:[],e.initialNavigation==="enabledBlocking"?wO().\u0275providers:[]]}var wD=new b("");function xO(){return[{provide:wD,useFactory:bO},{provide:Ml,multi:!0,useExisting:wD}]}var ac=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Je({type:e,selectors:[["app-product"]],decls:2,vars:0,template:function(t,i){t&1&&(Ae(0,"p"),Xe(1,"product works!"),Re())}})};var lc=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Je({type:e,selectors:[["app-product-add"]],decls:2,vars:0,template:function(t,i){t&1&&(Ae(0,"p"),Xe(1,"product-add works!"),Re())}})};var cc=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Je({type:e,selectors:[["app-product-edit"]],decls:2,vars:0,template:function(t,i){t&1&&(Ae(0,"p"),Xe(1,"product-edit works!"),Re())}})};var PO=[{path:"",component:ac},{path:"add",component:lc},{path:"edit/:id",component:cc}],uc=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=L({type:e});static \u0275inj=F({imports:[cs.forRoot(PO),cs]})};var FO="firebase",LO="10.14.1";vn(FO,LO,"app");var Rr=new nn("ANGULARFIRE2_VERSION");var VO=(e,n)=>{let t=n?[n]:xm(),i=[];return t.forEach(r=>{r.container.getProvider(e).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},vi=class{constructor(){return VO(BO)}},BO="app-check";function ip(){}var dc=class{zone;delegate;constructor(n,t=Vu){this.zone=n,this.delegate=t}now(){return this.delegate.now()}schedule(n,t,i){let r=this.zone,o=function(s){r.runGuarded(()=>{n.apply(this,[s])})};return this.delegate.schedule(o,t,i)}},rp=class{zone;task=null;constructor(n){this.zone=n}call(n,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ip,{},ip,ip)),t.pipe(de({next:i,complete:i,error:i})).subscribe(n).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},hc=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new dc(Zone.current)),this.insideAngular=t.run(()=>new dc(Zone.current,ji)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||e)(_(j))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function jO(){let e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return e}function pn(e){return UO(jO())(e)}function UO(e){return function(t){return t=t.lift(new rp(e.ngZone)),t.pipe(bt(e.outsideAngular),at(e.insideAngular))}}var GO=new Map,zO={activated:!1,tokenObservers:[]},WO={initialized:!1,enabled:!1};function Nt(e){return GO.get(e)||Object.assign({},zO)}function lb(){return WO}var qO="https://content-firebaseappcheck.googleapis.com/v1";var ZO="exchangeDebugToken",rb={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},M3=24*60*60*1e3;var sp=class{constructor(n,t,i,r,o){if(this.operation=n,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){return Ue(this,null,function*(){this.stop();try{this.pending=new be,this.pending.promise.catch(t=>{}),yield KO(this.getNextRun(n)),this.pending.resolve(),yield this.pending.promise,this.pending=new be,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function KO(e){return new Promise(n=>{setTimeout(n,e)})}var QO={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Pn=new Im("appCheck","AppCheck",QO);function cb(e){if(!Nt(e).activated)throw Pn.create("use-before-activation",{appName:e.name})}function ub(i,r){return Ue(this,arguments,function*({url:e,body:n},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let f=yield s.getHeartbeatsHeader();f&&(o["X-Firebase-Client"]=f)}let a={method:"POST",body:JSON.stringify(n),headers:o},l;try{l=yield fetch(e,a)}catch(f){throw Pn.create("fetch-network-error",{originalErrorMessage:f?.message})}if(l.status!==200)throw Pn.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(f){throw Pn.create("fetch-parse-error",{originalErrorMessage:f?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Pn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})}function db(e,n){let{projectId:t,appId:i,apiKey:r}=e.options;return{url:`${qO}/projects/${t}/apps/${i}:${ZO}?key=${r}`,body:{debug_token:n}}}var YO="firebase-app-check-database",JO=1,ap="firebase-app-check-store";var fc=null;function XO(){return fc||(fc=new Promise((e,n)=>{try{let t=indexedDB.open(YO,JO);t.onsuccess=i=>{e(i.target.result)},t.onerror=i=>{var r;n(Pn.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},t.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(ap,{keyPath:"compositeKey"})}}}catch(t){n(Pn.create("storage-open",{originalErrorMessage:t?.message}))}}),fc)}function ex(e,n){return tx(nx(e),n)}function tx(e,n){return Ue(this,null,function*(){let i=(yield XO()).transaction(ap,"readwrite"),o=i.objectStore(ap).put({compositeKey:e,value:n});return new Promise((s,a)=>{o.onsuccess=l=>{s()},i.onerror=l=>{var c;a(Pn.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function nx(e){return`${e.options.appId}-${e.name}`}var lp=new Ai("@firebase/app-check");function op(e,n){return Em()?ex(e,n).catch(t=>{lp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function hb(){return lb().enabled}function fb(){return Ue(this,null,function*(){let e=lb();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var ix={error:"UNKNOWN_ERROR"};function rx(e){return Ws.encodeString(JSON.stringify(e),!1)}function cp(e,n=!1){return Ue(this,null,function*(){let t=e.app;cb(t);let i=Nt(t),r=i.token,o;if(r&&!us(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(us(l)?r=l:yield op(t,void 0))}if(!n&&r&&us(r))return{token:r.token};let s=!1;if(hb()){i.exchangeTokenPromise||(i.exchangeTokenPromise=ub(db(t,yield fb()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let l=yield i.exchangeTokenPromise;return yield op(t,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield Nt(t).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?lp.warn(l.message):lp.error(l),o=l}let a;return r?o?us(r)?a={token:r.token,internalError:o}:a=sb(o):(a={token:r.token},i.token=r,yield op(t,r)):a=sb(o),s&&lx(t,a),a})}function ox(e){return Ue(this,null,function*(){let n=e.app;cb(n);let{provider:t}=Nt(n);if(hb()){let i=yield fb(),{token:r}=yield ub(db(n,i),e.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield t.getToken();return{token:i}}})}function sx(e,n,t,i){let{app:r}=e,o=Nt(r),s={next:t,error:i,type:n};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&us(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),ob(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>ob(e))}function pb(e,n){let t=Nt(e),i=t.tokenObservers.filter(r=>r.next!==n);i.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function ob(e){let{app:n}=e,t=Nt(n),i=t.tokenRefresher;i||(i=ax(e),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function ax(e){let{app:n}=e;return new sp(()=>Ue(this,null,function*(){let t=Nt(n),i;if(t.token?i=yield cp(e,!0):i=yield cp(e),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let t=Nt(n);if(t.token){let i=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,r=t.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},rb.RETRIAL_MIN_WAIT,rb.RETRIAL_MAX_WAIT)}function lx(e,n){let t=Nt(e).tokenObservers;for(let i of t)try{i.type==="EXTERNAL"&&n.error!=null?i.error(n.error):i.next(n)}catch{}}function us(e){return e.expireTimeMillis-Date.now()>0}function sb(e){return{token:rx(ix),error:e}}var up=class{constructor(n,t){this.app=n,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:n}=Nt(this.app);for(let t of n)pb(this.app,t.next);return Promise.resolve()}};function cx(e,n){return new up(e,n)}function ux(e){return{getToken:n=>cp(e,n),getLimitedUseToken:()=>ox(e),addTokenListener:n=>sx(e,"INTERNAL",n),removeTokenListener:n=>pb(e.app,n)}}var dx="@firebase/app-check",hx="0.8.8";var fx="app-check",ab="app-check-internal";function px(){eo(new Wt(fx,e=>{let n=e.getProvider("app").getImmediate(),t=e.getProvider("heartbeat");return cx(n,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,t)=>{e.getProvider(ab).initialize()})),eo(new Wt(ab,e=>{let n=e.getProvider("app-check").getImmediate();return ux(n)},"PUBLIC").setInstantiationMode("EXPLICIT")),vn(dx,hx)}px();var gx=["localhost","0.0.0.0","127.0.0.1"],j3=typeof window<"u"&&gx.includes(window.location.hostname);var mx="firebase",_x="10.14.1";He.registerVersion(mx,_x,"app-compat");var vx=["ngOnDestroy"],_b=(e,n,t,i={})=>new Proxy(e,{get:(r,o)=>t.runOutsideAngular(()=>{if(e[o])return i?.spy?.get&&i.spy.get(o,e[o]),e[o];if(vx.indexOf(o)>-1)return()=>{};let s=n.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>t.run(()=>c)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{let d=u?.(...c);return i?.spy?.apply&&i.spy.apply(o,c,d),d})})})});var pc=class{constructor(n){return n}},Or=new b("angularfire2.app.options"),xr=new b("angularfire2.app.name");function ds(e,n,t){let i=typeof t=="string"&&t||"[DEFAULT]",r=typeof t=="object"&&t||{};r.name=r.name||i;let s=He.apps.filter(a=>a&&a.name===r.name)[0]||n.runOutsideAngular(()=>He.initializeApp(e,r));try{if(JSON.stringify(e)!==JSON.stringify(s.options)){let a=!!module.hot;yx("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new pc(s)}var yx=(e,...n)=>{Wh()&&typeof console<"u"&&console[e](...n)},Dx={provide:pc,useFactory:ds,deps:[Or,j,[new lr,xr]]},vb=(()=>{class e{static initializeApp(t,i){return{ngModule:e,providers:[{provide:Or,useValue:t},{provide:xr,useValue:i}]}}constructor(t){He.registerVersion("angularfire",Rr.full,"core"),He.registerVersion("angularfire",Rr.full,"app-compat"),He.registerVersion("angular",d0.full,t.toString())}static \u0275fac=function(i){return new(i||e)(_(Ne))};static \u0275mod=L({type:e});static \u0275inj=F({providers:[Dx]})}return e})();function gc(e,n,t,i,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===e)||[];if(o)return bx(r,s)||(mb("error",`${n} was already initialized on the ${t} Firebase App with different settings.${wx?" You may need to reload as Firebase is not HMR aware.":""}`),mb("warn",{is:r,was:s})),o;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([e,a,r]),a}}function bx(e,n){try{return e.toString()===n.toString()}catch{return e===n}}var wx=typeof module<"u"&&!!module.hot,mb=(e,...n)=>{Wh()&&typeof console<"u"&&console[e](...n)};globalThis.\u0275AngularfireInstanceCache||=[];var dp=new b("angularfire2.auth.use-emulator"),hp=new b("angularfire2.auth.settings"),fp=new b("angularfire2.auth.tenant-id"),pp=new b("angularfire2.auth.langugage-code"),gp=new b("angularfire2.auth.use-device-language"),mp=new b("angularfire.auth.persistence"),_p=(e,n,t,i,r,o,s,a)=>gc(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{let l=n.runOutsideAngular(()=>e.auth());if(t&&l.useEmulator(...t),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(let[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[t,i,r,o,s,a]),yb=(()=>{class e{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,o,s,a,l,c,u,d,h,f){let p=new Y,m=E(void 0).pipe(at(s.outsideAngular),te(()=>o.runOutsideAngular(()=>import("./chunk-RYLOHJGV.js"))),S(()=>ds(t,o,i)),S(y=>_p(y,o,a,c,u,d,l,h)),Da({bufferSize:1,refCount:!1}));if(vr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=E(null);else{m.pipe(ct()).subscribe();let y=m.pipe(te(C=>C.getRedirectResult().then(W=>W,()=>null)),pn,Da({bufferSize:1,refCount:!1})),T=m.pipe(te(C=>new A(W=>({unsubscribe:o.runOutsideAngular(()=>C.onAuthStateChanged(se=>W.next(se),se=>W.error(se),()=>W.complete()))})))),R=m.pipe(te(C=>new A(W=>({unsubscribe:o.runOutsideAngular(()=>C.onIdTokenChanged(se=>W.next(se),se=>W.error(se),()=>W.complete()))}))));this.authState=y.pipe(wa(T),bt(s.outsideAngular),at(s.insideAngular)),this.user=y.pipe(wa(R),bt(s.outsideAngular),at(s.insideAngular)),this.idToken=this.user.pipe(te(C=>C?ee(C.getIdToken()):E(null))),this.idTokenResult=this.user.pipe(te(C=>C?ee(C.getIdTokenResult()):E(null))),this.credential=Kn(y,p,this.authState.pipe(he(C=>!C))).pipe(S(C=>C?.user?C:null),bt(s.outsideAngular),at(s.insideAngular))}return _b(this,m,o,{spy:{apply:(y,T,R)=>{(y.startsWith("signIn")||y.startsWith("createUser"))&&R.then(C=>p.next(C))}}})}static \u0275fac=function(i){return new(i||e)(_(Or),_(xr,8),_(Ne),_(j),_(hc),_(dp,8),_(hp,8),_(fp,8),_(pp,8),_(gp,8),_(mp,8),_(vi,8))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})();var Db="@firebase/database",bb="1.0.8";var Ng="";function Ag(e){Ng=e}var Ip=class{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,t){t==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),fe(t))}get(n){let t=this.domStorage_.getItem(this.prefixedName_(n));return t==null?null:qs(t)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}};var Tp=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,t){t==null?delete this.cache_[n]:this.cache_[n]=t}get(n){return st(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}};var Jb=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let n=window[e];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new Ip(n)}}catch{}return new Tp},Di=Jb("localStorage"),Sp=Jb("sessionStorage");var Lr=new Ai("@firebase/database"),Xb=function(){let e=1;return function(){return e++}}(),ew=function(e){let n=Am(e),t=new Nm;t.update(n);let i=t.digest();return Ws.encodeByteArray(i)},Ps=function(...e){let n="";for(let t=0;t<e.length;t++){let i=e[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=Ps.apply(null,i):typeof i=="object"?n+=fe(i):n+=i,n+=" "}return n},bi=null,wb=!0,tw=function(e,n){v(!n||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Lr.logLevel=Rm.VERBOSE,bi=Lr.log.bind(Lr),n&&Sp.set("logging_enabled",!0)):typeof e=="function"?bi=e:(bi=null,Sp.remove("logging_enabled"))},Ie=function(...e){if(wb===!0&&(wb=!1,bi===null&&Sp.get("logging_enabled")===!0&&tw(!0)),bi){let n=Ps.apply(null,e);bi(n)}},Fs=function(e){return function(...n){Ie(e,...n)}},Mp=function(...e){let n="FIREBASE INTERNAL ERROR: "+Ps(...e);Lr.error(n)},$t=function(...e){let n=`FIREBASE FATAL ERROR: ${Ps(...e)}`;throw Lr.error(n),new Error(n)},Pe=function(...e){let n="FIREBASE WARNING: "+Ps(...e);Lr.warn(n)},Ex=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Pe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Hc=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Ix=function(e){if(Ot()||document.readyState==="complete")e();else{let n=!1,t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}n||(n=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Bn="[MIN_NAME]",gn="[MAX_NAME]",Ci=function(e,n){if(e===n)return 0;if(e===Bn||n===gn)return-1;if(n===Bn||e===gn)return 1;{let t=Cb(e),i=Cb(n);return t!==null?i!==null?t-i===0?e.length-n.length:t-i:-1:i!==null?1:e<n?-1:1}},Tx=function(e,n){return e===n?0:e<n?-1:1},hs=function(e,n){if(n&&e in n)return n[e];throw new Error("Missing required key ("+e+") in object: "+fe(n))},Rg=function(e){if(typeof e!="object"||e===null)return fe(e);let n=[];for(let i in e)n.push(i);n.sort();let t="{";for(let i=0;i<n.length;i++)i!==0&&(t+=","),t+=fe(n[i]),t+=":",t+=Rg(e[n[i]]);return t+="}",t},nw=function(e,n){let t=e.length;if(t<=n)return[e];let i=[];for(let r=0;r<t;r+=n)r+n>t?i.push(e.substring(r,t)):i.push(e.substring(r,r+n));return i};function Te(e,n){for(let t in e)e.hasOwnProperty(t)&&n(t,e[t])}var iw=function(e){v(!Hc(e),"Invalid JSON number");let n=11,t=52,i=(1<<n-1)-1,r,o,s,a,l;e===0?(o=0,s=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),i),o=a+i,s=Math.round(e*Math.pow(2,t-a)-Math.pow(2,t))):(o=0,s=Math.round(e/Math.pow(2,1-i-t))));let c=[];for(l=t;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(r?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},Sx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Mx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Nx(e,n){let t="Unknown Error";e==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?t="Client doesn't have permission to access the desired data.":e==="unavailable"&&(t="The service is unavailable");let i=new Error(e+" at "+n._path.toString()+": "+t);return i.code=e.toUpperCase(),i}var Ax=new RegExp("^-?(0*)\\d{1,10}$"),Rx=-2147483648,Ox=2147483647,Cb=function(e){if(Ax.test(e)){let n=Number(e);if(n>=Rx&&n<=Ox)return n}return null},Wr=function(e){try{e()}catch(n){setTimeout(()=>{let t=n.stack||"";throw Pe("Exception was thrown by user callback.",t),n},Math.floor(0))}},xx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ms=function(e,n){let t=setTimeout(e,n);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};var Np=class{constructor(n,t){this.appName_=n,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(t,i):t(null)},0)})}addTokenChangeListener(n){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(n))}notifyForInvalidToken(){Pe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Ap=class{constructor(n,t,i){this.appName_=n,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(t=>t&&t.code==="auth/token-not-initialized"?(Ie("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(t,i):t(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(t=>t.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(t=>t.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pe(n)}},_s=(()=>{class e{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),_c="5",rw="v",ow="s",sw="r",aw="f",lw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,cw="ls",uw="p",Rp="ac",dw="websocket",hw="long_polling";var vc=class{constructor(n,t,i,r,o=!1,s="",a=!1,l=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Di.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Di.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){let n=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${t}`}};function kx(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function fw(e,n,t){v(typeof n=="string","typeof type must == string"),v(typeof t=="object","typeof params must == object");let i;if(n===dw)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(n===hw)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);kx(e)&&(t.ns=e.namespace);let r=[];return Te(t,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}var Op=class{constructor(){this.counters_={}}incrementCounter(n,t=1){st(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=t}get(){return bm(this.counters_)}};var vp={},yp={};function Og(e){let n=e.toString();return vp[n]||(vp[n]=new Op),vp[n]}function Px(e,n){let t=e.toString();return yp[t]||(yp[t]=n()),yp[t]}var xp=class{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,t){this.closeAfterResponse=n,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,t){for(this.pendingResponses[n]=t;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Wr(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var Eb="start",Fx="close",Lx="pLPCommand",Vx="pRTLPCB",pw="id",gw="pw",mw="ser",Bx="cb",jx="seg",Ux="ts",$x="d",Hx="dframe",_w=1870,vw=30,Gx=_w-vw,zx=25e3,Wx=3e4,bs=class e{constructor(n,t,i,r,o,s,a){this.connId=n,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fs(n),this.stats_=Og(t),this.urlFn=l=>(this.appCheckToken&&(l[Rp]=this.appCheckToken),fw(t,hw,l))}open(n,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new xp(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Wx)),Ix(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kp((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Eb)this.id=a,this.password=l;else if(s===Fx)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[Eb]="t",i[mw]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Bx]=this.scriptTagHolder.uniqueCallbackIdentifier),i[rw]=_c,this.transportSessionId&&(i[ow]=this.transportSessionId),this.lastSessionId&&(i[cw]=this.lastSessionId),this.applicationId&&(i[uw]=this.applicationId),this.appCheckToken&&(i[Rp]=this.appCheckToken),typeof location<"u"&&location.hostname&&lw.test(location.hostname)&&(i[sw]=aw);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return Ot()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Sx()&&!Mx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){let t=fe(n);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let i=Dm(t),r=nw(i,Gx);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(n,t){if(Ot())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[Hx]="t",i[pw]=n,i[gw]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){let t=fe(n).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}},kp=class e{constructor(n,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Ot())this.commandCB=n,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Xb(),window[Lx+this.uniqueCallbackIdentifier]=n,window[Vx+this.uniqueCallbackIdentifier]=t,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ie("frame writing exception"),a.stack&&Ie(a.stack),Ie(a)}}}static createIFrame_(){let n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||Ie("No IE domain setting required")}catch{let i=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,t){for(this.myID=n,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let n={};n[pw]=this.myID,n[gw]=this.myPW,n[mw]=this.currentSerial;let t=this.urlFn(n),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+vw+i.length<=_w;){let s=this.pendingSegs.shift();i=i+"&"+jx+r+"="+s.seg+"&"+Ux+r+"="+s.ts+"&"+$x+r+"="+s.d,r++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(n,t,i){this.pendingSegs.push({seg:n,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(n,t){this.outstandingRequests.add(t);let i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(zx)),o=()=>{clearTimeout(r),i()};this.addTag(n,o)}addTag(n,t){Ot()?this.doNodeLongPoll(n,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=n,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Ie("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var qx=16384,Zx=45e3,yc=null;typeof MozWebSocket<"u"?yc=MozWebSocket:typeof WebSocket<"u"&&(yc=WebSocket);var Pr=(()=>{class e{constructor(t,i,r,o,s,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fs(this.connId),this.stats_=Og(i),this.connURL=e.connectionURL_(i,a,l,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,s){let a={};return a[rw]=_c,!Ot()&&typeof location<"u"&&location.hostname&&lw.test(location.hostname)&&(a[sw]=aw),i&&(a[ow]=i),r&&(a[cw]=r),o&&(a[Rp]=o),s&&(a[uw]=s),fw(t,dw,a)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Di.set("previous_websocket_failure",!0);try{let r;if(Ot()){let o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${_c}/${Ng}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new yc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&yc!==null&&!e.forceDisallow_}static previouslyFailed(){return Di.isInMemoryStorage||Di.get("previous_websocket_failure")===!0}markConnectionHealthy(){Di.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=qs(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(v(this.frames===null,"We already have a frame buffer"),t.length<=6){let i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;let i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();let i=fe(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=nw(i,qx);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Zx))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),yw=(()=>{class e{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[bs,Pr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){let i=Pr&&Pr.isAvailable(),r=i&&!Pr.previouslyFailed();if(t.webSocketOnly&&(i||Pe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Pr];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),Kx=6e4,Qx=5e3,Yx=10*1024,Jx=100*1024,Dp="t",Ib="d",Xx="s",Tb="r",ek="e",Sb="o",Mb="a",Nb="n",Ab="p",tk="h",Pp=class{constructor(n,t,i,r,o,s,a,l,c,u){this.id=n,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fs("c:"+this.id+":"),this.transportManager_=new yw(t),this.log_("Connection created"),this.start_()}start_(){let n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));let r=n.healthyTimeout||0;r>0&&(this.healthyTimeout_=ms(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Jx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Yx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return t=>{n===this.conn_?this.onConnectionLost_(t):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return t=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(t):n===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(n){let t={t:"d",d:n};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Dp in n){let t=n[Dp];t===Mb?this.upgradeIfSecondaryHealthy_():t===Tb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===Sb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){let t=hs("t",n),i=hs("d",n);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ab,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Mb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Nb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){let t=hs("t",n),i=hs("d",n);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){let t=hs(Dp,n);if(Ib in n){let i=n[Ib];if(t===tk){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(t===Nb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===Xx?this.onConnectionShutdown_(i):t===Tb?this.onReset_(i):t===ek?Mp("Server Error: "+i):t===Sb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Mp("Unknown control packet command: "+t)}}onHandshake_(n){let t=n.ts,i=n.v,r=n.h;this.sessionId=n.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),_c!==i&&Pe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),ms(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Kx))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,t){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ms(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Qx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ab,d:{}}}))}onSecondaryConnectionLost_(){let n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Di.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Dc=class{put(n,t,i,r){}merge(n,t,i,r){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,t,i){}onDisconnectMerge(n,t,i){}onDisconnectCancel(n,t){}reportStats(n){}};var bc=class{constructor(n){this.allowedEvents_=n,this.listeners_={},v(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...t){if(Array.isArray(this.listeners_[n])){let i=[...this.listeners_[n]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(n,t,i){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:t,context:i});let r=this.getInitialEvent(n);r&&t.apply(i,r)}off(n,t,i){this.validateEventType_(n);let r=this.listeners_[n]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(n){v(this.allowedEvents_.find(t=>t===n),"Unknown event: "+n)}};var wc=class e extends bc{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!mu()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new e}getInitialEvent(n){return v(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}};var Rb=32,Ob=768,K=class{constructor(n,t){if(t===void 0){this.pieces_=n.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=t}toString(){let n="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(n+="/"+this.pieces_[t]);return n||"/"}};function Z(){return new K("")}function $(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function jn(e){return e.pieces_.length-e.pieceNum_}function re(e){let n=e.pieceNum_;return n<e.pieces_.length&&n++,new K(e.pieces_,n)}function xg(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function nk(e){let n="";for(let t=e.pieceNum_;t<e.pieces_.length;t++)e.pieces_[t]!==""&&(n+="/"+encodeURIComponent(String(e.pieces_[t])));return n||"/"}function ws(e,n=0){return e.pieces_.slice(e.pieceNum_+n)}function Dw(e){if(e.pieceNum_>=e.pieces_.length)return null;let n=[];for(let t=e.pieceNum_;t<e.pieces_.length-1;t++)n.push(e.pieces_[t]);return new K(n,0)}function ae(e,n){let t=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);if(n instanceof K)for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);else{let i=n.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new K(t,0)}function H(e){return e.pieceNum_>=e.pieces_.length}function Ve(e,n){let t=$(e),i=$(n);if(t===null)return n;if(t===i)return Ve(re(e),re(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")}function ik(e,n){let t=ws(e,0),i=ws(n,0);for(let r=0;r<t.length&&r<i.length;r++){let o=Ci(t[r],i[r]);if(o!==0)return o}return t.length===i.length?0:t.length<i.length?-1:1}function kg(e,n){if(jn(e)!==jn(n))return!1;for(let t=e.pieceNum_,i=n.pieceNum_;t<=e.pieces_.length;t++,i++)if(e.pieces_[t]!==n.pieces_[i])return!1;return!0}function _t(e,n){let t=e.pieceNum_,i=n.pieceNum_;if(jn(e)>jn(n))return!1;for(;t<e.pieces_.length;){if(e.pieces_[t]!==n.pieces_[i])return!1;++t,++i}return!0}var Fp=class{constructor(n,t){this.errorPrefix_=t,this.parts_=ws(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Xr(this.parts_[i]);bw(this)}};function rk(e,n){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(n),e.byteLength_+=Xr(n),bw(e)}function ok(e){let n=e.parts_.pop();e.byteLength_-=Xr(n),e.parts_.length>0&&(e.byteLength_-=1)}function bw(e){if(e.byteLength_>Ob)throw new Error(e.errorPrefix_+"has a key path longer than "+Ob+" bytes ("+e.byteLength_+").");if(e.parts_.length>Rb)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Rb+") or object contains a cycle "+yi(e))}function yi(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var Lp=class e extends bc{constructor(){super(["visible"]);let n,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let i=!document[n];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new e}getInitialEvent(n){return v(n==="visible","Unknown event type: "+n),[this.visible_]}};var fs=1e3,sk=60*5*1e3,xb=30*1e3,ak=1.3,lk=3e4,ck="server_kill",kb=3,Pg=(()=>{class e extends Dc{constructor(t,i,r,o,s,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=e.nextPersistentConnectionId_++,this.log_=Fs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=fs,this.maxReconnectDelay_=sk,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Ot())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Lp.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&wc.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){let o=++this.requestNumber_,s={r:o,a:t,b:i};this.log_(fe(s)),v(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();let i=new be,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?i.resolve(l):i.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),i.promise}listen(t,i,r,o){this.initConnection_();let s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),v(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),v(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){let i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){let i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);let s={p:r},a="q";t.tag&&(s.q=i._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;e.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,o),t.onComplete&&t.onComplete(u,c))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&st(t,"w")){let r=_n(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();Pe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Sm(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=xb)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let t=this.authToken_,i=Tm(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{let s=o.s,a=o.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{let i=t.s,r=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){let r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),v(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);let s={p:t},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){let s={p:i,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,s){this.initConnection_();let a={p:i,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+i)}sendPut_(t){let i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(t){if(this.connected_){let i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+fe(t));let i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):Mp("Unrecognized action received from server: "+fe(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){v(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=fs,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=fs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>lk&&(this.reconnectDelay_=fs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let t=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ak)}this.onConnectStatus_(!1)}establishConnection_(){return Ue(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,r())},u=function(h){v(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ie("getToken() completed but was canceled"):(Ie("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new Pp(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,r,p=>{Pe(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(ck)},s))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&Pe(h),c())}}})}interrupt(t){Ie("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ie("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Zs(this.interruptReasons_)&&(this.reconnectDelay_=fs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){let i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){let i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;i?r=i.map(s=>Rg(s)).join("$"):r="default";let o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){let r=new K(t).toString(),o;if(this.listens.has(r)){let s=this.listens.get(r);o=s.get(i),s.delete(i),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){Ie("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=kb&&(this.reconnectDelay_=xb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Ie("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=kb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let t of this.listens.values())for(let i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){let t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){let t={},i="js";Ot()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),t["sdk."+i+"."+Ng.replace(/\./g,"-")]=1,mu()?t["framework.cordova"]=1:Cm()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){let t=wc.getInstance().currentlyOnline();return Zs(this.interruptReasons_)&&t}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),G=class e{constructor(n,t){this.name=n,this.node=t}static Wrap(n,t){return new e(n,t)}};var Vr=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,t){let i=new G(Bn,n),r=new G(Bn,t);return this.compare(i,r)!==0}minPost(){return G.MIN}};var mc,Cc=class extends Vr{static get __EMPTY_NODE(){return mc}static set __EMPTY_NODE(n){mc=n}compare(n,t){return Ci(n.name,t.name)}isDefinedOn(n){throw Ni("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,t){return!1}minPost(){return G.MIN}maxPost(){return new G(gn,mc)}makePost(n,t){return v(typeof n=="string","KeyIndex indexValue must always be a string."),new G(n,mc)}toString(){return".key"}},Ut=new Cc;var Fr=class{constructor(n,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!n.isEmpty();)if(n=n,s=t?i(n.key,t):1,r&&(s*=-1),s<0)this.isReverse_?n=n.left:n=n.right;else if(s===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(n.key,n.value):t={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}},At=(()=>{class e{constructor(t,i,r,o,s){this.key=t,this.value=i,this.color=r??e.RED,this.left=o??vt.EMPTY_NODE,this.right=s??vt.EMPTY_NODE}copy(t,i,r,o,s){return new e(t??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this,s=r(t,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(t,i,r),null):s===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return vt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(t,r.key)===0){if(r.right.isEmpty())return vt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){let t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){let t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),Vp=class{copy(n,t,i,r,o){return this}insert(n,t,i){return new At(n,t,null)}remove(n,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},vt=class e{constructor(n,t=e.EMPTY_NODE){this.comparator_=n,this.root_=t}insert(n,t){return new e(this.comparator_,this.root_.insert(n,t,this.comparator_).copy(null,null,At.BLACK,null,null))}remove(n){return new e(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,At.BLACK,null,null))}get(n){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(n,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(n){let t,i=this.root_,r=null;for(;!i.isEmpty();)if(t=this.comparator_(n,i.key),t===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Fr(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,t){return new Fr(this.root_,n,this.comparator_,!1,t)}getReverseIteratorFrom(n,t){return new Fr(this.root_,n,this.comparator_,!0,t)}getReverseIterator(n){return new Fr(this.root_,null,this.comparator_,!0,n)}};vt.EMPTY_NODE=new Vp;function uk(e,n){return Ci(e.name,n.name)}function Fg(e,n){return Ci(e,n)}var Bp;function dk(e){Bp=e}var ww=function(e){return typeof e=="number"?"number:"+iw(e):"string:"+e},Cw=function(e){if(e.isLeafNode()){let n=e.val();v(typeof n=="string"||typeof n=="number"||typeof n=="object"&&st(n,".sv"),"Priority must be a string or number.")}else v(e===Bp||e.isEmpty(),"priority of unexpected type.");v(e===Bp||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var Pb,Br=(()=>{class e{constructor(t,i=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,v(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Cw(this.priorityNode_)}static set __childrenNodeConstructor(t){Pb=t}static get __childrenNodeConstructor(){return Pb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new e(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return H(t)?this:$(t)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){let r=$(t);return r===null?i:i.isEmpty()&&r!==".priority"?this:(v(r!==".priority"||jn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(re(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+ww(this.priorityNode_.val())+":");let i=typeof this.value_;t+=i+":",i==="number"?t+=iw(this.value_):t+=this.value_,this.lazyHash_=ew(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(v(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){let i=typeof t.value_,r=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(i),s=e.VALUE_TYPE_ORDER.indexOf(r);return v(o>=0,"Unknown leaf type: "+i),v(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){let i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),Ew,Iw;function hk(e){Ew=e}function fk(e){Iw=e}var jp=class extends Vr{compare(n,t){let i=n.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return o===0?Ci(n.name,t.name):o}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,t){return!n.getPriority().equals(t.getPriority())}minPost(){return G.MIN}maxPost(){return new G(gn,new Br("[PRIORITY-POST]",Iw))}makePost(n,t){let i=Ew(n);return new G(t,new Br("[PRIORITY-POST]",i))}toString(){return".priority"}},oe=new jp;var pk=Math.log(2),Up=class{constructor(n){let t=o=>parseInt(Math.log(o)/pk,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=t(n+1),this.current_=this.count-1;let r=i(this.count);this.bits_=n+1&r}nextBitIsOne(){let n=!(this.bits_&1<<this.current_);return this.current_--,n}},Ec=function(e,n,t,i){e.sort(n);let r=function(l,c){let u=c-l,d,h;if(u===0)return null;if(u===1)return d=e[l],h=t?t(d):d,new At(h,d.node,At.BLACK,null,null);{let f=parseInt(u/2,10)+l,p=r(l,f),m=r(f+1,c);return d=e[f],h=t?t(d):d,new At(h,d.node,At.BLACK,p,m)}},o=function(l){let c=null,u=null,d=e.length,h=function(p,m){let y=d-p,T=d;d-=p;let R=r(y+1,T),C=e[y],W=t?t(C):C;f(new At(W,C.node,m,null,R))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let m=l.nextBitIsOne(),y=Math.pow(2,l.count-(p+1));m?h(y,At.BLACK):(h(y,At.BLACK),h(y,At.RED))}return u},s=new Up(e.length),a=o(s);return new vt(i||n,a)};var bp,kr={},jr=class e{constructor(n,t){this.indexes_=n,this.indexSet_=t}static get Default(){return v(kr&&oe,"ChildrenNode.ts has not been loaded"),bp=bp||new e({".priority":kr},{".priority":oe}),bp}get(n){let t=_n(this.indexes_,n);if(!t)throw new Error("No index defined for "+n);return t instanceof vt?t:null}hasIndex(n){return st(this.indexSet_,n.toString())}addIndex(n,t){v(n!==Ut,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,o=t.getIterator(G.Wrap),s=o.getNext();for(;s;)r=r||n.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=Ec(i,n.getCompare()):a=kr;let l=n.toString(),c=Object.assign({},this.indexSet_);c[l]=n;let u=Object.assign({},this.indexes_);return u[l]=a,new e(u,c)}addToIndexes(n,t){let i=Jr(this.indexes_,(r,o)=>{let s=_n(this.indexSet_,o);if(v(s,"Missing index implementation for "+o),r===kr)if(s.isDefinedOn(n.node)){let a=[],l=t.getIterator(G.Wrap),c=l.getNext();for(;c;)c.name!==n.name&&a.push(c),c=l.getNext();return a.push(n),Ec(a,s.getCompare())}else return kr;else{let a=t.get(n.name),l=r;return a&&(l=l.remove(new G(n.name,a))),l.insert(n,n.node)}});return new e(i,this.indexSet_)}removeFromIndexes(n,t){let i=Jr(this.indexes_,r=>{if(r===kr)return r;{let o=t.get(n.name);return o?r.remove(new G(n.name,o)):r}});return new e(i,this.indexSet_)}};var ps,k=(()=>{class e{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Cw(this.priorityNode_),this.children_.isEmpty()&&v(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ps||(ps=new e(new vt(Fg),null,jr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ps}updatePriority(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{let i=this.children_.get(t);return i===null?ps:i}}getChild(t){let i=$(t);return i===null?this:this.getImmediateChild(i).getChild(re(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(v(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{let r=new G(t,i),o,s;i.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),s=this.indexMap_.addToIndexes(r,this.children_));let a=o.isEmpty()?ps:this.priorityNode_;return new e(o,a,s)}}updateChild(t,i){let r=$(t);if(r===null)return i;{v($(t)!==".priority"||jn(t)===1,".priority must be the last token in a path");let o=this.getImmediateChild(r).updateChild(re(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;let i={},r=0,o=0,s=!0;if(this.forEachChild(oe,(a,l)=>{i[a]=l.val(t),r++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!t&&s&&o<2*r){let a=[];for(let l in i)a[l]=i[l];return a}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+ww(this.getPriority().val())+":"),this.forEachChild(oe,(i,r)=>{let o=r.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":ew(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){let o=this.resolveIndex_(r);if(o){let s=o.getPredecessorKey(new G(t,i));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){let i=this.resolveIndex_(t);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){let i=this.getFirstChildName(t);return i?new G(i,this.children_.get(i)):null}getLastChildName(t){let i=this.resolveIndex_(t);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){let i=this.getLastChildName(t);return i?new G(i,this.children_.get(i)):null}forEachChild(t,i){let r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{let o=this.children_.getIteratorFrom(t.name,G.Wrap),s=o.peek();for(;s!=null&&i.compare(s,t)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{let o=this.children_.getReverseIteratorFrom(t.name,G.Wrap),s=o.peek();for(;s!=null&&i.compare(s,t)>0;)o.getNext(),s=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ls?-1:0}withIndex(t){if(t===Ut||this.indexMap_.hasIndex(t))return this;{let i=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Ut||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{let i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(oe),o=i.getIterator(oe),s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===Ut?null:this.indexMap_.get(t.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),$p=class extends k{constructor(){super(new vt(Fg),k.EMPTY_NODE,jr.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return k.EMPTY_NODE}isEmpty(){return!1}},Ls=new $p;Object.defineProperties(G,{MIN:{value:new G(Bn,k.EMPTY_NODE)},MAX:{value:new G(gn,Ls)}});Cc.__EMPTY_NODE=k.EMPTY_NODE;Br.__childrenNodeConstructor=k;dk(Ls);fk(Ls);var gk=!0;function ce(e,n=null){if(e===null)return k.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(n=e[".priority"]),v(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let t=e;return new Br(t,ce(n))}if(!(e instanceof Array)&&gk){let t=[],i=!1;if(Te(e,(s,a)=>{if(s.substring(0,1)!=="."){let l=ce(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),t.push(new G(s,l)))}}),t.length===0)return k.EMPTY_NODE;let o=Ec(t,uk,s=>s.name,Fg);if(i){let s=Ec(t,oe.getCompare());return new k(o,ce(n),new jr({".priority":s},{".priority":oe}))}else return new k(o,ce(n),jr.Default)}else{let t=k.EMPTY_NODE;return Te(e,(i,r)=>{if(st(e,i)&&i.substring(0,1)!=="."){let o=ce(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(ce(n))}}hk(ce);var Cs=class extends Vr{constructor(n){super(),this.indexPath_=n,v(!H(n)&&$(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,t){let i=this.extractChild(n.node),r=this.extractChild(t.node),o=i.compareTo(r);return o===0?Ci(n.name,t.name):o}makePost(n,t){let i=ce(n),r=k.EMPTY_NODE.updateChild(this.indexPath_,i);return new G(t,r)}maxPost(){let n=k.EMPTY_NODE.updateChild(this.indexPath_,Ls);return new G(gn,n)}toString(){return ws(this.indexPath_,0).join("/")}};var Hp=class extends Vr{compare(n,t){let i=n.node.compareTo(t.node);return i===0?Ci(n.name,t.name):i}isDefinedOn(n){return!0}indexedValueChanged(n,t){return!n.equals(t)}minPost(){return G.MIN}maxPost(){return G.MAX}makePost(n,t){let i=ce(n);return new G(t,i)}toString(){return".value"}},Lg=new Hp;function Tw(e){return{type:"value",snapshotNode:e}}function Ur(e,n){return{type:"child_added",snapshotNode:n,childName:e}}function Es(e,n){return{type:"child_removed",snapshotNode:n,childName:e}}function Is(e,n,t){return{type:"child_changed",snapshotNode:n,childName:e,oldSnap:t}}function mk(e,n){return{type:"child_moved",snapshotNode:n,childName:e}}var Ts=class{constructor(n){this.index_=n}updateChild(n,t,i,r,o,s){v(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=n.getImmediateChild(t);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?n.hasChild(t)?s.trackChildChange(Es(t,a)):v(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Ur(t,i)):s.trackChildChange(Is(t,i,a))),n.isLeafNode()&&i.isEmpty())?n:n.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(n,t,i){return i!=null&&(n.isLeafNode()||n.forEachChild(oe,(r,o)=>{t.hasChild(r)||i.trackChildChange(Es(r,o))}),t.isLeafNode()||t.forEachChild(oe,(r,o)=>{if(n.hasChild(r)){let s=n.getImmediateChild(r);s.equals(o)||i.trackChildChange(Is(r,o,s))}else i.trackChildChange(Ur(r,o))})),t.withIndex(this.index_)}updatePriority(n,t){return n.isEmpty()?k.EMPTY_NODE:n.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Ic=class e{constructor(n){this.indexedFilter_=new Ts(n.getIndex()),this.index_=n.getIndex(),this.startPost_=e.getStartPost_(n),this.endPost_=e.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){let t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,i=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return t&&i}updateChild(n,t,i,r,o,s){return this.matches(new G(t,i))||(i=k.EMPTY_NODE),this.indexedFilter_.updateChild(n,t,i,r,o,s)}updateFullNode(n,t,i){t.isLeafNode()&&(t=k.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(k.EMPTY_NODE);let o=this;return t.forEachChild(oe,(s,a)=>{o.matches(new G(s,a))||(r=r.updateImmediateChild(s,k.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,r,i)}updatePriority(n,t){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){let t=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),t)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){let t=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),t)}else return n.getIndex().maxPost()}};var Gp=class{constructor(n){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{let i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Ic(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,t,i,r,o,s){return this.rangedFilter_.matches(new G(t,i))||(i=k.EMPTY_NODE),n.getImmediateChild(t).equals(i)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,t,i,r,o,s):this.fullLimitUpdateChild_(n,t,i,o,s)}updateFullNode(n,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=k.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){r=k.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{r=t.withIndex(this.index_),r=r.updatePriority(k.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,k.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,r,i)}updatePriority(n,t){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,t,i,r,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(h,f)=>d(f,h)}else s=this.index_.getCompare();let a=n;v(a.numChildren()===this.limit_,"");let l=new G(t,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(t)){let d=a.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===t||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:s(h,l);if(u&&!i.isEmpty()&&f>=0)return o?.trackChildChange(Is(t,i,d)),a.updateImmediateChild(t,i);{o?.trackChildChange(Es(t,d));let m=a.updateImmediateChild(t,k.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o?.trackChildChange(Ur(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return i.isEmpty()?n:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(Es(c.name,c.node)),o.trackChildChange(Ur(t,i))),a.updateImmediateChild(t,i).updateImmediateChild(c.name,k.EMPTY_NODE)):n}};var Ss=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=oe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return v(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return v(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bn}hasEnd(){return this.endSet_}getIndexEndValue(){return v(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return v(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return v(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===oe}copy(){let n=new e;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}};function _k(e){return e.loadsAllData()?new Ts(e.getIndex()):e.hasLimit()?new Gp(e):new Ic(e)}function vk(e,n){let t=e.copy();return t.limitSet_=!0,t.limit_=n,t.viewFrom_="l",t}function yk(e,n){let t=e.copy();return t.limitSet_=!0,t.limit_=n,t.viewFrom_="r",t}function zp(e,n,t){let i=e.copy();return i.startSet_=!0,n===void 0&&(n=null),i.indexStartValue_=n,t!=null?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function Dk(e,n,t){let i;return e.index_===Ut||t?i=zp(e,n,t):i=zp(e,n,gn),i.startAfterSet_=!0,i}function Wp(e,n,t){let i=e.copy();return i.endSet_=!0,n===void 0&&(n=null),i.indexEndValue_=n,t!==void 0?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function bk(e,n,t){let i;return e.index_===Ut||t?i=Wp(e,n,t):i=Wp(e,n,Bn),i.endBeforeSet_=!0,i}function Gc(e,n){let t=e.copy();return t.index_=n,t}function Fb(e){let n={};if(e.isDefault())return n;let t;if(e.index_===oe?t="$priority":e.index_===Lg?t="$value":e.index_===Ut?t="$key":(v(e.index_ instanceof Cs,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=fe(t),e.startSet_){let i=e.startAfterSet_?"startAfter":"startAt";n[i]=fe(e.indexStartValue_),e.startNameSet_&&(n[i]+=","+fe(e.indexStartName_))}if(e.endSet_){let i=e.endBeforeSet_?"endBefore":"endAt";n[i]=fe(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+fe(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function Lb(e){let n={};if(e.startSet_&&(n.sp=e.indexStartValue_,e.startNameSet_&&(n.sn=e.indexStartName_),n.sin=!e.startAfterSet_),e.endSet_&&(n.ep=e.indexEndValue_,e.endNameSet_&&(n.en=e.indexEndName_),n.ein=!e.endBeforeSet_),e.limitSet_){n.l=e.limit_;let t=e.viewFrom_;t===""&&(e.isViewFromLeft()?t="l":t="r"),n.vf=t}return e.index_!==oe&&(n.i=e.index_.toString()),n}var qp=class e extends Dc{constructor(n,t,i,r){super(),this.repoInfo_=n,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Fs("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,t){return t!==void 0?"tag$"+t:(v(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,t,i,r){let o=n._path.toString();this.log_("Listen called for "+o+" "+n._queryIdentifier);let s=e.getListenId_(n,i),a={};this.listens_[s]=a;let l=Fb(n._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,i),_n(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(n,t){let i=e.getListenId_(n,t);delete this.listens_[i]}get(n){let t=Fb(n._queryParams),i=n._path.toString(),r=new be;return this.restRequest_(i+".json",t,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(n){}restRequest_(n,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+Mm(t);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=qs(a.responseText)}catch{Pe("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Pe("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}};var Zp=class{constructor(){this.rootNode_=k.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,t){this.rootNode_=this.rootNode_.updateChild(n,t)}};function Tc(){return{value:null,children:new Map}}function qr(e,n,t){if(H(n))e.value=t,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(n,t);else{let i=$(n);e.children.has(i)||e.children.set(i,Tc());let r=e.children.get(i);n=re(n),qr(r,n,t)}}function Kp(e,n){if(H(n))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;{let t=e.value;return e.value=null,t.forEachChild(oe,(i,r)=>{qr(e,new K(i),r)}),Kp(e,n)}}else if(e.children.size>0){let t=$(n);return n=re(n),e.children.has(t)&&Kp(e.children.get(t),n)&&e.children.delete(t),e.children.size===0}else return!0}function Qp(e,n,t){e.value!==null?t(n,e.value):wk(e,(i,r)=>{let o=new K(n.toString()+"/"+i);Qp(r,o,t)})}function wk(e,n){e.children.forEach((t,i)=>{n(i,t)})}var Yp=class{constructor(n){this.collection_=n,this.last_=null}get(){let n=this.collection_.get(),t=Object.assign({},n);return this.last_&&Te(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=n,t}};var Vb=10*1e3,Ck=30*1e3,Ek=5*60*1e3,Jp=class{constructor(n,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Yp(n);let i=Vb+(Ck-Vb)*Math.random();ms(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let n=this.statsListener_.get(),t={},i=!1;Te(n,(r,o)=>{o>0&&st(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),ms(this.reportStats_.bind(this),Math.floor(Math.random()*2*Ek))}};var jt=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(jt||{});function Vg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Bg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function jg(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var Xp=class e{constructor(n,t,i){this.path=n,this.affectedTree=t,this.revert=i,this.type=jt.ACK_USER_WRITE,this.source=Vg()}operationForChild(n){if(H(this.path)){if(this.affectedTree.value!=null)return v(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new K(n));return new e(Z(),t,this.revert)}}else return v($(this.path)===n,"operationForChild called for unrelated child."),new e(re(this.path),this.affectedTree,this.revert)}};var Sc=class e{constructor(n,t){this.source=n,this.path=t,this.type=jt.LISTEN_COMPLETE}operationForChild(n){return H(this.path)?new e(this.source,Z()):new e(this.source,re(this.path))}};var $r=class e{constructor(n,t,i){this.source=n,this.path=t,this.snap=i,this.type=jt.OVERWRITE}operationForChild(n){return H(this.path)?new e(this.source,Z(),this.snap.getImmediateChild(n)):new e(this.source,re(this.path),this.snap)}};var Ms=class e{constructor(n,t,i){this.source=n,this.path=t,this.children=i,this.type=jt.MERGE}operationForChild(n){if(H(this.path)){let t=this.children.subtree(new K(n));return t.isEmpty()?null:t.value?new $r(this.source,Z(),t.value):new e(this.source,Z(),t)}else return v($(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new e(this.source,re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Ht=class{constructor(n,t,i){this.node_=n,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(H(n))return this.isFullyInitialized()&&!this.filtered_;let t=$(n);return this.isCompleteForChild(t)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}};var eg=class{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}};function Ik(e,n,t,i){let r=[],o=[];return n.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(mk(s.childName,s.snapshotNode))}),gs(e,r,"child_removed",n,i,t),gs(e,r,"child_added",n,i,t),gs(e,r,"child_moved",o,i,t),gs(e,r,"child_changed",n,i,t),gs(e,r,"value",n,i,t),r}function gs(e,n,t,i,r,o){let s=i.filter(a=>a.type===t);s.sort((a,l)=>Sk(e,a,l)),s.forEach(a=>{let l=Tk(e,a,o);r.forEach(c=>{c.respondsTo(a.type)&&n.push(c.createEvent(l,e.query_))})})}function Tk(e,n,t){return n.type==="value"||n.type==="child_removed"||(n.prevName=t.getPredecessorChildName(n.childName,n.snapshotNode,e.index_)),n}function Sk(e,n,t){if(n.childName==null||t.childName==null)throw Ni("Should only compare child_ events.");let i=new G(n.childName,n.snapshotNode),r=new G(t.childName,t.snapshotNode);return e.index_.compare(i,r)}function zc(e,n){return{eventCache:e,serverCache:n}}function vs(e,n,t,i){return zc(new Ht(n,t,i),e.serverCache)}function Sw(e,n,t,i){return zc(e.eventCache,new Ht(n,t,i))}function Mc(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function wi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var wp,Mk=()=>(wp||(wp=new vt(Tx)),wp),Be=class e{constructor(n,t=Mk()){this.value=n,this.children=t}static fromObject(n){let t=new e(null);return Te(n,(i,r)=>{t=t.set(new K(i),r)}),t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,t){if(this.value!=null&&t(this.value))return{path:Z(),value:this.value};if(H(n))return null;{let i=$(n),r=this.children.get(i);if(r!==null){let o=r.findRootMostMatchingPathAndValue(re(n),t);return o!=null?{path:ae(new K(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(H(n))return this;{let t=$(n),i=this.children.get(t);return i!==null?i.subtree(re(n)):new e(null)}}set(n,t){if(H(n))return new e(t,this.children);{let i=$(n),o=(this.children.get(i)||new e(null)).set(re(n),t),s=this.children.insert(i,o);return new e(this.value,s)}}remove(n){if(H(n))return this.children.isEmpty()?new e(null):new e(null,this.children);{let t=$(n),i=this.children.get(t);if(i){let r=i.remove(re(n)),o;return r.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,r),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(n){if(H(n))return this.value;{let t=$(n),i=this.children.get(t);return i?i.get(re(n)):null}}setTree(n,t){if(H(n))return t;{let i=$(n),o=(this.children.get(i)||new e(null)).setTree(re(n),t),s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new e(this.value,s)}}fold(n){return this.fold_(Z(),n)}fold_(n,t){let i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(ae(n,r),t)}),t(n,this.value,i)}findOnPath(n,t){return this.findOnPath_(n,Z(),t)}findOnPath_(n,t,i){let r=this.value?i(t,this.value):!1;if(r)return r;if(H(n))return null;{let o=$(n),s=this.children.get(o);return s?s.findOnPath_(re(n),ae(t,o),i):null}}foreachOnPath(n,t){return this.foreachOnPath_(n,Z(),t)}foreachOnPath_(n,t,i){if(H(n))return this;{this.value&&i(t,this.value);let r=$(n),o=this.children.get(r);return o?o.foreachOnPath_(re(n),ae(t,r),i):new e(null)}}foreach(n){this.foreach_(Z(),n)}foreach_(n,t){this.children.inorderTraversal((i,r)=>{r.foreach_(ae(n,i),t)}),this.value&&t(n,this.value)}foreachChild(n){this.children.inorderTraversal((t,i)=>{i.value&&n(t,i.value)})}};var Rt=class e{constructor(n){this.writeTree_=n}static empty(){return new e(new Be(null))}};function ys(e,n,t){if(H(n))return new Rt(new Be(t));{let i=e.writeTree_.findRootMostValueAndPath(n);if(i!=null){let r=i.path,o=i.value,s=Ve(r,n);return o=o.updateChild(s,t),new Rt(e.writeTree_.set(r,o))}else{let r=new Be(t),o=e.writeTree_.setTree(n,r);return new Rt(o)}}}function tg(e,n,t){let i=e;return Te(t,(r,o)=>{i=ys(i,ae(n,r),o)}),i}function Bb(e,n){if(H(n))return Rt.empty();{let t=e.writeTree_.setTree(n,new Be(null));return new Rt(t)}}function ng(e,n){return Ei(e,n)!=null}function Ei(e,n){let t=e.writeTree_.findRootMostValueAndPath(n);return t!=null?e.writeTree_.get(t.path).getChild(Ve(t.path,n)):null}function jb(e){let n=[],t=e.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(oe,(i,r)=>{n.push(new G(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&n.push(new G(i,r.value))}),n}function Ln(e,n){if(H(n))return e;{let t=Ei(e,n);return t!=null?new Rt(new Be(t)):new Rt(e.writeTree_.subtree(n))}}function ig(e){return e.writeTree_.isEmpty()}function Hr(e,n){return Mw(Z(),e.writeTree_,n)}function Mw(e,n,t){if(n.value!=null)return t.updateChild(e,n.value);{let i=null;return n.children.inorderTraversal((r,o)=>{r===".priority"?(v(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):t=Mw(ae(e,r),o,t)}),!t.getChild(e).isEmpty()&&i!==null&&(t=t.updateChild(ae(e,".priority"),i)),t}}function Wc(e,n){return Ow(n,e)}function Nk(e,n,t,i,r){v(i>e.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),e.allWrites.push({path:n,snap:t,writeId:i,visible:r}),r&&(e.visibleWrites=ys(e.visibleWrites,n,t)),e.lastWriteId=i}function Ak(e,n,t,i){v(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:n,children:t,writeId:i,visible:!0}),e.visibleWrites=tg(e.visibleWrites,n,t),e.lastWriteId=i}function Rk(e,n){for(let t=0;t<e.allWrites.length;t++){let i=e.allWrites[t];if(i.writeId===n)return i}return null}function Ok(e,n){let t=e.allWrites.findIndex(a=>a.writeId===n);v(t>=0,"removeWrite called with nonexistent writeId.");let i=e.allWrites[t];e.allWrites.splice(t,1);let r=i.visible,o=!1,s=e.allWrites.length-1;for(;r&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=t&&xk(a,i.path)?r=!1:_t(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return kk(e),!0;if(i.snap)e.visibleWrites=Bb(e.visibleWrites,i.path);else{let a=i.children;Te(a,l=>{e.visibleWrites=Bb(e.visibleWrites,ae(i.path,l))})}return!0}else return!1}function xk(e,n){if(e.snap)return _t(e.path,n);for(let t in e.children)if(e.children.hasOwnProperty(t)&&_t(ae(e.path,t),n))return!0;return!1}function kk(e){e.visibleWrites=Nw(e.allWrites,Pk,Z()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Pk(e){return e.visible}function Nw(e,n,t){let i=Rt.empty();for(let r=0;r<e.length;++r){let o=e[r];if(n(o)){let s=o.path,a;if(o.snap)_t(t,s)?(a=Ve(t,s),i=ys(i,a,o.snap)):_t(s,t)&&(a=Ve(s,t),i=ys(i,Z(),o.snap.getChild(a)));else if(o.children){if(_t(t,s))a=Ve(t,s),i=tg(i,a,o.children);else if(_t(s,t))if(a=Ve(s,t),H(a))i=tg(i,Z(),o.children);else{let l=_n(o.children,$(a));if(l){let c=l.getChild(re(a));i=ys(i,Z(),c)}}}else throw Ni("WriteRecord should have .snap or .children")}}return i}function Aw(e,n,t,i,r){if(!i&&!r){let o=Ei(e.visibleWrites,n);if(o!=null)return o;{let s=Ln(e.visibleWrites,n);if(ig(s))return t;if(t==null&&!ng(s,Z()))return null;{let a=t||k.EMPTY_NODE;return Hr(s,a)}}}else{let o=Ln(e.visibleWrites,n);if(!r&&ig(o))return t;if(!r&&t==null&&!ng(o,Z()))return null;{let s=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(_t(c.path,n)||_t(n,c.path))},a=Nw(e.allWrites,s,n),l=t||k.EMPTY_NODE;return Hr(a,l)}}}function Fk(e,n,t){let i=k.EMPTY_NODE,r=Ei(e.visibleWrites,n);if(r)return r.isLeafNode()||r.forEachChild(oe,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(t){let o=Ln(e.visibleWrites,n);return t.forEachChild(oe,(s,a)=>{let l=Hr(Ln(o,new K(s)),a);i=i.updateImmediateChild(s,l)}),jb(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{let o=Ln(e.visibleWrites,n);return jb(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function Lk(e,n,t,i,r){v(i||r,"Either existingEventSnap or existingServerSnap must exist");let o=ae(n,t);if(ng(e.visibleWrites,o))return null;{let s=Ln(e.visibleWrites,o);return ig(s)?r.getChild(t):Hr(s,r.getChild(t))}}function Vk(e,n,t,i){let r=ae(n,t),o=Ei(e.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(t)){let s=Ln(e.visibleWrites,r);return Hr(s,i.getNode().getImmediateChild(t))}else return null}function Bk(e,n){return Ei(e.visibleWrites,n)}function jk(e,n,t,i,r,o,s){let a,l=Ln(e.visibleWrites,n),c=Ei(l,Z());if(c!=null)a=c;else if(t!=null)a=Hr(l,t);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),f=h.getNext();for(;f&&u.length<r;)d(f,i)!==0&&u.push(f),f=h.getNext();return u}else return[]}function Uk(){return{visibleWrites:Rt.empty(),allWrites:[],lastWriteId:-1}}function Nc(e,n,t,i){return Aw(e.writeTree,e.treePath,n,t,i)}function Ug(e,n){return Fk(e.writeTree,e.treePath,n)}function Ub(e,n,t,i){return Lk(e.writeTree,e.treePath,n,t,i)}function Ac(e,n){return Bk(e.writeTree,ae(e.treePath,n))}function $k(e,n,t,i,r,o){return jk(e.writeTree,e.treePath,n,t,i,r,o)}function $g(e,n,t){return Vk(e.writeTree,e.treePath,n,t)}function Rw(e,n){return Ow(ae(e.treePath,n),e.writeTree)}function Ow(e,n){return{treePath:e,writeTree:n}}var rg=class{constructor(){this.changeMap=new Map}trackChildChange(n){let t=n.type,i=n.childName;v(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),v(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let o=r.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(i,Is(i,n.snapshotNode,r.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(i,Es(i,r.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(i,Ur(i,n.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(i,Is(i,n.snapshotNode,r.oldSnap));else throw Ni("Illegal combination of changes: "+n+" occurred after "+r)}else this.changeMap.set(i,n)}getChanges(){return Array.from(this.changeMap.values())}};var og=class{getCompleteChild(n){return null}getChildAfterChild(n,t,i){return null}},xw=new og,Ns=class{constructor(n,t,i=null){this.writes_=n,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(n){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(n))return t.getNode().getImmediateChild(n);{let i=this.optCompleteServerCache_!=null?new Ht(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return $g(this.writes_,n,i)}}getChildAfterChild(n,t,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:wi(this.viewCache_),o=$k(this.writes_,r,t,1,i,n);return o.length===0?null:o[0]}};function Hk(e){return{filter:e}}function Gk(e,n){v(n.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),v(n.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function zk(e,n,t,i,r){let o=new rg,s,a;if(t.type===jt.OVERWRITE){let c=t;c.source.fromUser?s=sg(e,n,c.path,c.snap,i,r,o):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||n.serverCache.isFiltered()&&!H(c.path),s=Rc(e,n,c.path,c.snap,i,r,a,o))}else if(t.type===jt.MERGE){let c=t;c.source.fromUser?s=qk(e,n,c.path,c.children,i,r,o):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||n.serverCache.isFiltered(),s=ag(e,n,c.path,c.children,i,r,a,o))}else if(t.type===jt.ACK_USER_WRITE){let c=t;c.revert?s=Qk(e,n,c.path,i,r,o):s=Zk(e,n,c.path,c.affectedTree,i,r,o)}else if(t.type===jt.LISTEN_COMPLETE)s=Kk(e,n,t.path,i,o);else throw Ni("Unknown operation type: "+t.type);let l=o.getChanges();return Wk(n,s,l),{viewCache:s,changes:l}}function Wk(e,n,t){let i=n.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Mc(e);(t.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(Tw(Mc(n)))}}function kw(e,n,t,i,r,o){let s=n.eventCache;if(Ac(i,t)!=null)return n;{let a,l;if(H(t))if(v(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){let c=wi(n),u=c instanceof k?c:k.EMPTY_NODE,d=Ug(i,u);a=e.filter.updateFullNode(n.eventCache.getNode(),d,o)}else{let c=Nc(i,wi(n));a=e.filter.updateFullNode(n.eventCache.getNode(),c,o)}else{let c=$(t);if(c===".priority"){v(jn(t)===1,"Can't have a priority with additional path components");let u=s.getNode();l=n.serverCache.getNode();let d=Ub(i,t,u,l);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=re(t),d;if(s.isCompleteForChild(c)){l=n.serverCache.getNode();let h=Ub(i,t,s.getNode(),l);h!=null?d=s.getNode().getImmediateChild(c).updateChild(u,h):d=s.getNode().getImmediateChild(c)}else d=$g(i,c,n.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),c,d,u,r,o):a=s.getNode()}}return vs(n,a,s.isFullyInitialized()||H(t),e.filter.filtersNodes())}}function Rc(e,n,t,i,r,o,s,a){let l=n.serverCache,c,u=s?e.filter:e.filter.getIndexedFilter();if(H(t))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){let f=l.getNode().updateChild(t,i);c=u.updateFullNode(l.getNode(),f,null)}else{let f=$(t);if(!l.isCompleteForPath(t)&&jn(t)>1)return n;let p=re(t),y=l.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),f,y,p,xw,null)}let d=Sw(n,c,l.isFullyInitialized()||H(t),u.filtersNodes()),h=new Ns(r,d,o);return kw(e,d,t,r,h,a)}function sg(e,n,t,i,r,o,s){let a=n.eventCache,l,c,u=new Ns(r,n,o);if(H(t))c=e.filter.updateFullNode(n.eventCache.getNode(),i,s),l=vs(n,c,!0,e.filter.filtersNodes());else{let d=$(t);if(d===".priority")c=e.filter.updatePriority(n.eventCache.getNode(),i),l=vs(n,c,a.isFullyInitialized(),a.isFiltered());else{let h=re(t),f=a.getNode().getImmediateChild(d),p;if(H(h))p=i;else{let m=u.getCompleteChild(d);m!=null?xg(h)===".priority"&&m.getChild(Dw(h)).isEmpty()?p=m:p=m.updateChild(h,i):p=k.EMPTY_NODE}if(f.equals(p))l=n;else{let m=e.filter.updateChild(a.getNode(),d,p,h,u,s);l=vs(n,m,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function $b(e,n){return e.eventCache.isCompleteForChild(n)}function qk(e,n,t,i,r,o,s){let a=n;return i.foreach((l,c)=>{let u=ae(t,l);$b(n,$(u))&&(a=sg(e,a,u,c,r,o,s))}),i.foreach((l,c)=>{let u=ae(t,l);$b(n,$(u))||(a=sg(e,a,u,c,r,o,s))}),a}function Hb(e,n,t){return t.foreach((i,r)=>{n=n.updateChild(i,r)}),n}function ag(e,n,t,i,r,o,s,a){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let l=n,c;H(t)?c=i:c=new Be(null).setTree(t,i);let u=n.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=n.serverCache.getNode().getImmediateChild(d),p=Hb(e,f,h);l=Rc(e,l,new K(d),p,r,o,s,a)}}),c.children.inorderTraversal((d,h)=>{let f=!n.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let p=n.serverCache.getNode().getImmediateChild(d),m=Hb(e,p,h);l=Rc(e,l,new K(d),m,r,o,s,a)}}),l}function Zk(e,n,t,i,r,o,s){if(Ac(r,t)!=null)return n;let a=n.serverCache.isFiltered(),l=n.serverCache;if(i.value!=null){if(H(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return Rc(e,n,t,l.getNode().getChild(t),r,o,a,s);if(H(t)){let c=new Be(null);return l.getNode().forEachChild(Ut,(u,d)=>{c=c.set(new K(u),d)}),ag(e,n,t,c,r,o,a,s)}else return n}else{let c=new Be(null);return i.foreach((u,d)=>{let h=ae(t,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),ag(e,n,t,c,r,o,a,s)}}function Kk(e,n,t,i,r){let o=n.serverCache,s=Sw(n,o.getNode(),o.isFullyInitialized()||H(t),o.isFiltered());return kw(e,s,t,i,xw,r)}function Qk(e,n,t,i,r,o){let s;if(Ac(i,t)!=null)return n;{let a=new Ns(i,n,r),l=n.eventCache.getNode(),c;if(H(t)||$(t)===".priority"){let u;if(n.serverCache.isFullyInitialized())u=Nc(i,wi(n));else{let d=n.serverCache.getNode();v(d instanceof k,"serverChildren would be complete if leaf node"),u=Ug(i,d)}u=u,c=e.filter.updateFullNode(l,u,o)}else{let u=$(t),d=$g(i,u,n.serverCache);d==null&&n.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=e.filter.updateChild(l,u,d,re(t),a,o):n.eventCache.getNode().hasChild(u)?c=e.filter.updateChild(l,u,k.EMPTY_NODE,re(t),a,o):c=l,c.isEmpty()&&n.serverCache.isFullyInitialized()&&(s=Nc(i,wi(n)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=n.serverCache.isFullyInitialized()||Ac(i,Z())!=null,vs(n,c,s,e.filter.filtersNodes())}}var lg=class{constructor(n,t){this.query_=n,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new Ts(i.getIndex()),o=_k(i);this.processor_=Hk(o);let s=t.serverCache,a=t.eventCache,l=r.updateFullNode(k.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(k.EMPTY_NODE,a.getNode(),null),u=new Ht(l,s.isFullyInitialized(),r.filtersNodes()),d=new Ht(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=zc(d,u),this.eventGenerator_=new eg(this.query_)}get query(){return this.query_}};function Yk(e){return e.viewCache_.serverCache.getNode()}function Jk(e){return Mc(e.viewCache_)}function Xk(e,n){let t=wi(e.viewCache_);return t&&(e.query._queryParams.loadsAllData()||!H(n)&&!t.getImmediateChild($(n)).isEmpty())?t.getChild(n):null}function Gb(e){return e.eventRegistrations_.length===0}function eP(e,n){e.eventRegistrations_.push(n)}function zb(e,n,t){let i=[];if(t){v(n==null,"A cancel should cancel all event registrations.");let r=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(t,r);s&&i.push(s)})}if(n){let r=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(n))r.push(s);else if(n.hasAnyCallback()){r=r.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=r}else e.eventRegistrations_=[];return i}function Wb(e,n,t,i){n.type===jt.MERGE&&n.source.queryId!==null&&(v(wi(e.viewCache_),"We should always have a full cache before handling merges"),v(Mc(e.viewCache_),"Missing event cache, even though we have a server cache"));let r=e.viewCache_,o=zk(e.processor_,r,n,t,i);return Gk(e.processor_,o.viewCache),v(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,Pw(e,o.changes,o.viewCache.eventCache.getNode(),null)}function tP(e,n){let t=e.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(oe,(o,s)=>{i.push(Ur(o,s))}),t.isFullyInitialized()&&i.push(Tw(t.getNode())),Pw(e,i,t.getNode(),n)}function Pw(e,n,t,i){let r=i?[i]:e.eventRegistrations_;return Ik(e.eventGenerator_,n,t,r)}var Oc,xc=class{constructor(){this.views=new Map}};function nP(e){v(!Oc,"__referenceConstructor has already been defined"),Oc=e}function iP(){return v(Oc,"Reference.ts has not been loaded"),Oc}function rP(e){return e.views.size===0}function Hg(e,n,t,i){let r=n.source.queryId;if(r!==null){let o=e.views.get(r);return v(o!=null,"SyncTree gave us an op for an invalid query."),Wb(o,n,t,i)}else{let o=[];for(let s of e.views.values())o=o.concat(Wb(s,n,t,i));return o}}function Fw(e,n,t,i,r){let o=n._queryIdentifier,s=e.views.get(o);if(!s){let a=Nc(t,r?i:null),l=!1;a?l=!0:i instanceof k?(a=Ug(t,i),l=!1):(a=k.EMPTY_NODE,l=!1);let c=zc(new Ht(a,l,!1),new Ht(i,r,!1));return new lg(n,c)}return s}function oP(e,n,t,i,r,o){let s=Fw(e,n,i,r,o);return e.views.has(n._queryIdentifier)||e.views.set(n._queryIdentifier,s),eP(s,t),tP(s,t)}function sP(e,n,t,i){let r=n._queryIdentifier,o=[],s=[],a=Un(e);if(r==="default")for(let[l,c]of e.views.entries())s=s.concat(zb(c,t,i)),Gb(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=e.views.get(r);l&&(s=s.concat(zb(l,t,i)),Gb(l)&&(e.views.delete(r),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Un(e)&&o.push(new(iP())(n._repo,n._path)),{removed:o,events:s}}function Lw(e){let n=[];for(let t of e.views.values())t.query._queryParams.loadsAllData()||n.push(t);return n}function Vn(e,n){let t=null;for(let i of e.views.values())t=t||Xk(i,n);return t}function Vw(e,n){if(n._queryParams.loadsAllData())return qc(e);{let i=n._queryIdentifier;return e.views.get(i)}}function Bw(e,n){return Vw(e,n)!=null}function Un(e){return qc(e)!=null}function qc(e){for(let n of e.views.values())if(n.query._queryParams.loadsAllData())return n;return null}var kc;function aP(e){v(!kc,"__referenceConstructor has already been defined"),kc=e}function lP(){return v(kc,"Reference.ts has not been loaded"),kc}var cP=1,Pc=class{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Be(null),this.pendingWriteTree_=Uk(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function Gg(e,n,t,i,r){return Nk(e.pendingWriteTree_,n,t,i,r),r?Zr(e,new $r(Vg(),n,t)):[]}function uP(e,n,t,i){Ak(e.pendingWriteTree_,n,t,i);let r=Be.fromObject(t);return Zr(e,new Ms(Vg(),n,r))}function Fn(e,n,t=!1){let i=Rk(e.pendingWriteTree_,n);if(Ok(e.pendingWriteTree_,n)){let o=new Be(null);return i.snap!=null?o=o.set(Z(),!0):Te(i.children,s=>{o=o.set(new K(s),!0)}),Zr(e,new Xp(i.path,o,t))}else return[]}function Vs(e,n,t){return Zr(e,new $r(Bg(),n,t))}function dP(e,n,t){let i=Be.fromObject(t);return Zr(e,new Ms(Bg(),n,i))}function hP(e,n){return Zr(e,new Sc(Bg(),n))}function fP(e,n,t){let i=zg(e,t);if(i){let r=Wg(i),o=r.path,s=r.queryId,a=Ve(o,n),l=new Sc(jg(s),a);return qg(e,o,l)}else return[]}function Fc(e,n,t,i,r=!1){let o=n._path,s=e.syncPointTree_.get(o),a=[];if(s&&(n._queryIdentifier==="default"||Bw(s,n))){let l=sP(s,n,t,i);rP(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!r){let u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(h,f)=>Un(f));if(u&&!d){let h=e.syncPointTree_.subtree(o);if(!h.isEmpty()){let f=mP(h);for(let p=0;p<f.length;++p){let m=f[p],y=m.query,T=Hw(e,m);e.listenProvider_.startListening(Ds(y),As(e,y),T.hashFn,T.onComplete)}}}!d&&c.length>0&&!i&&(u?e.listenProvider_.stopListening(Ds(n),null):c.forEach(h=>{let f=e.queryToTagMap.get(Kc(h));e.listenProvider_.stopListening(Ds(h),f)}))}_P(e,c)}return a}function jw(e,n,t,i){let r=zg(e,i);if(r!=null){let o=Wg(r),s=o.path,a=o.queryId,l=Ve(s,n),c=new $r(jg(a),l,t);return qg(e,s,c)}else return[]}function pP(e,n,t,i){let r=zg(e,i);if(r){let o=Wg(r),s=o.path,a=o.queryId,l=Ve(s,n),c=Be.fromObject(t),u=new Ms(jg(a),l,c);return qg(e,s,u)}else return[]}function cg(e,n,t,i=!1){let r=n._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(r,(h,f)=>{let p=Ve(h,r);o=o||Vn(f,p),s=s||Un(f)});let a=e.syncPointTree_.get(r);a?(s=s||Un(a),o=o||Vn(a,Z())):(a=new xc,e.syncPointTree_=e.syncPointTree_.set(r,a));let l;o!=null?l=!0:(l=!1,o=k.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((f,p)=>{let m=Vn(p,Z());m&&(o=o.updateImmediateChild(f,m))}));let c=Bw(a,n);if(!c&&!n._queryParams.loadsAllData()){let h=Kc(n);v(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=vP();e.queryToTagMap.set(h,f),e.tagToQueryMap.set(f,h)}let u=Wc(e.pendingWriteTree_,r),d=oP(a,n,t,u,o,l);if(!c&&!s&&!i){let h=Vw(a,n);d=d.concat(yP(e,n,h))}return d}function Zc(e,n,t){let r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(n,(s,a)=>{let l=Ve(s,n),c=Vn(a,l);if(c)return c});return Aw(r,n,o,t,!0)}function gP(e,n){let t=n._path,i=null;e.syncPointTree_.foreachOnPath(t,(c,u)=>{let d=Ve(c,t);i=i||Vn(u,d)});let r=e.syncPointTree_.get(t);r?i=i||Vn(r,Z()):(r=new xc,e.syncPointTree_=e.syncPointTree_.set(t,r));let o=i!=null,s=o?new Ht(i,!0,!1):null,a=Wc(e.pendingWriteTree_,n._path),l=Fw(r,n,a,o?s.getNode():k.EMPTY_NODE,o);return Jk(l)}function Zr(e,n){return Uw(n,e.syncPointTree_,null,Wc(e.pendingWriteTree_,Z()))}function Uw(e,n,t,i){if(H(e.path))return $w(e,n,t,i);{let r=n.get(Z());t==null&&r!=null&&(t=Vn(r,Z()));let o=[],s=$(e.path),a=e.operationForChild(s),l=n.children.get(s);if(l&&a){let c=t?t.getImmediateChild(s):null,u=Rw(i,s);o=o.concat(Uw(a,l,c,u))}return r&&(o=o.concat(Hg(r,e,i,t))),o}}function $w(e,n,t,i){let r=n.get(Z());t==null&&r!=null&&(t=Vn(r,Z()));let o=[];return n.children.inorderTraversal((s,a)=>{let l=t?t.getImmediateChild(s):null,c=Rw(i,s),u=e.operationForChild(s);u&&(o=o.concat($w(u,a,l,c)))}),r&&(o=o.concat(Hg(r,e,i,t))),o}function Hw(e,n){let t=n.query,i=As(e,t);return{hashFn:()=>(Yk(n)||k.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?fP(e,t._path,i):hP(e,t._path);{let o=Nx(r,t);return Fc(e,t,null,o)}}}}function As(e,n){let t=Kc(n);return e.queryToTagMap.get(t)}function Kc(e){return e._path.toString()+"$"+e._queryIdentifier}function zg(e,n){return e.tagToQueryMap.get(n)}function Wg(e){let n=e.indexOf("$");return v(n!==-1&&n<e.length-1,"Bad queryKey."),{queryId:e.substr(n+1),path:new K(e.substr(0,n))}}function qg(e,n,t){let i=e.syncPointTree_.get(n);v(i,"Missing sync point for query tag that we're tracking");let r=Wc(e.pendingWriteTree_,n);return Hg(i,t,r,null)}function mP(e){return e.fold((n,t,i)=>{if(t&&Un(t))return[qc(t)];{let r=[];return t&&(r=Lw(t)),Te(i,(o,s)=>{r=r.concat(s)}),r}})}function Ds(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(lP())(e._repo,e._path):e}function _P(e,n){for(let t=0;t<n.length;++t){let i=n[t];if(!i._queryParams.loadsAllData()){let r=Kc(i),o=e.queryToTagMap.get(r);e.queryToTagMap.delete(r),e.tagToQueryMap.delete(o)}}}function vP(){return cP++}function yP(e,n,t){let i=n._path,r=As(e,n),o=Hw(e,t),s=e.listenProvider_.startListening(Ds(n),r,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(i);if(r)v(!Un(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!H(c)&&u&&Un(u))return[qc(u).query];{let h=[];return u&&(h=h.concat(Lw(u).map(f=>f.query))),Te(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){let u=l[c];e.listenProvider_.stopListening(Ds(u),As(e,u))}}return s}var ug=class e{constructor(n){this.node_=n}getImmediateChild(n){let t=this.node_.getImmediateChild(n);return new e(t)}node(){return this.node_}},dg=class e{constructor(n,t){this.syncTree_=n,this.path_=t}getImmediateChild(n){let t=ae(this.path_,n);return new e(this.syncTree_,t)}node(){return Zc(this.syncTree_,this.path_)}},DP=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},qb=function(e,n,t){if(!e||typeof e!="object")return e;if(v(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return bP(e[".sv"],n,t);if(typeof e[".sv"]=="object")return wP(e[".sv"],n);v(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},bP=function(e,n,t){switch(e){case"timestamp":return t.timestamp;default:v(!1,"Unexpected server value: "+e)}},wP=function(e,n,t){e.hasOwnProperty("increment")||v(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let i=e.increment;typeof i!="number"&&v(!1,"Unexpected increment value: "+i);let r=n.node();if(v(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return typeof s!="number"?i:s+i},Gw=function(e,n,t,i){return Kg(n,new dg(t,e),i)},Zg=function(e,n,t){return Kg(e,new ug(n),t)};function Kg(e,n,t){let i=e.getPriority().val(),r=qb(i,n.getImmediateChild(".priority"),t),o;if(e.isLeafNode()){let s=e,a=qb(s.getValue(),n,t);return a!==s.getValue()||r!==s.getPriority().val()?new Br(a,ce(r)):e}else{let s=e;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new Br(r))),s.forEachChild(oe,(a,l)=>{let c=Kg(l,n.getImmediateChild(a),t);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var Rs=class{constructor(n="",t=null,i={children:{},childCount:0}){this.name=n,this.parent=t,this.node=i}};function Qc(e,n){let t=n instanceof K?n:new K(n),i=e,r=$(t);for(;r!==null;){let o=_n(i.node.children,r)||{children:{},childCount:0};i=new Rs(r,i,o),t=re(t),r=$(t)}return i}function Ii(e){return e.node.value}function Qg(e,n){e.node.value=n,hg(e)}function zw(e){return e.node.childCount>0}function CP(e){return Ii(e)===void 0&&!zw(e)}function Yc(e,n){Te(e.node.children,(t,i)=>{n(new Rs(t,e,i))})}function Ww(e,n,t,i){t&&!i&&n(e),Yc(e,r=>{Ww(r,n,!0,i)}),t&&i&&n(e)}function EP(e,n,t){let i=t?e:e.parent;for(;i!==null;){if(n(i))return!0;i=i.parent}return!1}function Bs(e){return new K(e.parent===null?e.name:Bs(e.parent)+"/"+e.name)}function hg(e){e.parent!==null&&IP(e.parent,e.name,e)}function IP(e,n,t){let i=CP(t),r=st(e.node.children,n);i&&r?(delete e.node.children[n],e.node.childCount--,hg(e)):!i&&!r&&(e.node.children[n]=t.node,e.node.childCount++,hg(e))}var TP=/[\[\].#$\/\u0000-\u001F\u007F]/,SP=/[\[\].#$\u0000-\u001F\u007F]/,Cp=10*1024*1024,Jc=function(e){return typeof e=="string"&&e.length!==0&&!TP.test(e)},qw=function(e){return typeof e=="string"&&e.length!==0&&!SP.test(e)},MP=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),qw(e)},Os=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Hc(e)||e&&typeof e=="object"&&st(e,".sv")},Gt=function(e,n,t,i){i&&n===void 0||js($e(e,"value"),n,t)},js=function(e,n,t){let i=t instanceof K?new Fp(t,e):t;if(n===void 0)throw new Error(e+"contains undefined "+yi(i));if(typeof n=="function")throw new Error(e+"contains a function "+yi(i)+" with contents = "+n.toString());if(Hc(n))throw new Error(e+"contains "+n.toString()+" "+yi(i));if(typeof n=="string"&&n.length>Cp/3&&Xr(n)>Cp)throw new Error(e+"contains a string greater than "+Cp+" utf8 bytes "+yi(i)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let r=!1,o=!1;if(Te(n,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Jc(s)))throw new Error(e+" contains an invalid key ("+s+") "+yi(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);rk(i,s),js(e,a,i),ok(i)}),r&&o)throw new Error(e+' contains ".value" child '+yi(i)+" in addition to actual children.")}},NP=function(e,n){let t,i;for(t=0;t<n.length;t++){i=n[t];let o=ws(i);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!Jc(o[s]))throw new Error(e+"contains an invalid key ("+o[s]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(ik);let r=null;for(t=0;t<n.length;t++){if(i=n[t],r!==null&&_t(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},Zw=function(e,n,t,i){if(i&&n===void 0)return;let r=$e(e,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(r+" must be an object containing the children to replace.");let o=[];Te(n,(s,a)=>{let l=new K(s);if(js(r,a,ae(t,l)),xg(l)===".priority"&&!Os(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),NP(r,o)},Yg=function(e,n,t){if(!(t&&n===void 0)){if(Hc(n))throw new Error($e(e,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Os(n))throw new Error($e(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Us=function(e,n,t,i){if(!(i&&t===void 0)&&!Jc(t))throw new Error($e(e,n)+'was an invalid key = "'+t+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Kr=function(e,n,t,i){if(!(i&&t===void 0)&&!qw(t))throw new Error($e(e,n)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},AP=function(e,n,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Kr(e,n,t,i)},nt=function(e,n){if($(n)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},Kw=function(e,n){let t=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!Jc(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!MP(t))throw new Error($e(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var fg=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Xc(e,n){let t=null;for(let i=0;i<n.length;i++){let r=n[i],o=r.getPath();t!==null&&!kg(o,t.path)&&(e.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(r)}t&&e.eventLists_.push(t)}function Qw(e,n,t){Xc(e,t),Yw(e,i=>kg(i,n))}function it(e,n,t){Xc(e,t),Yw(e,i=>_t(i,n)||_t(n,i))}function Yw(e,n){e.recursionDepth_++;let t=!0;for(let i=0;i<e.eventLists_.length;i++){let r=e.eventLists_[i];if(r){let o=r.path;n(o)?(RP(e.eventLists_[i]),e.eventLists_[i]=null):t=!1}}t&&(e.eventLists_=[]),e.recursionDepth_--}function RP(e){for(let n=0;n<e.events.length;n++){let t=e.events[n];if(t!==null){e.events[n]=null;let i=t.getEventRunner();bi&&Ie("event: "+t.toString()),Wr(i)}}}var Jw="repo_interrupt",OP=25,pg=class{constructor(n,t,i,r){this.repoInfo_=n,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fg,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Tc(),this.transactionQueueTree_=new Rs,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function xP(e,n,t){if(e.stats_=Og(e.repoInfo_),e.forceRestClient_||xx())e.server_=new qp(e.repoInfo_,(i,r,o,s)=>{Zb(e,i,r,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Kb(e,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{fe(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Pg(e.repoInfo_,n,(i,r,o,s)=>{Zb(e,i,r,o,s)},i=>{Kb(e,i)},i=>{kP(e,i)},e.authTokenProvider_,e.appCheckProvider_,t),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=Px(e.repoInfo_,()=>new Jp(e.stats_,e.server_)),e.infoData_=new Zp,e.infoSyncTree_=new Pc({startListening:(i,r,o,s)=>{let a=[],l=e.infoData_.getNode(i._path);return l.isEmpty()||(a=Vs(e.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Jg(e,"connected",!1),e.serverSyncTree_=new Pc({startListening:(i,r,o,s)=>(e.server_.listen(i,o,r,(a,l)=>{let c=s(a,l);it(e.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}function Xw(e){let t=e.infoData_.getNode(new K(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function $s(e){return DP({timestamp:Xw(e)})}function Zb(e,n,t,i,r){e.dataUpdateCount++;let o=new K(n);t=e.interceptServerDataCallback_?e.interceptServerDataCallback_(n,t):t;let s=[];if(r)if(i){let l=Jr(t,c=>ce(c));s=pP(e.serverSyncTree_,o,l,r)}else{let l=ce(t);s=jw(e.serverSyncTree_,o,l,r)}else if(i){let l=Jr(t,c=>ce(c));s=dP(e.serverSyncTree_,o,l)}else{let l=ce(t);s=Vs(e.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Gr(e,o)),it(e.eventQueue_,a,s)}function Kb(e,n){Jg(e,"connected",n),n===!1&&LP(e)}function kP(e,n){Te(n,(t,i)=>{Jg(e,t,i)})}function Jg(e,n,t){let i=new K("/.info/"+n),r=ce(t);e.infoData_.updateSnapshot(i,r);let o=Vs(e.infoSyncTree_,i,r);it(e.eventQueue_,i,o)}function eu(e){return e.nextWriteId_++}function PP(e,n,t){let i=gP(e.serverSyncTree_,n);return i!=null?Promise.resolve(i):e.server_.get(n).then(r=>{let o=ce(r).withIndex(n._queryParams.getIndex());cg(e.serverSyncTree_,n,t,!0);let s;if(n._queryParams.loadsAllData())s=Vs(e.serverSyncTree_,n._path,o);else{let a=As(e.serverSyncTree_,n);s=jw(e.serverSyncTree_,n._path,o,a)}return it(e.eventQueue_,n._path,s),Fc(e.serverSyncTree_,n,t,null,!0),o},r=>(Qr(e,"get for query "+fe(n)+" failed: "+r),Promise.reject(new Error(r))))}function Xg(e,n,t,i,r){Qr(e,"set",{path:n.toString(),value:t,priority:i});let o=$s(e),s=ce(t,i),a=Zc(e.serverSyncTree_,n),l=Zg(s,a,o),c=eu(e),u=Gg(e.serverSyncTree_,n,l,c,!0);Xc(e.eventQueue_,u),e.server_.put(n.toString(),s.val(!0),(h,f)=>{let p=h==="ok";p||Pe("set at "+n+" failed: "+h);let m=Fn(e.serverSyncTree_,c,!p);it(e.eventQueue_,n,m),$n(e,r,h,f)});let d=tm(e,n);Gr(e,d),it(e.eventQueue_,d,[])}function FP(e,n,t,i){Qr(e,"update",{path:n.toString(),value:t});let r=!0,o=$s(e),s={};if(Te(t,(a,l)=>{r=!1,s[a]=Gw(ae(n,a),ce(l),e.serverSyncTree_,o)}),r)Ie("update() called with empty data.  Don't do anything."),$n(e,i,"ok",void 0);else{let a=eu(e),l=uP(e.serverSyncTree_,n,s,a);Xc(e.eventQueue_,l),e.server_.merge(n.toString(),t,(c,u)=>{let d=c==="ok";d||Pe("update at "+n+" failed: "+c);let h=Fn(e.serverSyncTree_,a,!d),f=h.length>0?Gr(e,n):n;it(e.eventQueue_,f,h),$n(e,i,c,u)}),Te(t,c=>{let u=tm(e,ae(n,c));Gr(e,u)}),it(e.eventQueue_,n,[])}}function LP(e){Qr(e,"onDisconnectEvents");let n=$s(e),t=Tc();Qp(e.onDisconnect_,Z(),(r,o)=>{let s=Gw(r,o,e.serverSyncTree_,n);qr(t,r,s)});let i=[];Qp(t,Z(),(r,o)=>{i=i.concat(Vs(e.serverSyncTree_,r,o));let s=tm(e,r);Gr(e,s)}),e.onDisconnect_=Tc(),it(e.eventQueue_,Z(),i)}function VP(e,n,t){e.server_.onDisconnectCancel(n.toString(),(i,r)=>{i==="ok"&&Kp(e.onDisconnect_,n),$n(e,t,i,r)})}function Qb(e,n,t,i){let r=ce(t);e.server_.onDisconnectPut(n.toString(),r.val(!0),(o,s)=>{o==="ok"&&qr(e.onDisconnect_,n,r),$n(e,i,o,s)})}function BP(e,n,t,i,r){let o=ce(t,i);e.server_.onDisconnectPut(n.toString(),o.val(!0),(s,a)=>{s==="ok"&&qr(e.onDisconnect_,n,o),$n(e,r,s,a)})}function jP(e,n,t,i){if(Zs(t)){Ie("onDisconnect().update() called with empty data.  Don't do anything."),$n(e,i,"ok",void 0);return}e.server_.onDisconnectMerge(n.toString(),t,(r,o)=>{r==="ok"&&Te(t,(s,a)=>{let l=ce(a);qr(e.onDisconnect_,ae(n,s),l)}),$n(e,i,r,o)})}function UP(e,n,t){let i;$(n._path)===".info"?i=cg(e.infoSyncTree_,n,t):i=cg(e.serverSyncTree_,n,t),Qw(e.eventQueue_,n._path,i)}function gg(e,n,t){let i;$(n._path)===".info"?i=Fc(e.infoSyncTree_,n,t):i=Fc(e.serverSyncTree_,n,t),Qw(e.eventQueue_,n._path,i)}function eC(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Jw)}function $P(e){e.persistentConnection_&&e.persistentConnection_.resume(Jw)}function Qr(e,...n){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":"),Ie(t,...n)}function $n(e,n,t,i){n&&Wr(()=>{if(t==="ok")n(null);else{let r=(t||"error").toUpperCase(),o=r;i&&(o+=": "+i);let s=new Error(o);s.code=r,n(s)}})}function HP(e,n,t,i,r,o){Qr(e,"transaction on "+n);let s={path:n,update:t,onComplete:i,status:null,order:Xb(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=em(e,n,void 0);s.currentInputSnapshot=a;let l=s.update(a.val());if(l===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{js("transaction failed: Data returned ",l,s.path),s.status=0;let c=Qc(e.transactionQueueTree_,n),u=Ii(c)||[];u.push(s),Qg(c,u);let d;typeof l=="object"&&l!==null&&st(l,".priority")?(d=_n(l,".priority"),v(Os(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Zc(e.serverSyncTree_,n)||k.EMPTY_NODE).getPriority().val();let h=$s(e),f=ce(l,d),p=Zg(f,a,h);s.currentOutputSnapshotRaw=f,s.currentOutputSnapshotResolved=p,s.currentWriteId=eu(e);let m=Gg(e.serverSyncTree_,n,p,s.currentWriteId,s.applyLocally);it(e.eventQueue_,n,m),tu(e,e.transactionQueueTree_)}}function em(e,n,t){return Zc(e.serverSyncTree_,n,t)||k.EMPTY_NODE}function tu(e,n=e.transactionQueueTree_){if(n||nu(e,n),Ii(n)){let t=nC(e,n);v(t.length>0,"Sending zero length transaction queue"),t.every(r=>r.status===0)&&GP(e,Bs(n),t)}else zw(n)&&Yc(n,t=>{tu(e,t)})}function GP(e,n,t){let i=t.map(c=>c.currentWriteId),r=em(e,n,i),o=r,s=r.hash();for(let c=0;c<t.length;c++){let u=t[c];v(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Ve(n,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=n;e.server_.put(l.toString(),a,c=>{Qr(e,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(Fn(e.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();nu(e,Qc(e.transactionQueueTree_,n)),tu(e,e.transactionQueueTree_),it(e.eventQueue_,n,u);for(let h=0;h<d.length;h++)Wr(d[h])}else{if(c==="datastale")for(let d=0;d<t.length;d++)t[d].status===3?t[d].status=4:t[d].status=0;else{Pe("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=c}Gr(e,n)}},s)}function Gr(e,n){let t=tC(e,n),i=Bs(t),r=nC(e,t);return zP(e,r,i),i}function zP(e,n,t){if(n.length===0)return;let i=[],r=[],s=n.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<n.length;a++){let l=n[a],c=Ve(t,l.path),u=!1,d;if(v(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(Fn(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=OP)u=!0,d="maxretry",r=r.concat(Fn(e.serverSyncTree_,l.currentWriteId,!0));else{let h=em(e,l.path,s);l.currentInputSnapshot=h;let f=n[a].update(h.val());if(f!==void 0){js("transaction failed: Data returned ",f,l.path);let p=ce(f);typeof f=="object"&&f!=null&&st(f,".priority")||(p=p.updatePriority(h.getPriority()));let y=l.currentWriteId,T=$s(e),R=Zg(p,h,T);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=R,l.currentWriteId=eu(e),s.splice(s.indexOf(y),1),r=r.concat(Gg(e.serverSyncTree_,l.path,R,l.currentWriteId,l.applyLocally)),r=r.concat(Fn(e.serverSyncTree_,y,!0))}else u=!0,d="nodata",r=r.concat(Fn(e.serverSyncTree_,l.currentWriteId,!0))}it(e.eventQueue_,t,r),r=[],u&&(n[a].status=2,function(h){setTimeout(h,Math.floor(0))}(n[a].unwatcher),n[a].onComplete&&(d==="nodata"?i.push(()=>n[a].onComplete(null,!1,n[a].currentInputSnapshot)):i.push(()=>n[a].onComplete(new Error(d),!1,null))))}nu(e,e.transactionQueueTree_);for(let a=0;a<i.length;a++)Wr(i[a]);tu(e,e.transactionQueueTree_)}function tC(e,n){let t,i=e.transactionQueueTree_;for(t=$(n);t!==null&&Ii(i)===void 0;)i=Qc(i,t),n=re(n),t=$(n);return i}function nC(e,n){let t=[];return iC(e,n,t),t.sort((i,r)=>i.order-r.order),t}function iC(e,n,t){let i=Ii(n);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);Yc(n,r=>{iC(e,r,t)})}function nu(e,n){let t=Ii(n);if(t){let i=0;for(let r=0;r<t.length;r++)t[r].status!==2&&(t[i]=t[r],i++);t.length=i,Qg(n,t.length>0?t:void 0)}Yc(n,i=>{nu(e,i)})}function tm(e,n){let t=Bs(tC(e,n)),i=Qc(e.transactionQueueTree_,n);return EP(i,r=>{Ep(e,r)}),Ep(e,i),Ww(i,r=>{Ep(e,r)}),t}function Ep(e,n){let t=Ii(n);if(t){let i=[],r=[],o=-1;for(let s=0;s<t.length;s++)t[s].status===3||(t[s].status===1?(v(o===s-1,"All SENT items should be at beginning of queue."),o=s,t[s].status=3,t[s].abortReason="set"):(v(t[s].status===0,"Unexpected transaction status in abort"),t[s].unwatcher(),r=r.concat(Fn(e.serverSyncTree_,t[s].currentWriteId,!0)),t[s].onComplete&&i.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Qg(n,void 0):t.length=o+1,it(e.eventQueue_,Bs(n),r);for(let s=0;s<i.length;s++)Wr(i[s])}}function WP(e){let n="",t=e.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}n+="/"+r}return n}function qP(e){let n={};e.charAt(0)==="?"&&(e=e.substring(1));for(let t of e.split("&")){if(t.length===0)continue;let i=t.split("=");i.length===2?n[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Pe(`Invalid query segment '${t}' in query '${e}'`)}return n}var mg=function(e,n){let t=ZP(e),i=t.namespace;t.domain==="firebase.com"&&$t(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&$t("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||Ex();let r=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new vc(t.host,t.secure,i,r,n,"",i!==t.subdomain),path:new K(t.pathString)}},ZP=function(e){let n="",t="",i="",r="",o="",s=!0,a="https",l=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),n=e.substring(0,Math.min(u,d)),u<d&&(r=WP(e.substring(u,d)));let h=qP(e.substring(Math.min(e.length,d)));c=n.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(n.substring(c+1),10)):c=n.length;let f=n.slice(0,c);if(f.toLowerCase()==="localhost")t="localhost";else if(f.split(".").length<=2)t=f;else{let p=n.indexOf(".");i=n.substring(0,p).toLowerCase(),t=n.substring(p+1),o=i}"ns"in h&&(o=h.ns)}return{host:n,port:l,domain:t,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};var Yb="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",KP=function(){let e=0,n=[];return function(t){let i=t===e;e=t;let r,o=new Array(8);for(r=7;r>=0;r--)o[r]=Yb.charAt(t%64),t=Math.floor(t/64);v(t===0,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&n[r]===63;r--)n[r]=0;n[r]++}else for(r=0;r<12;r++)n[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)s+=Yb.charAt(n[r]);return v(s.length===20,"nextPushId: Length should be 20."),s}}();var Lc=class{constructor(n,t,i,r){this.eventType=n,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){let n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+fe(this.snapshot.exportVal())}},Vc=class{constructor(n,t,i){this.eventRegistration=n,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var xs=class{constructor(n,t){this.snapshotCallback=n,this.cancelCallback=t}onValue(n,t){this.snapshotCallback.call(null,n,t)}onCancel(n){return v(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}};var Bc=class{constructor(n,t){this._repo=n,this._path=t}cancel(){let n=new be;return VP(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){nt("OnDisconnect.remove",this._path);let n=new be;return Qb(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){nt("OnDisconnect.set",this._path),Gt("OnDisconnect.set",n,this._path,!1);let t=new be;return Qb(this._repo,this._path,n,t.wrapCallback(()=>{})),t.promise}setWithPriority(n,t){nt("OnDisconnect.setWithPriority",this._path),Gt("OnDisconnect.setWithPriority",n,this._path,!1),Yg("OnDisconnect.setWithPriority",t,!1);let i=new be;return BP(this._repo,this._path,n,t,i.wrapCallback(()=>{})),i.promise}update(n){nt("OnDisconnect.update",this._path),Zw("OnDisconnect.update",n,this._path,!1);let t=new be;return jP(this._repo,this._path,n,t.wrapCallback(()=>{})),t.promise}};var je=class e{constructor(n,t,i,r){this._repo=n,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return H(this._path)?null:xg(this._path)}get ref(){return new rt(this._repo,this._path)}get _queryIdentifier(){let n=Lb(this._queryParams),t=Rg(n);return t==="{}"?"default":t}get _queryObject(){return Lb(this._queryParams)}isEqual(n){if(n=Fe(n),!(n instanceof e))return!1;let t=this._repo===n._repo,i=kg(this._path,n._path),r=this._queryIdentifier===n._queryIdentifier;return t&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+nk(this._path)}};function iu(e,n){if(e._orderByCalled===!0)throw new Error(n+": You can't combine multiple orderBy calls.")}function Gn(e){let n=null,t=null;if(e.hasStart()&&(n=e.getIndexStartValue()),e.hasEnd()&&(t=e.getIndexEndValue()),e.getIndex()===Ut){let i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Bn)throw new Error(i);if(typeof n!="string")throw new Error(r)}if(e.hasEnd()){if(e.getIndexEndName()!==gn)throw new Error(i);if(typeof t!="string")throw new Error(r)}}else if(e.getIndex()===oe){if(n!=null&&!Os(n)||t!=null&&!Os(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(v(e.getIndex()instanceof Cs||e.getIndex()===Lg,"unknown index type."),n!=null&&typeof n=="object"||t!=null&&typeof t=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ru(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var rt=class e extends je{constructor(n,t){super(n,t,new Ss,!1)}get parent(){let n=Dw(this._path);return n===null?null:new e(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}},zr=class e{constructor(n,t,i){this._node=n,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){let t=new K(n),i=Hn(this.ref,n);return new e(this._node.getChild(t),i,oe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>n(new e(r,Hn(this.ref,i),oe)))}hasChild(n){let t=new K(n);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function nm(e,n){return e=Fe(e),e._checkNotDeleted("ref"),n!==void 0?Hn(e._root,n):e._root}function im(e,n){e=Fe(e),e._checkNotDeleted("refFromURL");let t=mg(n,e._repo.repoInfo_.nodeAdmin);Kw("refFromURL",t);let i=t.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&i.host!==e._repo.repoInfo_.host&&$t("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),nm(e,t.path.toString())}function Hn(e,n){return e=Fe(e),$(e._path)===null?AP("child","path",n,!1):Kr("child","path",n,!1),new rt(e._repo,ae(e._path,n))}function rC(e,n){e=Fe(e),nt("push",e._path),Gt("push",n,e._path,!0);let t=Xw(e._repo),i=KP(t),r=Hn(e,i),o=Hn(e,i),s;return n!=null?s=ou(o,n).then(()=>o):s=Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}function oC(e){return nt("remove",e._path),ou(e,null)}function ou(e,n){e=Fe(e),nt("set",e._path),Gt("set",n,e._path,!1);let t=new be;return Xg(e._repo,e._path,n,null,t.wrapCallback(()=>{})),t.promise}function sC(e,n){e=Fe(e),nt("setPriority",e._path),Yg("setPriority",n,!1);let t=new be;return Xg(e._repo,ae(e._path,".priority"),n,null,t.wrapCallback(()=>{})),t.promise}function aC(e,n,t){if(nt("setWithPriority",e._path),Gt("setWithPriority",n,e._path,!1),Yg("setWithPriority",t,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";let i=new be;return Xg(e._repo,e._path,n,t,i.wrapCallback(()=>{})),i.promise}function lC(e,n){Zw("update",n,e._path,!1);let t=new be;return FP(e._repo,e._path,n,t.wrapCallback(()=>{})),t.promise}function cC(e){e=Fe(e);let n=new xs(()=>{}),t=new ks(n);return PP(e._repo,e,t).then(i=>new zr(i,new rt(e._repo,e._path),e._queryParams.getIndex()))}var ks=class e{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,t){let i=t._queryParams.getIndex();return new Lc("value",this,new zr(n.snapshotNode,new rt(t._repo,t._path),i))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,t){return this.callbackContext.hasCancelCallback?new Vc(this,n,t):null}matches(n){return n instanceof e?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},jc=class e{constructor(n,t){this.eventType=n,this.callbackContext=t}respondsTo(n){let t=n==="children_added"?"child_added":n;return t=t==="children_removed"?"child_removed":t,this.eventType===t}createCancelEvent(n,t){return this.callbackContext.hasCancelCallback?new Vc(this,n,t):null}createEvent(n,t){v(n.childName!=null,"Child events should have a childName.");let i=Hn(new rt(t._repo,t._path),n.childName),r=t._queryParams.getIndex();return new Lc(n.type,this,new zr(n.snapshotNode,i,r),n.prevName)}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof e?this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function Hs(e,n,t,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){let l=t,c=(u,d)=>{gg(e._repo,e,a),l(u,d)};c.userCallback=t.userCallback,c.context=t.context,t=c}let s=new xs(t,o||void 0),a=n==="value"?new ks(s):new jc(n,s);return UP(e._repo,e,a),()=>gg(e._repo,e,a)}function su(e,n,t,i){return Hs(e,"value",n,t,i)}function rm(e,n,t,i){return Hs(e,"child_added",n,t,i)}function om(e,n,t,i){return Hs(e,"child_changed",n,t,i)}function sm(e,n,t,i){return Hs(e,"child_moved",n,t,i)}function am(e,n,t,i){return Hs(e,"child_removed",n,t,i)}function lm(e,n,t){let i=null,r=t?new xs(t):null;n==="value"?i=new ks(r):n&&(i=new jc(n,r)),gg(e._repo,e,i)}var ot=class{},Uc=class extends ot{constructor(n,t){super(),this._value=n,this._key=t,this.type="endAt"}_apply(n){Gt("endAt",this._value,n._path,!0);let t=Wp(n._queryParams,this._value,this._key);if(ru(t),Gn(t),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new je(n._repo,n._path,t,n._orderByCalled)}};function uC(e,n){return Us("endAt","key",n,!0),new Uc(e,n)}var _g=class extends ot{constructor(n,t){super(),this._value=n,this._key=t,this.type="endBefore"}_apply(n){Gt("endBefore",this._value,n._path,!1);let t=bk(n._queryParams,this._value,this._key);if(ru(t),Gn(t),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new je(n._repo,n._path,t,n._orderByCalled)}};function dC(e,n){return Us("endBefore","key",n,!0),new _g(e,n)}var $c=class extends ot{constructor(n,t){super(),this._value=n,this._key=t,this.type="startAt"}_apply(n){Gt("startAt",this._value,n._path,!0);let t=zp(n._queryParams,this._value,this._key);if(ru(t),Gn(t),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new je(n._repo,n._path,t,n._orderByCalled)}};function hC(e=null,n){return Us("startAt","key",n,!0),new $c(e,n)}var vg=class extends ot{constructor(n,t){super(),this._value=n,this._key=t,this.type="startAfter"}_apply(n){Gt("startAfter",this._value,n._path,!1);let t=Dk(n._queryParams,this._value,this._key);if(ru(t),Gn(t),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new je(n._repo,n._path,t,n._orderByCalled)}};function fC(e,n){return Us("startAfter","key",n,!0),new vg(e,n)}var yg=class extends ot{constructor(n){super(),this._limit=n,this.type="limitToFirst"}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new je(n._repo,n._path,vk(n._queryParams,this._limit),n._orderByCalled)}};function pC(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new yg(e)}var Dg=class extends ot{constructor(n){super(),this._limit=n,this.type="limitToLast"}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new je(n._repo,n._path,yk(n._queryParams,this._limit),n._orderByCalled)}};function gC(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Dg(e)}var bg=class extends ot{constructor(n){super(),this._path=n,this.type="orderByChild"}_apply(n){iu(n,"orderByChild");let t=new K(this._path);if(H(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let i=new Cs(t),r=Gc(n._queryParams,i);return Gn(r),new je(n._repo,n._path,r,!0)}};function mC(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Kr("orderByChild","path",e,!1),new bg(e)}var wg=class extends ot{constructor(){super(...arguments),this.type="orderByKey"}_apply(n){iu(n,"orderByKey");let t=Gc(n._queryParams,Ut);return Gn(t),new je(n._repo,n._path,t,!0)}};function _C(){return new wg}var Cg=class extends ot{constructor(){super(...arguments),this.type="orderByPriority"}_apply(n){iu(n,"orderByPriority");let t=Gc(n._queryParams,oe);return Gn(t),new je(n._repo,n._path,t,!0)}};function vC(){return new Cg}var Eg=class extends ot{constructor(){super(...arguments),this.type="orderByValue"}_apply(n){iu(n,"orderByValue");let t=Gc(n._queryParams,Lg);return Gn(t),new je(n._repo,n._path,t,!0)}};function yC(){return new Eg}var Ig=class extends ot{constructor(n,t){super(),this._value=n,this._key=t,this.type="equalTo"}_apply(n){if(Gt("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Uc(this._value,this._key)._apply(new $c(this._value,this._key)._apply(n))}};function DC(e,n){return Us("equalTo","key",n,!0),new Ig(e,n)}function yt(e,...n){let t=Fe(e);for(let i of n)t=i._apply(t);return t}nP(rt);aP(rt);var QP="FIREBASE_DATABASE_EMULATOR_HOST",Tg={},YP=!1;function JP(e,n,t,i){e.repoInfo_=new vc(`${n}:${t}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}function cm(e,n,t,i,r){let o=i||e.options.databaseURL;o===void 0&&(e.options.projectId||$t("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ie("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=mg(o,r),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[QP]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=mg(o,r),a=s.repoInfo):l=!s.repoInfo.secure;let u=r&&l?new _s(_s.OWNER):new Ap(e.name,e.options,n);Kw("Invalid Firebase Database URL",s),H(s.path)||$t("Database URL must point to the root of a Firebase Database (not including a child path).");let d=eF(a,e,u,new Np(e.name,t));return new Sg(d,e)}function XP(e,n){let t=Tg[n];(!t||t[e.key]!==e)&&$t(`Database ${n}(${e.repoInfo_}) has already been deleted.`),eC(e),delete t[e.key]}function eF(e,n,t,i){let r=Tg[n.name];r||(r={},Tg[n.name]=r);let o=r[e.toURLString()];return o&&$t("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new pg(e,YP,t,i),r[e.toURLString()]=o,o}var Sg=class{constructor(n,t){this._repoInternal=n,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(xP(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new rt(this._repo,Z())),this._rootInternal}_delete(){return this._rootInternal!==null&&(XP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&$t("Cannot call "+n+" on a deleted database.")}};function bC(){yw.IS_TRANSPORT_INITIALIZED&&Pe("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function wC(){bC(),bs.forceDisallow()}function CC(){bC(),Pr.forceDisallow(),bs.forceAllow()}function EC(e,n,t,i={}){e=Fe(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&$t("Cannot call useEmulator() after instance has already been initialized.");let r=e._repoInternal,o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&$t('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new _s(_s.OWNER);else if(i.mockUserToken){let s=typeof i.mockUserToken=="string"?i.mockUserToken:wm(i.mockUserToken,e.app.options.projectId);o=new _s(s)}JP(r,n,t,o)}function IC(e){e=Fe(e),e._checkNotDeleted("goOffline"),eC(e._repo)}function TC(e){e=Fe(e),e._checkNotDeleted("goOnline"),$P(e._repo)}function SC(e,n){tw(e,n)}function tF(e){Ag(Om),eo(new Wt("database",(n,{instanceIdentifier:t})=>{let i=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return cm(i,r,o,t)},"PUBLIC").setMultipleInstances(!0)),vn(Db,bb,e),vn(Db,bb,"esm2017")}var nF={".sv":"timestamp"};function MC(){return nF}function NC(e){return{".sv":{increment:e}}}var Mg=class{constructor(n,t){this.committed=n,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function AC(e,n,t){var i;if(e=Fe(e),nt("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";let r=(i=t?.applyLocally)!==null&&i!==void 0?i:!0,o=new be,s=(l,c,u)=>{let d=null;l?o.reject(l):(d=new zr(u,new rt(e._repo,e._path),oe),o.resolve(new Mg(c,d)))},a=su(e,()=>{});return HP(e._repo,e._path,n,s,a,r),o.promise}Pg.prototype.simpleListen=function(e,n){this.sendRequest("q",{p:e},n)};Pg.prototype.echo=function(e,n){this.sendRequest("echo",{d:e},n)};tF();var iF="@firebase/database-compat",rF="1.0.8";var oF=new Ai("@firebase/database-compat"),RC=function(e){let n="FIREBASE WARNING: "+e;oF.warn(n)};var sF=function(e,n,t,i){if(!(i&&t===void 0)&&typeof t!="boolean")throw new Error($e(e,n)+"must be a boolean.")},aF=function(e,n,t){if(!(t&&n===void 0))switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error($e(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var um=class{constructor(n){this._delegate=n}cancel(n){N("OnDisconnect.cancel",0,1,arguments.length),ve("OnDisconnect.cancel","onComplete",n,!0);let t=this._delegate.cancel();return n&&t.then(()=>n(null),i=>n(i)),t}remove(n){N("OnDisconnect.remove",0,1,arguments.length),ve("OnDisconnect.remove","onComplete",n,!0);let t=this._delegate.remove();return n&&t.then(()=>n(null),i=>n(i)),t}set(n,t){N("OnDisconnect.set",1,2,arguments.length),ve("OnDisconnect.set","onComplete",t,!0);let i=this._delegate.set(n);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(n,t,i){N("OnDisconnect.setWithPriority",2,3,arguments.length),ve("OnDisconnect.setWithPriority","onComplete",i,!0);let r=this._delegate.setWithPriority(n,t);return i&&r.then(()=>i(null),o=>i(o)),r}update(n,t){if(N("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){let r={};for(let o=0;o<n.length;++o)r[""+o]=n[o];n=r,RC("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ve("OnDisconnect.update","onComplete",t,!0);let i=this._delegate.update(n);return t&&i.then(()=>t(null),r=>t(r)),i}};var dm=class{constructor(n,t){this.committed=n,this.snapshot=t}toJSON(){return N("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var Ti=class e{constructor(n,t){this._database=n,this._delegate=t}val(){return N("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return N("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return N("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return N("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return N("DataSnapshot.child",0,1,arguments.length),n=String(n),Kr("DataSnapshot.child","path",n,!1),new e(this._database,this._delegate.child(n))}hasChild(n){return N("DataSnapshot.hasChild",1,1,arguments.length),Kr("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return N("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return N("DataSnapshot.forEach",1,1,arguments.length),ve("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(t=>n(new e(this._database,t)))}hasChildren(){return N("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return N("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return N("DataSnapshot.ref",0,0,arguments.length),new mn(this._database,this._delegate.ref)}get ref(){return this.getRef()}},au=class e{constructor(n,t){this.database=n,this._delegate=t}on(n,t,i,r){var o;N("Query.on",2,4,arguments.length),ve("Query.on","callback",t,!1);let s=e.getCancelAndContextArgs_("Query.on",i,r),a=(c,u)=>{t.call(s.context,new Ti(this.database,c),u)};a.userCallback=t,a.context=s.context;let l=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(n){case"value":return su(this._delegate,a,l),t;case"child_added":return rm(this._delegate,a,l),t;case"child_removed":return am(this._delegate,a,l),t;case"child_changed":return om(this._delegate,a,l),t;case"child_moved":return sm(this._delegate,a,l),t;default:throw new Error($e("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,t,i){if(N("Query.off",0,3,arguments.length),aF("Query.off",n,!0),ve("Query.off","callback",t,!0),_u("Query.off","context",i,!0),t){let r=()=>{};r.userCallback=t,r.context=i,lm(this._delegate,n,r)}else lm(this._delegate,n)}get(){return cC(this._delegate).then(n=>new Ti(this.database,n))}once(n,t,i,r){N("Query.once",1,4,arguments.length),ve("Query.once","callback",t,!0);let o=e.getCancelAndContextArgs_("Query.once",i,r),s=new be,a=(c,u)=>{let d=new Ti(this.database,c);t&&t.call(o.context,d,u),s.resolve(d)};a.userCallback=t,a.context=o.context;let l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(n){case"value":su(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":rm(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":am(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":om(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":sm(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error($e("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(n){return N("Query.limitToFirst",1,1,arguments.length),new e(this.database,yt(this._delegate,pC(n)))}limitToLast(n){return N("Query.limitToLast",1,1,arguments.length),new e(this.database,yt(this._delegate,gC(n)))}orderByChild(n){return N("Query.orderByChild",1,1,arguments.length),new e(this.database,yt(this._delegate,mC(n)))}orderByKey(){return N("Query.orderByKey",0,0,arguments.length),new e(this.database,yt(this._delegate,_C()))}orderByPriority(){return N("Query.orderByPriority",0,0,arguments.length),new e(this.database,yt(this._delegate,vC()))}orderByValue(){return N("Query.orderByValue",0,0,arguments.length),new e(this.database,yt(this._delegate,yC()))}startAt(n=null,t){return N("Query.startAt",0,2,arguments.length),new e(this.database,yt(this._delegate,hC(n,t)))}startAfter(n=null,t){return N("Query.startAfter",0,2,arguments.length),new e(this.database,yt(this._delegate,fC(n,t)))}endAt(n=null,t){return N("Query.endAt",0,2,arguments.length),new e(this.database,yt(this._delegate,uC(n,t)))}endBefore(n=null,t){return N("Query.endBefore",0,2,arguments.length),new e(this.database,yt(this._delegate,dC(n,t)))}equalTo(n,t){return N("Query.equalTo",1,2,arguments.length),new e(this.database,yt(this._delegate,DC(n,t)))}toString(){return N("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return N("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if(N("Query.isEqual",1,1,arguments.length),!(n instanceof e)){let t="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(t)}return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,t,i){let r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,ve(n,"cancel",r.cancel,!0),r.context=i,_u(n,"context",r.context,!0);else if(t)if(typeof t=="object"&&t!==null)r.context=t;else if(typeof t=="function")r.cancel=t;else throw new Error($e(n,"cancelOrContext")+" must either be a cancel callback or a context object.");return r}get ref(){return new mn(this.database,new rt(this._delegate._repo,this._delegate._path))}},mn=class e extends au{constructor(n,t){super(n,new je(t._repo,t._path,new Ss,!1)),this.database=n,this._delegate=t}getKey(){return N("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return N("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new e(this.database,Hn(this._delegate,n))}getParent(){N("Reference.parent",0,0,arguments.length);let n=this._delegate.parent;return n?new e(this.database,n):null}getRoot(){return N("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)}set(n,t){N("Reference.set",1,2,arguments.length),ve("Reference.set","onComplete",t,!0);let i=ou(this._delegate,n);return t&&i.then(()=>t(null),r=>t(r)),i}update(n,t){if(N("Reference.update",1,2,arguments.length),Array.isArray(n)){let r={};for(let o=0;o<n.length;++o)r[""+o]=n[o];n=r,RC("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}nt("Reference.update",this._delegate._path),ve("Reference.update","onComplete",t,!0);let i=lC(this._delegate,n);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(n,t,i){N("Reference.setWithPriority",2,3,arguments.length),ve("Reference.setWithPriority","onComplete",i,!0);let r=aC(this._delegate,n,t);return i&&r.then(()=>i(null),o=>i(o)),r}remove(n){N("Reference.remove",0,1,arguments.length),ve("Reference.remove","onComplete",n,!0);let t=oC(this._delegate);return n&&t.then(()=>n(null),i=>n(i)),t}transaction(n,t,i){N("Reference.transaction",1,3,arguments.length),ve("Reference.transaction","transactionUpdate",n,!1),ve("Reference.transaction","onComplete",t,!0),sF("Reference.transaction","applyLocally",i,!0);let r=AC(this._delegate,n,{applyLocally:i}).then(o=>new dm(o.committed,new Ti(this.database,o.snapshot)));return t&&r.then(o=>t(null,o.committed,o.snapshot),o=>t(o,!1,null)),r}setPriority(n,t){N("Reference.setPriority",1,2,arguments.length),ve("Reference.setPriority","onComplete",t,!0);let i=sC(this._delegate,n);return t&&i.then(()=>t(null),r=>t(r)),i}push(n,t){N("Reference.push",0,2,arguments.length),ve("Reference.push","onComplete",t,!0);let i=rC(this._delegate,n),r=i.then(s=>new e(this.database,s));t&&r.then(()=>t(null),s=>t(s));let o=new e(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return nt("Reference.onDisconnect",this._delegate._path),new um(new Bc(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var Si=class{constructor(n,t){this._delegate=n,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:wC,forceLongPolling:CC}}useEmulator(n,t,i={}){EC(this._delegate,n,t,i)}ref(n){if(N("database.ref",0,1,arguments.length),n instanceof mn){let t=im(this._delegate,n.toString());return new mn(this,t)}else{let t=nm(this._delegate,n);return new mn(this,t)}}refFromURL(n){N("database.refFromURL",1,1,arguments.length);let i=im(this._delegate,n);return new mn(this,i)}goOffline(){return N("database.goOffline",0,0,arguments.length),IC(this._delegate)}goOnline(){return N("database.goOnline",0,0,arguments.length),TC(this._delegate)}};Si.ServerValue={TIMESTAMP:MC(),increment:e=>NC(e)};function lF({app:e,url:n,version:t,customAuthImpl:i,customAppCheckImpl:r,namespace:o,nodeAdmin:s=!1}){Ag(t);let a=new vu("database-standalone"),l=new Ks("auth-internal",a);l.setComponent(new Wt("auth-internal",()=>i,"PRIVATE"));let c;return r&&(c=new Ks("app-check-internal",a),c.setComponent(new Wt("app-check-internal",()=>r,"PRIVATE"))),{instance:new Si(cm(e,l,c,n,s),e),namespace:o}}var cF=Object.freeze({__proto__:null,initStandalone:lF});var uF=Si.ServerValue;function dF(e){e.INTERNAL.registerComponent(new Wt("database-compat",(n,{instanceIdentifier:t})=>{let i=n.getProvider("app-compat").getImmediate(),r=n.getProvider("database").getImmediate({identifier:t});return new Si(r,i)},"PUBLIC").setServiceProps({Reference:mn,Query:au,Database:Si,DataSnapshot:Ti,enableLogging:SC,INTERNAL:cF,ServerValue:uF}).setMultipleInstances(!0)),e.registerVersion(iF,rF)}dF(He);function Gs(e,n,t="on",i=ji){return new A(r=>{let o=null;return o=e[t](n,(s,a)=>{i.schedule(()=>{r.next({snapshot:s,prevKey:a})}),t==="once"&&i.schedule(()=>r.complete())},s=>{i.schedule(()=>r.error(s))}),t==="on"?{unsubscribe(){o!=null&&e.off(n,o)}}:{unsubscribe(){}}}).pipe(S(r=>{let{snapshot:o,prevKey:s}=r,a=null;return o.exists()&&(a=o.key),{type:n,payload:o,prevKey:s,key:a}}),ro())}function hF(e){return typeof e=="string"}function fF(e){return typeof e.exportVal=="function"}function FC(e){return e==null}function LC(e){return typeof e.set=="function"}function OC(e,n){return LC(n)?n:e.ref(n)}function VC(e,n){if(hF(e))return n.stringCase();if(LC(e))return n.firebaseCase();if(fF(e))return n.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof e}`)}function BC(e){return(FC(e)||e.length===0)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function jC(e,n,t){n=BC(n);let i=n.map(r=>Gs(e,r,"on",t));return Kn(...i)}function pF(e,n,t){let i=jC(e,n).pipe(Wi((r,o)=>[...r,o],[]));return mF(e,i,t)}function gF(e,n){return Gs(e,"value","on",n).pipe(S(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}function mF(e,n,t){return gF(e,t).pipe(qi(n),S(([r,o])=>{let s=r.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),qu(r=>r.loadedKeys.indexOf(r.lastKeyToLoad)===-1),S(r=>r.actions))}function xC(e,n){return function(i,r){return VC(i,{stringCase:()=>e.child(i)[n](r),firebaseCase:()=>i[n](r),snapshotCase:()=>i.ref[n](r)})}}function _F(e){return function(t){return t?VC(t,{stringCase:()=>e.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):e.remove()}}function vF(e,n,t){return Gs(e,"value","once",t).pipe(te(i=>{let r=[E(i)];return n.forEach(o=>r.push(Gs(e,o,"on",t))),Kn(...r).pipe(Wi(DF,[]))}),va())}function UC(e,n){let t=e.length;for(let i=0;i<t;i++)if(e[i].payload.key===n)return i;return-1}function yF(e,n){if(FC(n))return 0;{let t=UC(e,n);return t===-1?e.length:t+1}}function DF(e,n){let{payload:t,prevKey:i,key:r}=n,o=UC(e,r),s=yF(e,i);switch(n.type){case"value":if(n.payload?.exists()){let a=null;n.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,e=[...e,c],!1})}return e;case"child_added":if(o>-1)(e[o-1]?.key||null)!==i&&(e=e.filter(l=>l.payload.key!==t.key),e.splice(s,0,n));else{if(i==null)return[n,...e];e=e.slice(),e.splice(s,0,n)}return e;case"child_removed":return e.filter(a=>a.payload.key!==t.key);case"child_changed":return e.map(a=>a.payload.key===r?n:a);case"child_moved":if(o>-1){let a=e.splice(o,1)[0];return e=e.slice(),e.splice(s,0,a),e}return e;default:return e}}function kC(e,n,t){return n=BC(n),vF(e,n,t)}function bF(e,n){let t=n.schedulers.outsideAngular,i=n.schedulers.ngZone.run(()=>e.ref);return{query:e,update:xC(i,"update"),set:xC(i,"set"),push:r=>i.push(r),remove:_F(i),snapshotChanges(r){return kC(e,r,t).pipe(pn)},stateChanges(r){return jC(e,r,t).pipe(pn)},auditTrail(r){return pF(e,r,t).pipe(pn)},valueChanges(r,o){return kC(e,r,t).pipe(S(a=>a.map(l=>o&&o.idField?X(w({},l.payload.val()),{[o.idField]:l.key}):l.payload.val())),pn)}}}function PC(e,n){return function(){return Gs(e,"value","on",n)}}function wF(e,n){return{query:e,snapshotChanges(){return PC(e,n.schedulers.outsideAngular)().pipe(pn)},update(t){return e.ref.update(t)},set(t){return e.ref.set(t)},remove(){return e.ref.remove()},valueChanges(){return PC(e,n.schedulers.outsideAngular)().pipe(pn,S(i=>i.payload.exists()?i.payload.val():null))}}}var CF=new b("angularfire2.realtimeDatabaseURL"),EF=new b("angularfire2.database.use-emulator"),hm=(()=>{class e{schedulers;database;constructor(t,i,r,o,s,a,l,c,u,d,h,f,p,m,y){this.schedulers=a;let T=l,R=ds(t,s,i);c&&_p(R,s,u,h,f,p,d,m),this.database=gc(`${R.name}.database.${r}`,"AngularFireDatabase",R.name,()=>{let C=s.runOutsideAngular(()=>R.database(r||void 0));return T&&C.useEmulator(...T),C},[T])}list(t,i){let r=this.schedulers.ngZone.runOutsideAngular(()=>OC(this.database,t)),o=r;return i&&(o=i(r)),bF(o,this)}object(t){let i=this.schedulers.ngZone.runOutsideAngular(()=>OC(this.database,t));return wF(i,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||e)(_(Or),_(xr,8),_(CF,8),_(Ne),_(j),_(hc),_(EF,8),_(yb,8),_(dp,8),_(hp,8),_(fp,8),_(pp,8),_(gp,8),_(mp,8),_(vi,8))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),$C=(()=>{class e{constructor(){He.registerVersion("angularfire",Rr.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||e)};static \u0275mod=L({type:e});static \u0275inj=F({providers:[hm]})}return e})();var lu=class e{constructor(n,t){this.db=n;this.http=t}apiUrl="https://dolgozat-79584-default-rtdb.europe-west1.firebasedatabase.app/products.json";getAllProducts(){return this.http.get(this.apiUrl)}addProduct(n){return this.http.post(this.apiUrl,n)}updateProduct(n,t){let i=`https://dolgozat-79584-default-rtdb.europe-west1.firebasedatabase.app/products/${n}.json`;return this.http.put(i,t)}deleteProduct(n){let t=`https://dolgozat-79584-default-rtdb.europe-west1.firebasedatabase.app/${n}.json`;return this.http.delete(t)}static \u0275fac=function(t){return new(t||e)(_(hm),_(Vo))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var cu=class e{constructor(n){this.http=n}currentLang=new pe("en");currentLang$=this.currentLang.asObservable();setLanguage(n){this.currentLang.next(n),this.loadLanguage(n)}loadLanguage(n){this.http.get(`assets/i18n/${n}.json`).subscribe(t=>{console.log(t)},t=>console.error("Error loading language file",t))}static \u0275fac=function(t){return new(t||e)(_(Vo))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};function MF(e,n){if(e&1&&(Ae(0,"li")(1,"h3"),Xe(2),Re(),Ae(3,"p"),Xe(4),Re(),Ae(5,"p"),Xe(6),Uh(7,"currency"),Re()()),e&2){let t=n.$implicit;hr(2),So(t.name),hr(2),So(t.description),hr(2),Mo("Price: ",$h(7,3,t.price),"")}}function NF(e,n){if(e&1&&(Ae(0,"div",3)(1,"ul"),Co(2,MF,8,5,"li",4),Re()()),e&2){let t=Vh();hr(2),Io("ngForOf",t.products)}}var uu=class e{constructor(n,t){this.productService=n;this.translateService=t;this.translateService.setLanguage("en")}products=[];ngOnInit(){this.productService.getAllProducts().subscribe(n=>{console.log(n)}),this.productService.addProduct({name:"New Product",description:"New Product Description",price:100}).subscribe(n=>{console.log(n)}),this.productService.updateProduct("1",{name:"New Product",description:"New Product Description",price:100}).subscribe(n=>{console.log(n)}),this.productService.deleteProduct("1").subscribe(n=>{console.log(n)})}onLangChange(n){this.translateService.setLanguage(n)}title="dolgozat";static \u0275fac=function(t){return new(t||e)(ke(lu),ke(cu))};static \u0275cmp=Je({type:e,selectors:[["app-root"]],decls:6,vars:1,consts:[["class","container",4,"ngIf"],[1,"btn","btn-secondary","m-2",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"container"],[4,"ngFor","ngForOf"]],template:function(t,i){t&1&&(Co(0,NF,3,1,"div",0),Ae(1,"button",1),hi("click",function(){return i.onLangChange("en")}),Xe(2,"English"),Re(),Ae(3,"button",2),hi("click",function(){return i.onLangChange("hu")}),Xe(4,"Magyar"),Re(),pr(5,"router-outlet")),t&2&&Io("ngIf",i.products.length>0)},dependencies:[V0,B0,Qf,j0]})};var OF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},tz=X(w({},OF),{"[class.ng-submitted]":"isSubmitted"});var xF=new b("CallSetDisabledState",{providedIn:"root",factory:()=>HC}),HC="always";var kF=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var GC=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:xF,useValue:t.callSetDisabledState??HC}]}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({imports:[kF]})}}return e})();var PF=["*"];var FF=["dialog"];var zC={animation:!0,transitionTimerDelayMs:5},LF=(()=>{class e{constructor(){this.animation=zC.animation}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function VF(e){let{transitionDelay:n,transitionDuration:t}=window.getComputedStyle(e),i=parseFloat(n),r=parseFloat(t);return(i+r)*1e3}function WC(e){return typeof e=="string"}function fm(e){return e!=null}function BF(e){return e&&e.then}function qC(e){return(e||document.body).getBoundingClientRect()}function jF(e){return n=>new A(t=>{let i=s=>e.run(()=>t.next(s)),r=s=>e.run(()=>t.error(s)),o=()=>e.run(()=>t.complete());return n.subscribe({next:i,error:r,complete:o})})}var UF=()=>{},{transitionTimerDelayMs:$F}=zC,du=new Map,Mi=(e,n,t,i)=>{let r=i.context||{},o=du.get(n);if(o)switch(i.runningTransition){case"continue":return ye;case"stop":e.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),du.delete(n)}let s=t(n,i.animation,r)||UF;if(!i.animation||window.getComputedStyle(n).transitionProperty==="none")return e.run(()=>s()),E(void 0).pipe(jF(e));let a=new Y,l=new Y,c=a.pipe(Gu(!0));du.set(n,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let u=VF(n);return e.runOutsideAngular(()=>{let d=lt(n,"transitionend").pipe(Oe(c),he(({target:f})=>f===n)),h=Uu(u+$F).pipe(Oe(c));$u(h,d,l).pipe(Oe(c)).subscribe(()=>{du.delete(n),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};var ZC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var KC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var QC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})(),YC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var Zz=(()=>{let e=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,n=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(e()||n()):!1})();var HF=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function JC(e){let n=Array.from(e.querySelectorAll(HF)).filter(t=>t.tabIndex!==-1);return[n[0],n[n.length-1]]}var GF=(e,n,t,i=!1)=>{e.runOutsideAngular(()=>{let r=lt(n,"focusin").pipe(Oe(t),S(o=>o.target));lt(n,"keydown").pipe(Oe(t),he(o=>o.key==="Tab"),qi(r)).subscribe(([o,s])=>{let[a,l]=JC(n);(s===a||s===n)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&lt(n,"click").pipe(Oe(t),qi(r),S(o=>o[1])).subscribe(o=>o.focus())})};var Kz=new Date(1882,10,12),Qz=new Date(2174,10,25);var Yz=1e3*60*60*24;var mm=1080,zF=24*mm,WF=12*mm+793,Jz=29*zF+WF,Xz=11*mm+204;var XC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var eE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})(),qF=(()=>{class e{constructor(){this._ngbConfig=g(LF),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Yr=class{constructor(n,t,i){this.nodes=n,this.viewRef=t,this.componentRef=i}};var ZF=(()=>{class e{constructor(){this._document=g(me)}hide(){let t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(t>0){let a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=s),r.overflow=o}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),KF=(()=>{class e{constructor(){this._nativeElement=g(Tt).nativeElement,this._zone=g(j)}ngOnInit(){this._zone.onStable.asObservable().pipe(ze(1)).subscribe(()=>{Mi(this._zone,this._nativeElement,(t,i)=>{i&&qC(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Mi(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=Je({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&(wl("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),To("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[No],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return e})(),hu=class{update(n){}close(n){}dismiss(n){}},QF=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],YF=["animation","backdropClass"],pm=class{_applyWindowOptions(n,t){QF.forEach(i=>{fm(t[i])&&(n[i]=t[i])})}_applyBackdropOptions(n,t){YF.forEach(i=>{fm(t[i])&&(n[i]=t[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Oe(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Oe(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,t,i,r){this._windowCmptRef=n,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Y,this._dismissed=new Y,this._hidden=new Y,n.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(n);else{let t=this._beforeDismiss();BF(t)?t.then(i=>{i!==!1&&this._dismiss(n)},()=>{}):t!==!1&&this._dismiss(n)}}_removeModalElements(){let n=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():E(void 0);n.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),io(n,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},gm=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(gm||{}),JF=(()=>{class e{constructor(){this._document=g(me),this._elRef=g(Tt),this._zone=g(j),this._closed$=new Y,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ge,this.shown=new Y,this.hidden=new Y}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":WC(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(ze(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=Mi(this._zone,t,()=>t.classList.remove("show"),i),o=Mi(this._zone,this._dialogEl.nativeElement,()=>{},i),s=io(r,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){let t={animation:this.animation,runningTransition:"continue"},i=Mi(this._zone,this._elRef.nativeElement,(o,s)=>{s&&qC(o),o.classList.add("show")},t),r=Mi(this._zone,this._dialogEl.nativeElement,()=>{},t);io(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{lt(t,"keydown").pipe(Oe(this._closed$),he(r=>r.key==="Escape")).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(gm.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;lt(this._dialogEl.nativeElement,"mousedown").pipe(Oe(this._closed$),de(()=>i=!1),te(()=>lt(t,"mouseup").pipe(Oe(this._closed$),ze(1))),he(({target:r})=>t===r)).subscribe(()=>{i=!0}),lt(t,"click").pipe(Oe(this._closed$)).subscribe(({target:r})=>{t===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(gm.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){let i=t.querySelector("[ngbAutofocus]"),r=JC(t)[0];(i||r||t).focus()}}_restoreFocus(){let t=this._document.body,i=this._elWithFocus,r;i&&i.focus&&t.contains(i)?r=i:r=t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Mi(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=Je({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&u0(FF,7),i&2){let o;Bh(o=jh())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){i&2&&(Eo("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),wl("modal d-block"+(r.windowClass?" "+r.windowClass:"")),To("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[No],ngContentSelectors:PF,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(l0(),Ae(0,"div",1,0)(2,"div",2),c0(3),Re()()),i&2&&wl("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return e})(),XF=(()=>{class e{constructor(){this._applicationRef=g(St),this._injector=g(Me),this._environmentInjector=g(we),this._document=g(me),this._scrollBar=g(ZF),this._activeWindowCmptHasChanged=new Y,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ge;let t=g(j);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];GF(t,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){let o=r.container instanceof HTMLElement?r.container:fm(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let s=new hu;t=r.injector||t;let a=t.get(we,null)||this._environmentInjector,l=this._getContentRef(t,a,i,s,r),c=r.backdrop!==!1?this._attachBackdrop(o):void 0,u=this._attachWindowComponent(o,l.nodes),d=new pm(u,l,c,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(u),d.hidden.pipe(ze(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=h=>{d.close(h)},s.dismiss=h=>{d.dismiss(h)},s.update=h=>{d.update(h)},d.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=Al(KF,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=Al(JF,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_getContentRef(t,i,r,o,s){return r?r instanceof tn?this._createFromTemplateRef(r,o):WC(r)?this._createFromString(r):this._createFromComponent(t,i,r,o,s):new Yr([])}_createFromTemplateRef(t,i){let r={$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}},o=t.createEmbeddedView(r);return this._applicationRef.attachView(o),new Yr([o.rootNodes],o)}_createFromString(t){let i=this._document.createTextNode(`${t}`);return new Yr([[i]])}_createFromComponent(t,i,r,o,s){let a=Me.create({providers:[{provide:hu,useValue:o}],parent:t}),l=Al(r,{environmentInjector:i,elementInjector:a}),c=l.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new Yr([[c]],l.hostView,l)}_setAriaHidden(t){let i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){let i=()=>{let r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{let i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),eL=(()=>{class e{constructor(){this._injector=g(Me),this._modalStack=g(XF),this._config=g(qF)}open(t,i={}){let r=w(X(w({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),tE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({providers:[eL]})}}return e})();var nE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var iE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var rE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var oE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var sE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var aE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var lE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var cE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var uE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var eW=new b("live announcer delay",{providedIn:"root",factory:()=>100});var dE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})();var hE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({})}}return e})(),tL=[ZC,KC,QC,YC,XC,eE,tE,nE,hE,iE,rE,oE,sE,aE,lE,cE,uE,dE],fE=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=L({type:e})}static{this.\u0275inj=F({imports:[tL,ZC,KC,QC,YC,XC,eE,tE,nE,hE,iE,rE,oE,sE,aE,lE,cE,uE,dE]})}}return e})();var fu=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=L({type:e});static \u0275inj=F({imports:[kl]})};var pE={production:!1,firebaseConfig:{apiKey:"AIzaSyDFaAYWOBNdPZktcgfIGIvIl4hyLSZaxDg",authDomain:"foodshop-4301b.firebaseapp.com",databaseURL:"https://foodshop-4301b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"foodshop-4301b",storageBucket:"foodshop-4301b.firebasestorage.app",messagingSenderId:"173086201356",appId:"1:173086201356:web:b4e8214f707e93fd1ac029",measurementId:"G-TB2EQGQZSM"}};var pu=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=L({type:e,bootstrap:[uu]});static \u0275inj=F({providers:[eD()],imports:[uD,uc,fE,GC,fu,cs,vb.initializeApp(pE.firebaseConfig),$C]})};cD().bootstrapModule(pu,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
